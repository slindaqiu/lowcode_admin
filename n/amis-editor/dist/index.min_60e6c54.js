amis.define('39ea9ea', function(require, exports, module, define) {

  (()=>{"use strict";var e={7528:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),n||(n=l.createElement("path",{d:"M810.667 853.333H213.333a42.667 42.667 0 000 85.334h597.334a42.667 42.667 0 000-85.334zm-328.96-97.706a42.667 42.667 0 0014.08 8.96 40.107 40.107 0 0032.426 0 42.667 42.667 0 0014.08-8.96L712.96 584.96a42.667 42.667 0 00-60.587-60.587l-97.706 98.134V128a42.667 42.667 0 00-85.334 0v494.507l-97.706-98.134a42.667 42.667 0 10-60.587 60.587z"})))}},3248:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M755.627 481.707L584.96 311.04a42.667 42.667 0 10-60.587 60.587l98.134 97.706H128a42.667 42.667 0 000 85.334h494.507l-98.134 97.706a42.667 42.667 0 000 60.587 42.667 42.667 0 0060.587 0l170.667-170.667a42.667 42.667 0 008.96-14.08 42.667 42.667 0 000-32.426 42.667 42.667 0 00-8.96-14.08zM896 170.667a42.667 42.667 0 00-42.667 42.666v597.334a42.667 42.667 0 0085.334 0V213.333A42.667 42.667 0 00896 170.667z"})))}},8978:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:24,height:24,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fillRule:"evenodd"},l.createElement("path",{d:"M9 10.333v-3h12V4H9V1h13a2 2 0 012 2v5.333a2 2 0 01-1.85 1.995l-.15.005H9zM2 1h7v3H0V3a2 2 0 012-2z"}),l.createElement("path",{d:"M2 1h1v9.333H2a2 2 0 01-2-2V3a2 2 0 012-2zM2 13.667h1V23H2a2 2 0 01-2-2v-5.333a2 2 0 012-2zM6 1h3v9.333H6zM6 13.667h3V23H6zM21 13.667h1a2 2 0 012 2V21a2 2 0 01-2 2h-1v-9.333z"}),l.createElement("path",{d:"M0 7.333h9v3H2a2 2 0 01-2-2v-1zM9 13.667h13a2 2 0 012 2v1H9v-3zM2 13.667h7v3H0v-1a2 2 0 012-2zM9 20h15v1a2 2 0 01-2 2H9v-3zM0 20h9v3H2a2 2 0 01-2-2v-1z"}))))}},3535:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var n,l,i,o,r=a(6689);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s.apply(this,arguments)}const d=function(e){return r.createElement("svg",s({className:"clear_svg__icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:48,height:48},e),n||(n=r.createElement("defs",null,r.createElement("style",null))),l||(l=r.createElement("path",{d:"M452.225 146.9L111.637 487.488a33.223 33.223 0 01-47.132 0c-13.073-13.073-12.9-34.059 0-47.132L405.093 99.768a33.223 33.223 0 0147.132 0 33.223 33.223 0 010 47.132zM924.232 618.735L583.644 959.323a33.223 33.223 0 01-47.132 0c-13.073-13.073-12.901-34.06 0-47.132L877.1 571.603a33.223 33.223 0 0147.132 0c13.073 13.073 12.9 34.23 0 47.132zM451.193 620.799L348.157 723.835a33.223 33.223 0 01-47.132 0c-13.073-13.073-12.901-34.058 0-47.131L404.06 573.667a33.223 33.223 0 0147.132 0c13.073 13.073 13.073 34.23 0 47.132zM298.444 524.987l-74.654 74.654a33.223 33.223 0 01-47.132 0c-13.073-13.073-12.9-34.059 0-47.132l74.655-74.654a33.223 33.223 0 0147.131 0c12.902 13.073 12.902 34.231 0 47.132zM545.285 772l-74.654 74.653a33.223 33.223 0 01-47.132 0c-13.073-13.073-12.901-34.058 0-47.131l74.654-74.655a33.223 33.223 0 0147.132 0 33.223 33.223 0 010 47.132z"})),i||(i=r.createElement("path",{d:"M536.34 959.323L64.505 487.66a33.223 33.223 0 010-47.132c13.073-13.073 34.06-12.9 47.132 0l471.835 471.835a33.223 33.223 0 010 47.132c-13.073 12.9-34.059 12.9-47.132-.172zM732.264 763.57L260.43 291.737a33.223 33.223 0 010-47.132c13.073-13.073 34.06-12.901 47.132 0L779.224 716.44a33.223 33.223 0 010 47.132c-12.901 13.073-34.059 12.9-46.96 0zM912.363 219.49L804.682 111.637a33.223 33.223 0 010-47.132c13.073-13.073 34.059-12.9 47.132 0l107.68 107.853a33.223 33.223 0 010 47.132c-13.072 13.073-34.23 13.073-47.131 0zM587.256 328.719L405.437 146.9a33.223 33.223 0 010-47.132c13.073-13.073 34.06-12.9 47.132 0L634.56 281.76a33.223 33.223 0 010 47.132c-13.073 12.901-34.23 12.901-47.304-.172zM877.1 618.563l-181.819-181.82a33.223 33.223 0 010-47.131c13.073-13.073 34.059-12.901 47.132 0l181.99 181.99a33.223 33.223 0 010 47.133c-13.072 12.9-34.23 12.9-47.303-.172z"})),o||(o=r.createElement("path",{d:"M959.323 219.49L742.24 436.572a33.223 33.223 0 01-47.132 0c-13.073-13.073-12.901-34.059 0-47.132l217.082-217.082a33.223 33.223 0 0147.132 0c13.073 12.901 13.073 34.059 0 47.132zM851.642 111.637L634.388 328.72a33.223 33.223 0 01-47.132 0c-13.073-13.073-12.9-34.059 0-47.132L804.51 64.505a33.223 33.223 0 0147.132 0c13.073 13.073 12.9 34.06 0 47.132z"})))}},329:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:16,height:16,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{fill:"#83868C",fillRule:"nonzero",d:"M8 11L4 6h8z"})))}},1957:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:15,height:15,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M11 1.6a2.4 2.4 0 012.394 2.236L13.4 4v5a2.4 2.4 0 01-2.236 2.394L11 11.4l-.633.001A2.4 2.4 0 018 13.4H4A2.4 2.4 0 011.6 11V6A2.4 2.4 0 014 3.6h.632a2.392 2.392 0 012.195-1.994L6.99 1.6H11zM8 4.4H4A1.6 1.6 0 002.4 6v5A1.6 1.6 0 004 12.6h4A1.6 1.6 0 009.6 11V6A1.6 1.6 0 008 4.4zm-2.2 5.7c.11 0 .2.09.2.2v.4a.2.2 0 01-.2.2H3.717a.2.2 0 01-.2-.2v-.4c0-.11.09-.2.2-.2H5.8zM11 2.4H6.99c-.743 0-1.368.51-1.542 1.2H8A2.4 2.4 0 0110.4 6l-.001 4.6H11a1.6 1.6 0 001.593-1.454L12.6 9V4a1.6 1.6 0 00-1.454-1.593L11 2.4zM8.3 8.1c.11 0 .2.09.2.2v.4a.2.2 0 01-.2.2H3.717a.2.2 0 01-.2-.2v-.4c0-.11.09-.2.2-.2H8.3zm0-2c.11 0 .2.09.2.2v.4a.2.2 0 01-.2.2H3.717a.2.2 0 01-.2-.2v-.4c0-.11.09-.2.2-.2H8.3z",fill:"#FFF",fillRule:"nonzero"})))}},1476:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:24,height:23,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fillRule:"evenodd"},l.createElement("rect",{x:1.5,y:7.5,width:15,height:14,rx:2}),l.createElement("path",{d:"M6 2a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2h-4v-2.6h3v-12H9V6H6V2z",fillRule:"nonzero"}))))}},1936:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:13,height:14,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M12.833 2.499V3.5H11.33l.001 10h-9v-10H.832V2.499h12zM10.331 3.5h-7v9h7v-9zm-4.5 2.999v4h-1v-4h1zm3 0v4h-1v-4h1zM8.832.5v.999h-4V.5h4z",fill:"currentColor",fillRule:"evenodd"})))}},5554:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:14,height:14,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("path",{d:"M0 0h14v14H0z"}),l.createElement("path",{d:"M9.25 1.1a.4.4 0 01.392.32l.008.08v1.153h3.15c.11 0 .2.09.2.2v.4a.2.2 0 01-.2.2h-1.65v7.044a2.4 2.4 0 01-2.236 2.395l-.164.005h-3.5a2.4 2.4 0 01-2.394-2.235l-.006-.165-.001-7.044H1.2a.2.2 0 01-.2-.2v-.4c0-.11.09-.2.2-.2h3.149L4.35 1.5a.4.4 0 01.32-.392l.08-.008h4.5zm1.1 2.353H3.649l.001 7.044a1.6 1.6 0 001.454 1.594l.146.006h3.5a1.6 1.6 0 001.593-1.454l.007-.146V3.453zM4.816 4.997l.4.006a.2.2 0 01.198.202l-.065 5.1a.2.2 0 01-.202.198l-.4-.006a.2.2 0 01-.198-.202l.065-5.1a.2.2 0 01.202-.198zm2 0l.4.006a.2.2 0 01.198.202l-.065 5.1a.2.2 0 01-.202.198l-.4-.006a.2.2 0 01-.198-.202l.065-5.1a.2.2 0 01.202-.198zm2 0l.4.006a.2.2 0 01.198.202l-.065 5.1a.2.2 0 01-.202.198l-.4-.006a.2.2 0 01-.198-.202l.065-5.1a.2.2 0 01.202-.198zM8.85 1.9h-3.7v.753h3.7V1.9z",fill:"#FFF",fillRule:"nonzero"}))))}},2105:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:17,height:16,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M14.333 3.499V4.5H12.83l.001 10h-9v-10H2.332V3.499h12zM11.831 4.5h-7v9h7v-9zm-4.5 2.999v4h-1v-4h1zm3 0v4h-1v-4h1zm.001-5.999v.999h-4V1.5h4z",fill:"currentColor",fillRule:"evenodd"})))}},8351:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:24,height:23,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fillRule:"evenodd"},l.createElement("path",{opacity:.66,d:"M11 9.5v9H8v-9zM16 9.5v9h-3v-9z"}),l.createElement("path",{d:"M16 0a2 2 0 012 2v3h4.5a1.5 1.5 0 010 3H21v13a2 2 0 01-2 2H5a2 2 0 01-2-2V8H1.5a1.5 1.5 0 010-3H6V2a2 2 0 012-2h8zm2 8H6v12h12V8zm-3-5H9v2h6V3z",fillRule:"nonzero",opacity:.6}))))}},2356:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var n,l,i=a(6689);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}const r=function(e){return i.createElement("svg",o({className:"dialog_svg__icon",viewBox:"0 0 1155 1024",xmlns:"http://www.w3.org/2000/svg",width:225.586,height:200},e),n||(n=i.createElement("defs",null,i.createElement("style",null))),l||(l=i.createElement("path",{d:"M1076.512 315.077H840.204V78.769A78.77 78.77 0 00761.435 0H78.77A78.77 78.77 0 000 78.77V498.87a78.77 78.77 0 0078.77 78.77h14.939l-9.295 23.368a78.77 78.77 0 0073.124 107.913 76.879 76.879 0 0038.23-9.977l119.309-66.166v181.169a78.77 78.77 0 0078.769 78.769h347.188l218.453 121.305a76.879 76.879 0 0038.256 9.977 78.77 78.77 0 0073.15-107.914l-9.295-23.368h14.914a78.77 78.77 0 0078.769-78.77V393.847a78.77 78.77 0 00-78.77-78.77zm-761.435 78.769v148.873l-157.539 87.434 52.513-131.282H78.77V78.77h682.666v236.308h-367.59a78.77 78.77 0 00-78.768 78.769zm761.435 420.102H945.23l52.513 131.282-236.308-131.282h-367.59V393.846h682.667v420.102zm-577.64-262.564h472.614a39.385 39.385 0 000-78.77H498.871a39.385 39.385 0 000 78.77zm0 157.538h472.614a39.385 39.385 0 000-78.769H498.871a39.385 39.385 0 000 78.77z"})))}},4525:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var n,l,i,o=a(6689);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}const s=function(e){return o.createElement("svg",r({width:16,height:16,viewBox:"0 0 22 14"},e),n||(n=o.createElement("path",{opacity:.15,d:"M19 3v8H3V3h16m1-1H2v10h18V2z"})),l||(l=o.createElement("path",{d:"M19.8 1H2.2A1.2 1.2 0 001 2.2v9.6A1.2 1.2 0 002.2 13h17.6a1.2 1.2 0 001.2-1.2V2.2A1.2 1.2 0 0019.8 1zm.2 11H2V2h18v10z"})),i||(i=o.createElement("path",{opacity:.35,d:"M3 3h16v8H3z"})))}},2109:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n,l,i,o,r,s,d,c,p=a(6689);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u.apply(this,arguments)}const m=function(e){return p.createElement("svg",u({width:16,height:16,viewBox:"0 0 23 14"},e),n||(n=p.createElement("path",{d:"M21 2v10H2V2h19zm1-1H1v12h21V1z",opacity:.15})),l||(l=p.createElement("path",{d:"M1.2 0A1.2 1.2 0 000 1.2v11.6A1.2 1.2 0 001.2 14h20.6a1.2 1.2 0 001.2-1.2V1.2A1.2 1.2 0 0021.8 0H1.2zM22 13H1V1h21v12z"})),i||(i=p.createElement("path",{opacity:.4,d:"M3 3h5v8H3z"})),o||(o=p.createElement("path",{d:"M4 4v6h3V4H4zm4-1v8H3V3h5z"})),r||(r=p.createElement("path",{opacity:.4,d:"M9 3h5v8H9z"})),s||(s=p.createElement("path",{d:"M10 4v6h3V4h-3zm4-1v8H9V3h5z"})),d||(d=p.createElement("path",{opacity:.4,d:"M15 3h5v8h-5z"})),c||(c=p.createElement("path",{d:"M16 4v6h3V4h-3zm4-1v8h-5V3h5z"})))}},3054:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var n,l,i,o=a(6689);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}const s=function(e){return o.createElement("svg",r({width:16,height:16,viewBox:"0 0 28 14"},e),n||(n=o.createElement("path",{d:"M25 3v8H3V3h22m1-1H2v10h24V2z",opacity:.15})),l||(l=o.createElement("path",{opacity:.35,d:"M8.418 9.8H7.66L7.25 11h1.58l-.232-.676-.18-.525zM3 11h.567l2.916-7.94h3.15L11 6.78V3H3v8zm15.12-1.002a3.302 3.302 0 01-.48-.586c-.173.343-.42.653-.73.888.002 0 .004-.002.005-.003l-.008.006.003-.003a3.145 3.145 0 01-1.092.55c-.4.11-.825.15-1.303.15h6.017a4.416 4.416 0 01-1.12-.215 3.51 3.51 0 01-1.292-.787zM14.237 3c.49 0 .853.014 1.167.06.335.05.656.16.953.314h.003l.004.003c.365.19.694.492.898.866.13.234.197.49.24.747.16-.298.343-.58.578-.82v-.002c.358-.366.8-.643 1.287-.826a4.373 4.373 0 011.557-.272 5.67 5.67 0 011.442.18l.01.002.01.003c.205.06.4.126.59.208.15.064.283.125.407.185l.562.274v3.016h-1.54l-.28-.24a7.018 7.018 0 00-.233-.188 2.703 2.703 0 00-.26-.175 1.594 1.594 0 00-.277-.125h-.006l-.2-.03a.772.772 0 00-.26.042l-.16.102a.63.63 0 00-.13.22 1.486 1.486 0 00-.075.516c0 .266.04.436.074.513a.59.59 0 00.13.212l.15.09h.003a.868.868 0 00.265.045l.236-.037h.008a1.04 1.04 0 00.25-.113l.007-.004.01-.005.24-.16a6.41 6.41 0 00.216-.17l.285-.254h1.536v3.017l-.59.266c-.15.066-.292.13-.422.184a4.19 4.19 0 01-.53.19 5.918 5.918 0 01-.636.15c-.076.012-.16.02-.24.026H25V3H14.237z"})),i||(i=o.createElement("path",{d:"M25.8 1H2.2A1.2 1.2 0 001 2.2v9.6A1.2 1.2 0 002.2 13h23.6a1.2 1.2 0 001.2-1.2V2.2A1.2 1.2 0 0025.8 1zm.2 11H2V2h24v10zm-7.186-2.72c.258.248.567.435.927.56s.76.19 1.18.19c.29 0 .51-.014.68-.042.167-.028.34-.07.53-.123.143-.04.28-.09.41-.146l.412-.19V8.16h-.154c-.07.06-.157.134-.265.22a3.337 3.337 0 01-.35.237 2.11 2.11 0 01-.485.22 1.798 1.798 0 01-1.1-.01 1.403 1.403 0 01-.523-.3c-.15-.14-.28-.33-.38-.57a2.36 2.36 0 01-.152-.9c0-.347.047-.64.14-.88s.216-.433.367-.58c.157-.15.33-.26.517-.325a1.786 1.786 0 011.116-.014c.164.056.316.125.457.206a4.868 4.868 0 01.644.466h.17V4.54a13.03 13.03 0 00-.367-.168 3.667 3.667 0 00-1.005-.27 4.736 4.736 0 00-.65-.04c-.436 0-.837.07-1.205.207s-.675.333-.924.59c-.26.262-.457.58-.59.95S18 6.6 18 7.055c0 .488.07.918.213 1.29s.343.683.6.933zm-3.264.607c.272-.076.52-.2.75-.38.195-.15.35-.338.46-.567.113-.23.17-.488.17-.778 0-.4-.11-.722-.332-.967-.22-.245-.52-.406-.896-.484v-.03a1.46 1.46 0 00.623-.51 1.36 1.36 0 00.22-.77c0-.25-.052-.47-.16-.665a1.15 1.15 0 00-.49-.465 2.065 2.065 0 00-.64-.215A7.67 7.67 0 0014.237 4H12v6h2.515c.418 0 .763-.037 1.035-.113zM13.478 5.1h.14c.29 0 .517.002.678.006s.296.027.404.07c.12.05.206.123.253.223a.69.69 0 01.072.29.86.86 0 01-.062.34c-.042.1-.13.18-.263.24a1.05 1.05 0 01-.39.08c-.166.007-.366.01-.6.01h-.233V5.1zm.108 3.8h-.108V7.405h.324c.222 0 .434 0 .638.004.203 0 .363.02.48.05.17.05.29.13.36.23s.106.25.106.44c0 .144-.03.272-.087.384s-.17.2-.32.27a1.257 1.257 0 01-.5.104c-.18.003-.48.004-.9.004zm-6.64-.1h2.187l.41 1.2h1.574L8.935 4.06H7.182L5 10h1.535l.412-1.2zM8.04 5.58l.727 2.13H7.313l.727-2.13z"})))}},7545:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:16,height:16,viewBox:"0 0 20 8"},e),n||(n=l.createElement("path",{d:"M14.814 6.25c.258.248.567.435.927.56s.76.19 1.18.19c.29 0 .51-.014.68-.042.167-.028.34-.07.53-.123.143-.04.28-.09.41-.146l.41-.19V5.13h-.153c-.07.06-.157.134-.265.22a3.337 3.337 0 01-.35.237 2.11 2.11 0 01-.484.22 1.798 1.798 0 01-1.1-.01 1.403 1.403 0 01-.523-.3 1.566 1.566 0 01-.38-.57c-.1-.24-.152-.54-.152-.9 0-.346.048-.638.14-.878s.217-.437.368-.58c.16-.155.33-.26.52-.33a1.786 1.786 0 011.117-.013c.165.055.317.124.458.205a4.385 4.385 0 01.643.47h.17V1.52c-.107-.05-.23-.107-.37-.168a3.613 3.613 0 00-1.003-.27 4.736 4.736 0 00-.65-.04c-.436 0-.837.07-1.205.207s-.674.33-.923.59c-.26.26-.458.58-.59.95S14 3.57 14 4.02c0 .488.07.918.213 1.29s.343.683.6.933zm-3.264.608c.272-.075.52-.2.75-.377a1.5 1.5 0 00.46-.56 1.72 1.72 0 00.17-.77c0-.4-.11-.72-.332-.96-.22-.244-.52-.404-.896-.48v-.04a1.46 1.46 0 00.623-.516c.147-.22.22-.474.22-.763 0-.25-.052-.47-.16-.66a1.152 1.152 0 00-.49-.46 2.06 2.06 0 00-.64-.212A7.67 7.67 0 0010.237 1H8v5.97h2.515c.418 0 .763-.037 1.035-.112zM9.478 2.095h.14c.29 0 .517.002.678.006.162.01.296.03.404.07a.46.46 0 01.253.23.69.69 0 01.072.298.85.85 0 01-.062.34.492.492 0 01-.263.24 1.052 1.052 0 01-.39.08c-.166.006-.366.01-.6.01h-.232v-1.27zm.108 3.78h-.108V4.388h.324c.222 0 .434 0 .638.004a1.8 1.8 0 01.48.056c.17.05.29.127.36.23.07.104.106.25.106.44 0 .144-.03.272-.087.383s-.17.2-.32.27-.32.1-.5.11c-.18.004-.48.004-.9.004zm-6.64-.106h2.187l.41 1.2h1.574L4.935 1.03H3.182L1 6.97h1.535l.412-1.2zM4.04 2.55l.727 2.13H3.313l.727-2.13z"})))}},949:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:24,height:24,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{stroke:"currentColor",strokeLinejoin:"round",d:"M2.35 5.497l5.657 5.657 5.657-5.657",fill:"none",fillRule:"evenodd"})))}},2179:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:16,height:16,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fill:"#FFF",fillRule:"nonzero"},l.createElement("path",{d:"M10.263 4.52l-.283.283a.2.2 0 01-.283 0L8 3.105 6.303 4.803a.2.2 0 01-.283 0l-.283-.283a.2.2 0 010-.283l1.98-1.98a.4.4 0 01.503-.051l.063.051 1.98 1.98a.2.2 0 010 .283zM5.737 11.473l.283-.283a.2.2 0 01.283 0L8 12.888l1.697-1.698a.2.2 0 01.283 0l.283.283a.2.2 0 010 .283l-1.98 1.98a.4.4 0 01-.503.05l-.063-.05-1.98-1.98a.2.2 0 010-.283zM11.48 10.263l-.283-.283a.2.2 0 010-.283L12.895 8l-1.698-1.697a.2.2 0 010-.283l.283-.283a.2.2 0 01.283 0l1.98 1.98a.4.4 0 01.051.503l-.051.063-1.98 1.98a.2.2 0 01-.283 0zM4.546 5.737l.282.283a.2.2 0 010 .283L3.131 8l1.697 1.697a.2.2 0 010 .283l-.282.283a.2.2 0 01-.283 0l-1.98-1.98a.4.4 0 01-.051-.503l.05-.063 1.98-1.98a.2.2 0 01.284 0z"}),l.createElement("path",{d:"M8.4 3v4.7h4.7v.8H8.4V13h-.8V8.5H3.1v-.8l4.5-.001V3h.8z"}))))}},7918:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:7,height:12,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M5.167 10a1 1 0 110 2 1 1 0 010-2zm0-5a1 1 0 110 2 1 1 0 010-2zm0-5a1 1 0 110 2 1 1 0 010-2zm-4 10a1 1 0 110 2 1 1 0 010-2zm0-5a1 1 0 110 2 1 1 0 010-2zm0-5a1 1 0 110 2 1 1 0 010-2z",fill:"#84868C",fillRule:"evenodd"})))}},6403:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:24,height:24,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinejoin:"round"},l.createElement("path",{d:"M11.536 3.05l1.414 1.414-7.778 7.779-1.395.019-.02-1.434zM9.414 4.464l2.122 2.122M1.5 14h13"}))))}},813:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({fill:"currentColor",width:16,height:16,viewBox:"0 0 1024 1024","data-spm-anchor-id":"a1z1go8z.25060599.0.i11.71e369e4cItcn5"},e),n||(n=l.createElement("path",{d:"M750.848 28.928l245.248 242.944a66.048 66.048 0 11-93.184 93.184l-25.6-19.456-249.6 353.792 78.336 78.336a66.048 66.048 0 01-93.184 92.672l-460.8-464.64a66.048 66.048 0 0193.184-93.184l76.8 78.336 354.048-249.856-18.176-18.944a66.048 66.048 0 1193.184-93.184zM380.672 732.416l-91.904-90.88c-74.24 89.6-191.488 219.904-212.736 247.04a419.84 419.84 0 00-70.656 128 419.84 419.84 0 00128-70.144c27.136-21.248 157.44-138.496 246.528-214.016z","data-spm-anchor-id":"a1z1go8z.25060599.0.i9.71e369e4cItcn5"})))}},3896:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var n,l,i=a(6689);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}const r=function(e){return i.createElement("svg",o({className:"hammer_svg__icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),n||(n=i.createElement("defs",null,i.createElement("style",null))),l||(l=i.createElement("path",{d:"M947.9 761.4l-264-263.9c-16.3-16.3-43.1-16.3-59.4 0l-19.8 19.8-161-161L708.1 91.9H428L303.6 216.2l-12.3-12.3h-59.4v59.4l12.3 12.3L63.9 456l140 140 180.3-180.3 161.1 161.1-19.8 19.8c-16.3 16.3-16.3 43.1 0 59.4l263.9 263.9c16.3 16.3 43.1 16.3 59.4 0l99-99c16.4-16.4 16.4-43.1.1-59.5z"})))}},2078:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),n||(n=l.createElement("path",{d:"M896 469.333H401.493l98.134-97.706a42.667 42.667 0 10-60.587-60.587L268.373 481.707a42.667 42.667 0 00-8.96 14.08 42.667 42.667 0 000 32.426 42.667 42.667 0 008.96 14.08L439.04 712.96a42.667 42.667 0 0060.587 0 42.667 42.667 0 000-60.587l-98.134-97.706H896a42.667 42.667 0 000-85.334zM128 128a42.667 42.667 0 00-42.667 42.667v682.666a42.667 42.667 0 0085.334 0V170.667A42.667 42.667 0 00128 128z"})))}},5519:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:24,height:24,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fillRule:"evenodd"},l.createElement("rect",{x:1,y:1,width:22,height:3,rx:1.5}),l.createElement("rect",{x:1,y:7,width:22,height:3,rx:1.5}),l.createElement("rect",{x:1,y:20,width:22,height:3,rx:1.5}),l.createElement("path",{d:"M12.376 17.07l2.398-2.74a.5.5 0 00-.376-.83H9.602a.5.5 0 00-.376.83l2.398 2.74a.5.5 0 00.752 0z"}))))}},145:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:14,height:14,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("path",{d:"M0 0h14v14H0z"}),l.createElement("circle",{fill:"#FFF",cx:2.8,cy:7,r:1}),l.createElement("circle",{fill:"#FFF",cx:11.2,cy:7,r:1}),l.createElement("circle",{fill:"#FFF",cx:7,cy:7,r:1}))))}},4028:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var n,l,i=a(6689);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}const r=function(e){return i.createElement("svg",o({fill:"currentColor",width:16,height:16,viewBox:"0 0 1024 1024","data-spm-anchor-id":"a1z1go8z.25060599.0.i10.71e369e4cItcn5"},e),n||(n=i.createElement("path",{d:"M160.256 816.64C116.224 872.448 102.4 921.6 102.4 921.6s49.152-13.824 104.96-57.856c22.016-17.408 128-112.64 200.704-174.08l-73.728-73.728c-61.44 72.704-157.184 178.688-174.08 200.704zm488.448-607.232l-206.336 145.92 226.304 226.304 145.92-206.336 15.872 15.872c20.992 20.992 54.784 20.992 75.776 0s20.992-54.784 0-75.776l-197.12-197.12c-20.992-20.992-54.784-20.992-75.776 0-20.992 20.992-20.992 54.784 0 75.776l15.36 15.36zm-400.896 125.44c-9.728 2.048-18.944 6.656-26.624 14.336-20.992 20.992-20.992 54.784 0 75.776L599.04 802.816c20.992 20.992 54.784 20.992 75.776 0 7.68-7.68 12.288-16.896 14.336-26.624L247.808 334.848z","data-spm-anchor-id":"a1z1go8z.25060599.0.i12.71e369e4cItcn5"})),l||(l=i.createElement("path",{d:"M840.704 879.104c-9.728 0-19.456-3.584-27.136-11.264l-657.92-657.408c-14.848-14.848-14.848-39.424 0-54.272 14.848-14.848 39.424-14.848 54.272 0l657.92 657.92c14.848 14.848 14.848 39.424 0 54.272-7.168 7.168-16.896 10.752-27.136 10.752z","data-spm-anchor-id":"a1z1go8z.25060599.0.i13.71e369e4cItcn5"})))}},3849:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:16,height:16,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M8.5 2v5.5H14v1H8.5V14h-1V8.5H2v-1h5.5V2h1z",fill:"currentColor",fillRule:"evenodd"})))}},8983:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),n||(n=l.createElement("path",{d:"M542.293 268.373a42.667 42.667 0 00-14.08-8.96 42.667 42.667 0 00-32.426 0 42.667 42.667 0 00-14.08 8.96L311.04 439.04a42.667 42.667 0 1060.587 60.587l97.706-98.134V896a42.667 42.667 0 0085.334 0V401.493l97.706 98.134a42.667 42.667 0 0060.587 0 42.667 42.667 0 000-60.587zm268.374-183.04H213.333a42.667 42.667 0 000 85.334h597.334a42.667 42.667 0 000-85.334z"})))}},8467:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:24,height:24,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{stroke:"currentColor",strokeLinejoin:"round",d:"M13.664 10.507L8.007 4.85 2.35 10.507",fill:"none",fillRule:"evenodd"})))}},4201:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var n,l,i=a(6689);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}const r=function(e){return i.createElement("svg",o({width:45,height:45,viewBox:"0 0 28 29",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),n||(n=i.createElement("defs",null,i.createElement("radialGradient",{cx:"69.986%",cy:"19.319%",fx:"69.986%",fy:"19.319%",r:"49.554%",gradientTransform:"scale(-1 -.71033) rotate(-39.868 -.641 1.89)",id:"up-btn_svg__e"},i.createElement("stop",{stopColor:"#FFF",offset:"0%"}),i.createElement("stop",{stopColor:"#FFF",stopOpacity:0,offset:"100%"})),i.createElement("radialGradient",{cx:"77.918%",cy:"13.589%",fx:"77.918%",fy:"13.589%",r:"45.882%",id:"up-btn_svg__j"},i.createElement("stop",{stopColor:"#FFF",offset:"0%"}),i.createElement("stop",{stopColor:"#FFF",stopOpacity:0,offset:"100%"})),i.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"up-btn_svg__a"},i.createElement("stop",{stopColor:"#0752E9",offset:"0%"}),i.createElement("stop",{stopColor:"#2468F2",offset:"100%"})),i.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"up-btn_svg__g"},i.createElement("stop",{stopColor:"#0752E9",offset:"0%"}),i.createElement("stop",{stopColor:"#2468F2",offset:"100%"})),i.createElement("filter",{x:"-75%",y:"-75%",width:"250%",height:"250%",filterUnits:"objectBoundingBox",id:"up-btn_svg__c"},i.createElement("feGaussianBlur",{stdDeviation:7,in:"SourceGraphic"})),i.createElement("filter",{x:"-100%",y:"-100%",width:"300%",height:"300%",filterUnits:"objectBoundingBox",id:"up-btn_svg__h"},i.createElement("feGaussianBlur",{stdDeviation:2,in:"SourceGraphic"})),i.createElement("circle",{id:"up-btn_svg__f",cx:3,cy:2.5,r:2.5}),i.createElement("path",{d:"M8 0l.335.276a13.981 13.981 0 015.075 11.687c1.592 1.198 2.59 3.019 2.59 5.35 0 1.991-.727 3.812-1.93 5.212l-.72-2.16a3 3 0 00-2.846-2.051H5.496a3 3 0 00-2.846 2.051l-.72 2.16A7.969 7.969 0 010 17.314c0-2.332.998-4.153 2.59-5.352A13.977 13.977 0 017.665.276L8 0z",id:"up-btn_svg__b"}))),l||(l=i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"M14 5c7.732 0 14 6.268 14 14 0 3.728-1.457 7.116-3.834 9.625A6.967 6.967 0 0120 30a6.976 6.976 0 01-2.799-.582 10.339 10.339 0 01-2.974 3.889l-.113.09-.114.088a10.34 10.34 0 01-3.201-4.068A6.963 6.963 0 018 30c-1.56 0-3.002-.51-4.166-1.374A13.954 13.954 0 010 19C0 11.268 6.268 5 14 5z",fill:"url(#up-btn_svg__a)",transform:"translate(0 -5)"}),i.createElement("g",{transform:"translate(6 1.5)"},i.createElement("mask",{id:"up-btn_svg__d",fill:"#fff"},i.createElement("use",{xlinkHref:"#up-btn_svg__b"})),i.createElement("use",{fill:"#F2F2FF",xlinkHref:"#up-btn_svg__b"}),i.createElement("circle",{fill:"#2468F2",filter:"url(#up-btn_svg__c)",mask:"url(#up-btn_svg__d)",cx:19,cy:-2,r:14}),i.createElement("path",{d:"M8 0l.335.276a13.981 13.981 0 015.075 11.687c1.592 1.198 2.59 3.019 2.59 5.35 0 1.991-.727 3.812-1.93 5.212l-.72-2.16a3 3 0 00-2.662-2.046l-.184-.005H5.496a3 3 0 00-2.783 1.879l-.063.172-.72 2.16A7.969 7.969 0 010 17.314c0-2.332.998-4.153 2.59-5.352A13.977 13.977 0 017.497.416L8 0zm0 .647l-.179.15a13.472 13.472 0 00-4.75 10.762l.018.372.017.268-.215.162C1.354 13.52.5 15.226.5 17.314c0 1.39.38 2.72 1.077 3.874l.178.28.425-1.275.069-.187a3.5 3.5 0 013.043-2.186l.204-.006h5.024l.198.006a3.5 3.5 0 013.04 2.205l.067.182.42 1.261.012-.017a7.459 7.459 0 001.236-3.818l.007-.32c0-1.992-.778-3.638-2.185-4.79l-.205-.16-.215-.163.016-.268A13.478 13.478 0 008.303.904L8 .647z",fillOpacity:.7,fill:"url(#up-btn_svg__e)",mask:"url(#up-btn_svg__d)"})),i.createElement("g",{transform:"translate(11 6.814)"},i.createElement("mask",{id:"up-btn_svg__i",fill:"#fff"},i.createElement("use",{xlinkHref:"#up-btn_svg__f"})),i.createElement("use",{fill:"url(#up-btn_svg__g)",xlinkHref:"#up-btn_svg__f"}),i.createElement("path",{fill:"#2468F2",filter:"url(#up-btn_svg__h)",mask:"url(#up-btn_svg__i)",d:"M3-3h6v6H3z"})),i.createElement("path",{d:"M8 11.314a2.5 2.5 0 110 5 2.5 2.5 0 010-5zm0 .5a2 2 0 100 4 2 2 0 000-4z",fillOpacity:.7,fill:"url(#up-btn_svg__j)",transform:"translate(6 -4.5)"}))))}},4841:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var n,l,i=a(6689);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}const r=function(e){return i.createElement("svg",o({width:32,height:32,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),n||(n=i.createElement("defs",null,i.createElement("linearGradient",{x1:"100%",y1:"101.089%",x2:"0%",y2:"-14.125%",id:"back-up_svg__c"},i.createElement("stop",{stopColor:"#FFF",offset:"0%"}),i.createElement("stop",{stopColor:"#FFF8F8",offset:"46.533%"}),i.createElement("stop",{stopColor:"#DDFEEB",offset:"100%"})),i.createElement("linearGradient",{x1:"100%",y1:"51.269%",x2:"0%",y2:"48.407%",id:"back-up_svg__f"},i.createElement("stop",{stopColor:"#FFF",offset:"0%"}),i.createElement("stop",{stopColor:"#FFF8F8",offset:"46.533%"}),i.createElement("stop",{stopColor:"#DDFEEB",offset:"100%"})),i.createElement("filter",{x:"-24.3%",y:"-19.2%",width:"148.6%",height:"153.6%",filterUnits:"objectBoundingBox",id:"back-up_svg__a"},i.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),i.createElement("feGaussianBlur",{stdDeviation:1,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),i.createElement("feColorMatrix",{values:"0 0 0 0 0.179423161 0 0 0 0 0.342133642 0 0 0 0 0.637515745 0 0 0 0.650991587 0",in:"shadowBlurOuter1"})),i.createElement("filter",{x:"-25%",y:"-125%",width:"150%",height:"450%",filterUnits:"objectBoundingBox",id:"back-up_svg__d"},i.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),i.createElement("feGaussianBlur",{stdDeviation:1,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),i.createElement("feColorMatrix",{values:"0 0 0 0 0.179423161 0 0 0 0 0.342133642 0 0 0 0 0.637515745 0 0 0 0.650991587 0",in:"shadowBlurOuter1"})),i.createElement("rect",{id:"back-up_svg__e",x:0,y:0,width:14,height:2,rx:1}),i.createElement("path",{d:"M15.962 12.004c.157.01.312.056.452.139l.101.07.095.082L23 18.322a1 1 0 01-1.32 1.498l-.094-.083-4.61-4.315.001 8.788c0 .466-.447.843-1 .843-.512 0-.935-.325-.993-.745l-.007-.098v-8.866l-4.372 4.393a1 1 0 01-1.497-1.32l.083-.095 6.004-6.027a.996.996 0 01.648-.29h.119z",id:"back-up_svg__b"}))),l||(l=i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("rect",{fill:"#2468F2",width:32,height:32,rx:16}),i.createElement("g",{fillRule:"nonzero"},i.createElement("use",{fill:"#000",filter:"url(#back-up_svg__a)",xlinkHref:"#back-up_svg__b"}),i.createElement("use",{fill:"url(#back-up_svg__c)",xlinkHref:"#back-up_svg__b"})),i.createElement("g",{transform:"translate(9 7.702)",fillRule:"nonzero"},i.createElement("use",{fill:"#000",filter:"url(#back-up_svg__d)",xlinkHref:"#back-up_svg__e"}),i.createElement("use",{fill:"url(#back-up_svg__f)",xlinkHref:"#back-up_svg__e"})))))}},4740:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:16,height:16,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("path",{d:"M0 0h48v48H0z"}),l.createElement("path",{d:"M14 14h20v20H14z"}),l.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinejoin:"round",d:"M16.5 17.75h15v12.5h-15z"}),l.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",d:"M25.709 20.841l-3.362 6.284"}),l.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round",d:"M27.643 22.233l1.768 1.768-1.766 1.766M20.582 22.233l-1.768 1.768 1.766 1.766"}))))}},8636:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:16,height:16,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("path",{d:"M0 0h20v20H0z"}),l.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinejoin:"round",d:"M10 1.25l7.578 4.375v8.75L10 18.75l-7.578-4.375v-8.75z"}),l.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",d:"M5.824 7.826l3.955 2.418M14.054 7.826l-4.275 2.418M9.779 14.845v-4.601"}))))}},2479:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M12.233 5l-4.24 4.24L3.753 5l-.713.713 4.95 4.95.003-.003.003.003 4.95-4.95z"})))}},6777:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M7.976 1l.241.003A7 7 0 117.977 1zm.004 1l-.225.005A6 6 0 107.98 2zm.03 8.8a.6.6 0 11.004 1.2.6.6 0 01-.005-1.2zm-.024-6.787c1.3-.004 2.368 1.003 2.455 2.258l.007.18c.01.33-.07.742-.325 1.15-.258.414-.656.734-1.2.922l-.272.085c-.12.049-.144.159-.146.744v.407l-1 .003v-.296c.007-1.197.136-1.59.83-1.81l.12-.034c.406-.11.663-.3.82-.55.111-.18.16-.366.171-.51l.002-.102a1.453 1.453 0 00-2.9-.13l-.007.14-1 .002a2.453 2.453 0 012.445-2.46z"})))}},9872:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:16,height:16,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("path",{d:"M0 0h16v16H0z"}),l.createElement("path",{d:"M14.333 5.928l-4.26-4.26a.572.572 0 00-.813 0L6.475 4.455A5.698 5.698 0 002.27 5.67a.574.574 0 00-.047.854l3.142 3.142-3.724 3.72a.273.273 0 00-.08.17l-.059.643c-.015.163.114.301.275.301.009 0 .017 0 .026-.002l.643-.059a.273.273 0 00.17-.079l3.724-3.724 3.14 3.141a.572.572 0 00.855-.046 5.711 5.711 0 001.214-4.209l2.785-2.785a.573.573 0 000-.81zm-3.667 2.718l-.424.423.066.595a4.494 4.494 0 01-.526 2.661L3.678 6.217a4.471 4.471 0 012.66-.526l.595.066.424-.424 2.311-2.312 3.311 3.311-2.313 2.314zm0 0l-.424.423.066.595a4.494 4.494 0 01-.526 2.661L3.678 6.217a4.471 4.471 0 012.66-.526l.595.066.424-.424 2.311-2.312 3.311 3.311-2.313 2.314z",fill:"currentColor",fillRule:"nonzero"}))))}},5093:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:16,height:16,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fillRule:"nonzero",fill:"none"},l.createElement("path",{d:"M0 0h16v16H0z"}),l.createElement("path",{d:"M14.333 5.928l-4.26-4.26a.572.572 0 00-.813 0L6.475 4.455A5.698 5.698 0 002.27 5.67a.574.574 0 00-.047.854l3.142 3.142-3.724 3.72a.273.273 0 00-.08.17l-.059.643c-.015.163.114.301.275.301.009 0 .017 0 .026-.002l.643-.059a.273.273 0 00.17-.079l3.724-3.724 3.14 3.141a.572.572 0 00.855-.046 5.711 5.711 0 001.214-4.209l2.785-2.785a.573.573 0 000-.81zm-3.667 2.718l-.424.423.066.595a4.494 4.494 0 01-.526 2.661L3.678 6.217a4.471 4.471 0 012.66-.526l.595.066.424-.424 2.311-2.312 3.311 3.311-2.313 2.314z",fill:"currentColor"}))))}},1651:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:16,height:16,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("path",{d:"M0 0h48v48H0z"}),l.createElement("g",{transform:"translate(14 14)"},l.createElement("path",{d:"M0 0h20v20H0z"}),l.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",d:"M3.121 5.625v11.25M3.121 10.625h2.5M3.121 16.875h2.5"}),l.createElement("circle",{fill:"currentColor",cx:3.125,cy:4.375,r:1.875}),l.createElement("path",{stroke:"currentColor",strokeWidth:1.25,strokeLinejoin:"round",d:"M8.747 3.125h8.728v2.5H8.747zM8.747 8.75h8.728v2.5H8.747zM8.747 14.375h8.728v2.5H8.747z"})))))}},7221:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:16,height:16,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("path",{d:"M0 0h48v48H0z"}),l.createElement("g",{strokeWidth:1.25,stroke:"currentColor",strokeLinejoin:"round"},l.createElement("path",{d:"M16.701 16.702h5.848v5.848h-5.848zM25.456 16.702h5.848v5.848h-5.848zM16.701 25.451h5.848v5.848h-5.848zM25.456 25.451h5.848v5.848h-5.848z"})))))}},9119:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:16,height:16,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M3.713 3.001l4.95 4.95-.003.003.003.003-4.95 4.95L3 12.194l4.24-4.24L3 3.714l.713-.713zm3.997 0l4.95 4.948-.004.004.004.003-4.95 4.95-.713-.714 4.24-4.239-4.24-4.24L7.71 3z",fill:"currentColor",fillRule:"evenodd"})))}},3909:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({width:12,height:12,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("path",{d:"M6 12A6 6 0 116 0a6 6 0 010 12z",fill:"currentColor"}),l.createElement("path",{fill:"#FFF",d:"M8.475 4.232L6.707 6l1.768 1.768-.707.707L6 6.707 4.232 8.475l-.707-.707L5.293 6 3.525 4.232l.707-.707L6 5.293l1.768-1.768z"}))))}},3508:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M7.5 12A4.505 4.505 0 013 7.5C3 5.019 5.019 3 7.5 3S12 5.019 12 7.5 9.981 12 7.5 12zm6.294 1.089l-2.071-2.07A5.482 5.482 0 0013 7.5C13 4.468 10.533 2 7.5 2A5.506 5.506 0 002 7.5C2 10.532 4.467 13 7.5 13a5.475 5.475 0 003.516-1.274l2.071 2.071.707-.708z",fill:"currentColor",fillRule:"evenodd"})))}},8818:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n,l=a(6689);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const o=function(e){return l.createElement("svg",i({className:"shortcut_svg__icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:64,height:64},e),n||(n=l.createElement("path",{d:"M32 160h960v704H32V160zm64 64v576h832V224H96zm64 160h96v64h-96v-64zm0-96h64v64h-64v-64zm128 96h64v64h-64v-64zm-32-96h64v64h-64v-64zm128 96h64v64h-64v-64zm-32-96h64v64h-64v-64zm128 96h64v64h-64v-64zm-32-96h64v64h-64v-64zm128 96h64v64h-64v-64zm-32-96h64v64h-64v-64zm128 96h64v64h-64v-64zm96 0h96v64h-96v-64zm-128-96h64v64h-64v-64zm96 0h128v64H736v-64zM160 480h128v64H160v-64zm160 0h64v64h-64v-64zm96 0h64v64h-64v-64zm96 0h64v64h-64v-64zm96 0h64v64h-64v-64zm96 0h160v64H704v-64zm-544 96h160v64H160v-64zm192 0h64v64h-64v-64zm96 0h64v64h-64v-64zm96 0h64v64h-64v-64zm96 0h224v64H640v-64zm-480 96h128v64H160v-64zm576 0h128v64H736v-64zm-416 0h384v64H320v-64z",fill:"currentColor"})))}},9672:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BasicEditor=t.RendererEditor=void 0;var n=a(752),l=a(9756),i=a(9933);t.RendererEditor=function(e,t){return function(a){(0,l.registerEditorPlugin)(function(a){function l(n){var l=a.call(this,n)||this;return l.rendererName=e,l.name=l.tipName||t.name,l.description=t.description,l.scaffold=t.scaffold||{type:t.type},l.previewSchema=t.previewSchema||l.scaffold,l.settingsSchema&&(l.panelTitle=l.settingsSchema.title,l.panelControls=l.settingsSchema.body),l}return n.__extends(l,a),l}(a))}};var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t}(i.BasePlugin);t.BasicEditor=o},3164:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importDefault(a(6689)),i=a(6211),o=a(1502),r=a(2062),s=a(3570),d=function(e){function t(t){var a=e.call(this,t)||this;return a.breadcrumbRef=l.default.createRef(),a.bcnContentRef=l.default.createRef(),a.state={showLeftScrollBtn:!1,showRightScrollBtn:!1},a.unReaction=(0,i.reaction)((function(){return a.props.store.bcn}),(function(){a.refreshHandleScroll(!0)})),a}return n.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.getCurBreadcrumb(),a=this.getBreadcrumbContainer();t&&a&&(this.unSensor=(0,o.resizeSensor)(a,(function(){e.refreshHandleScroll()})))},t.prototype.componentWillUnmount=function(){this.unReaction(),this.unSensor&&(this.unSensor(),delete this.unSensor)},t.prototype.refreshHandleScroll=function(e){var t=this;setTimeout((function(){t.HandleScroll(e)}),0)},t.prototype.getCurBreadcrumb=function(){return this.bcnContentRef.current},t.prototype.getBreadcrumbContainer=function(){return this.breadcrumbRef.current},t.prototype.getScrollLeft=function(){var e=this.getCurBreadcrumb();return e?e.style.left:"0"},t.prototype.toNumber=function(e){return e?Number.parseInt(e):0},t.prototype.HandleScroll=function(e){var t=this.getCurBreadcrumb(),a=this.getBreadcrumbContainer();if(t&&a){var n=this.toNumber(this.getScrollLeft()),l=t.offsetWidth-a.offsetWidth;e&&(t.style.left="0"),this.setState({showLeftScrollBtn:n<0,showRightScrollBtn:n>-l})}},t.prototype.handleScrollToLeft=function(){var e=this.getCurBreadcrumb();if(e){var t=this.toNumber(this.getScrollLeft());t>=-50&&t<0?(e.style.left="0",this.refreshHandleScroll()):t<-50&&(e.style.left="".concat(t+50,"px"),this.refreshHandleScroll())}},t.prototype.handleScrollToRight=function(){var e=this.getCurBreadcrumb(),t=this.getBreadcrumbContainer();if(e&&t){var a=this.toNumber(this.getScrollLeft()),n=e.offsetWidth-t.offsetWidth;e.style.left=a-50>-n?"".concat(a-50,"px"):"-".concat(n,"px"),this.refreshHandleScroll()}},t.prototype.handleClick=function(e){var t,a=e.currentTarget,n=a.getAttribute("data-node-id"),l=a.getAttribute("data-node-region"),i=this.props.store,o=(this.props.manager,i.getNodeById(n));!1!==(null===(t=null==o?void 0:o.info)||void 0===t?void 0:t.editable)&&(l?i.setActiveId(n,l):i.setActiveId(n))},t.prototype.handleMouseEnter=function(e){var t=e.currentTarget,a=t.getAttribute("data-node-id"),n=t.getAttribute("data-node-region");this.props.store.setHoverId(a,n)},t.prototype.render=function(){var e=this,t=this.props.store,a=this.state,n=a.showLeftScrollBtn,i=a.showRightScrollBtn,r=t.bcn;return l.default.createElement("div",{className:"ae-Breadcrumb",ref:this.breadcrumbRef},n&&l.default.createElement("div",{className:"ae-Breadcrumb-scrollLeft-btn",onClick:this.handleScrollToLeft},l.default.createElement(o.Icon,{icon:"editor-double-arrow",className:"icon"})),l.default.createElement("div",{className:"ae-Breadcrumb-content",ref:this.bcnContentRef},r.length?l.default.createElement("ul",null,r.map((function(t,a){var n,i=null===(n=t.parent)||void 0===n?void 0:n.uniqueChildren;return l.default.createElement("li",{key:a},l.default.createElement("span",{"data-node-id":t.id,"data-node-region":t.region,onClick:e.handleClick,onMouseEnter:e.handleMouseEnter},t.label),(null==i?void 0:i.length)>1?l.default.createElement("ul",{className:"hoverShowScrollBar"},i.map((function(a){return l.default.createElement("li",{key:"".concat(a.id,"-").concat(a.region)},l.default.createElement("span",{"data-node-id":a.id,"data-node-region":a.region,onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,className:a.id===t.id&&a.region===t.region?"is-active":""},a.label))}))):null)}))):null),i&&l.default.createElement("div",{className:"ae-Breadcrumb-scrollRight-btn",onClick:this.handleScrollToRight},l.default.createElement(o.Icon,{icon:"editor-double-arrow",className:"icon"})))},n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Boolean]),n.__metadata("design:returntype",void 0)],t.prototype,"refreshHandleScroll",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"getCurBreadcrumb",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"getBreadcrumbContainer",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",String)],t.prototype,"getScrollLeft",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",Number)],t.prototype,"toNumber",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Boolean]),n.__metadata("design:returntype",void 0)],t.prototype,"HandleScroll",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleScrollToLeft",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleScrollToRight",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleClick",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleMouseEnter",null),n.__decorate([r.observer,n.__metadata("design:paramtypes",[Object])],t)}(l.default.Component);t.default=d},425:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClassNameControl=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(6405),r=[{label:"外边距",children:[{label:"整体",children:[{label:"极小",value:"m-xs"},{label:"小",value:"m-sm"},{label:"正常",value:"m"},{label:"中",value:"m-md"},{label:"大",value:"m-lg"}]},{label:"上边距",children:[{label:"极小",value:"m-t-xs"},{label:"小",value:"m-t-sm"},{label:"正常",value:"m-t"},{label:"中",value:"m-t-md"},{label:"大",value:"m-t-lg"}]},{label:"右边距",children:[{label:"极小",value:"m-r-xs"},{label:"小",value:"m-r-sm"},{label:"正常",value:"m-r"},{label:"中",value:"m-r-md"},{label:"大",value:"m-r-lg"}]},{label:"下边距",children:[{label:"极小",value:"m-b-xs"},{label:"小",value:"m-b-sm"},{label:"正常",value:"m-b"},{label:"中",value:"m-b-md"},{label:"大",value:"m-b-lg"}]},{label:"左边距",children:[{label:"极小",value:"m-l-xs"},{label:"小",value:"m-l-sm"},{label:"正常",value:"m-l"},{label:"中",value:"m-l-md"},{label:"大",value:"m-l-lg"}]},{label:"置无",children:[{label:"全部",value:"m-none"},"|",{label:"上",value:"m-t-none"},{label:"右",value:"m-r-none"},{label:"下",value:"m-b-none"},{label:"左",value:"m-l-none"}]}]},{label:"内边距",children:[{label:"整体",children:[{label:"极小",value:"p-xs"},{label:"小",value:"p-sm"},{label:"正常",value:"p"},{label:"中",value:"p-md"},{label:"大",value:"p-lg"}]},{label:"上边距",children:[{label:"极小",value:"p-t-xs"},{label:"小",value:"p-t-sm"},{label:"正常",value:"p-t"},{label:"中",value:"p-t-md"},{label:"大",value:"p-t-lg"}]},{label:"右边距",children:[{label:"极小",value:"p-r-xs"},{label:"小",value:"p-r-sm"},{label:"正常",value:"p-r"},{label:"中",value:"p-r-md"},{label:"大",value:"p-r-lg"}]},{label:"下边距",children:[{label:"极小",value:"p-b-xs"},{label:"小",value:"p-b-sm"},{label:"正常",value:"p-b"},{label:"中",value:"p-b-md"},{label:"大",value:"p-b-lg"}]},{label:"左边距",children:[{label:"极小",value:"p-l-xs"},{label:"小",value:"p-l-sm"},{label:"正常",value:"p-l"},{label:"中",value:"p-l-md"},{label:"大",value:"p-l-lg"}]},{label:"置无",children:[{label:"全部",value:"p-none"},"|",{label:"上",value:"p-t-none"},{label:"右",value:"p-r-none"},{label:"下",value:"p-b-none"},{label:"左",value:"p-l-none"}]}]},{label:"边框",className:"w2x",children:[{label:"位置",children:[{label:"全部",value:"b-a"},"|",{label:"上",value:"b-t"},{label:"右",value:"b-r"},{label:"下",value:"b-b"},{label:"左",value:"b-l"},"|",{label:"置无",value:"no-border"}]},{label:"大小",children:[{label:"2x",value:"b-2x"},{label:"3x",value:"b-3x"},{label:"4x",value:"b-4x"},{label:"5x",value:"b-5x"}]},{label:"颜色",children:[{label:"主色",value:"b-primary",className:"bg-primary"},{label:"信息",value:"b-info",className:"bg-info"},{label:"警告",value:"b-warning",className:"bg-warning"},{label:"危险",value:"b-danger",className:"bg-danger"},{label:"成功",value:"b-success",className:"bg-success"},{label:"白色",value:"b-white",className:"bg-white"},{label:"暗色",value:"b-dark",className:"bg-dark"},{label:"浅色",value:"b-light",className:"bg-light"}]}]},{label:"其他",className:"w2x",children:[{label:"圆角",children:[{label:"全部",value:"r"},"|",{label:"上",value:"r-t"},{label:"右",value:"r-r"},{label:"下",value:"r-b"},{label:"左",value:"r-l"},"|",{label:"2x",value:"r-2x"},{label:"3x",value:"r-3x"}]},{label:"字体",children:[{label:"正常",value:"font-normal"},{label:"细",value:"font-thin"},{label:"粗",value:"font-bold"},"|",{label:"极小",value:"text-xs"},{label:"小",value:"text-sm"},{label:"正常",value:"text-base"},{label:"中",value:"text-md"},{label:"大",value:"text-lg"}]},{label:"颜色",children:[{label:"主色",value:"text-primary",className:"text-primary"},{label:"信息",value:"text-info",className:"text-info"},{label:"警告",value:"text-warning",className:"text-warning"},{label:"危险",value:"text-danger",className:"text-danger"},{label:"成功",value:"text-success",className:"text-success"},{label:"白色",value:"text-white",className:"text-white bg-dark"},{label:"暗色",value:"text-dark",className:"text-dark"},{label:"淡色",value:"text-muted",className:"text-muted"}]},{label:"背景",children:[{label:"主色",value:"bg-primary",className:"bg-primary"},{label:"信息",value:"bg-info",className:"bg-info"},{label:"警告",value:"bg-warning",className:"bg-warning"},{label:"危险",value:"bg-danger",className:"bg-danger"},{label:"成功",value:"bg-success",className:"bg-success"},{label:"白色",value:"bg-white",className:"bg-white"},{label:"暗色",value:"bg-dark",className:"bg-dark"},{label:"浅色",value:"bg-light",className:"bg-light"},"|",{label:"置无",value:"no-bg"}]},{label:"宽度",children:[{label:"特小",value:"w-xxs"},{label:"极小",value:"w-xs"},{label:"小",value:"w-sm"},{label:"正常",value:"w"},{label:"中",value:"w-md"},{label:"大",value:"w-lg"},{label:"加大",value:"w-xl"},{label:"特大",value:"w-xxl"},{label:"占满",value:"w-full"}]}]}],s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isFocused:!1,isOpened:!1},t.values=[],t}return n.__extends(t,e),t.prototype.open=function(){this.setState({isOpened:!0})},t.prototype.close=function(){this.setState({isOpened:!1})},t.prototype.toggle=function(){this.setState({isOpened:!this.state.isOpened})},t.prototype.handleFocus=function(e){this.setState({isFocused:!0}),this.props.onFocus&&this.props.onFocus(e)},t.prototype.handleBlur=function(e){this.setState({isFocused:!1}),this.props.onBlur&&this.props.onBlur(e)},t.prototype.handleChange=function(e){(0,this.props.onChange)(e.currentTarget.value)},t.prototype.getParent=function(){return(0,o.findDOMNode)(this)},t.prototype.getTarget=function(){return(0,o.findDOMNode)(this)},t.prototype.handlePopOverChange=function(e){var t=this.props.value||"",a=t.replace(/\s+/g," ").split(/\s+/),n=a.indexOf(e.value),l=this.props.onChange;if(~n)a.splice(n,1),t=a.join(" ");else{if(/(?:^|\s)(m|p)\-(t|r|b|l)(?:\-(?:xs|sm|md|lg))?(?:$|\s)/.test(e.value)){var i=new RegExp("(?:^|\\s)".concat(RegExp.$1,"\\-").concat(RegExp.$2,"(?:\\-(?:xs|sm|md|lg))?(?=(\\s|$))"),"ig");t=t.replace(i,"")}else/(?:^|\s)(m|p)(?:\-(xs|sm|md|lg))?(?:$|\s)/.test(e.value)?(i=new RegExp("(?:^|\\s)".concat(RegExp.$1,"(?:\\-(?:xs|sm|md|lg))?(?=(\\s|$))"),"ig"),t=t.replace(i,"")):/(?:^|\s)(m|p)(?:\-(t|r|b|l))?\-none(?:$|\s)/.test(e.value)?(i=new RegExp(RegExp.$2?"(?:^|\\s)".concat(RegExp.$1,"(?:(?:\\-").concat(RegExp.$2,"(?:\\-(?:xs|sm|md|lg)))|\\-none)?(?=(\\s|$))"):"(?:^|\\s)".concat(RegExp.$1,"(?:[^\\s$]+)?(?=(\\s|$))"),"ig"),t=t.replace(i,"$1")):/(?:^|\s)w(?:\-\w+)?(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)w(?:\-\w+)?(?=(\s|$))/g,""):"b-a"===e.value?t=(t=t.replace(/(?:^|\s)b\-(?:t|r|b|l)(?=(\s|$))/g,"")).replace(/(?:^|\s)no\-border(?=(\s|$))/g,""):/(?:^|\s)b\-(?:t|r|b|l)?(?:$|\s)/.test(e.value)?t=(t=t.replace(/(?:^|\s)b\-a(?=(\s|$))/g,"")).replace(/(?:^|\s)no\-border(?=(\s|$))/g,""):/(?:^|\s)b\-\dx(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)b\-\dx(?=(\s|$))/g,""):"no-border"===e.value?t=t.replace(/(?:^|\s)b\-(?:\dx|\w+)(?=(\s|$))/g,""):/(?:^|\s)b\-(?:primary|info|warning|danger|success|white|dark|light)(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)b\-(?:primary|info|warning|danger|success|white|dark|light)(?=(\s|$))/g,""):"r"===e.value?t=t.replace(/(?:^|\s)r\-(?:t|r|b|l)(?=(\s|$))/g,""):/(?:^|\s)r\-(?:t|r|b|l)?(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)r(?=(\s|$))/g,""):/(?:^|\s)r\-\dx(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)r\-\dx(?=(\s|$))/g,""):/(?:^|\s)text\-(?:xs|sm|base|md|lg)(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)text\-(?:xs|sm|base|md|lg)(?=(\s|$))/g,""):/(?:^|\s)font\-(?:normal|thin|bold)(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)font\-(?:normal|thin|bold)(?=(\s|$))/g,""):/(?:^|\s)text\-(?:primary|info|warning|danger|success|white|dark|light)(?:$|\s)/.test(e.value)?t=t.replace(/(?:^|\s)text\-(?:primary|info|warning|danger|success|white|dark|light)(?=(\s|$))/g,""):/(?:^|\s)bg\-(?:primary|info|warning|danger|success|white|dark|light)(?:$|\s)/.test(e.value)?t=(t=t.replace(/(?:^|\s)bg\-(?:primary|info|warning|danger|success|white|dark|light)(?=(\s|$))/g,"")).replace(/(?:^|\s)no\-bg(?=(\s|$))/g,""):"no-bg"===e.value&&(t=t.replace(/(?:^|\s)bg\-(?:primary|info|warning|danger|success|white|dark|light)(?=(\s|$))/g,""));t=t.replace(/\s+/g," ").trim(),t+=(t?" ":"")+e.value}l(t)},t.prototype.renderGroup=function(e,t){var a=this,n=this.props.classnames;return i.default.createElement("div",{key:t,className:n("ae-ClassNameControl-group",e.className)},i.default.createElement("label",{className:n("ae-ClassNameControl-groupLabel",e.labelClassName)},e.label),e.children&&e.children.length?e.children[0].value?this.renderOptions(e.children,t):e.children.map((function(e,t){return a.renderGroup(e,t)})):null)},t.prototype.renderOptions=function(e,t){var a=this,n=this.props.classnames;return function(e){for(var t=[],a=t[0]=[],n=0,l=e.length;n<l;n++){var i=e[n];"|"===i?(a=[],t.push(a)):a.push(i)}return t}(e).map((function(e,t){return i.default.createElement("div",{className:n("ButtonGroup"),key:t},e.map((function(e,t){return i.default.createElement("div",{key:t,onClick:function(){return a.handlePopOverChange(e)},className:n("Button Button--xs",e.className,~a.values.indexOf(e.value)?"Button--primary":"Button--default")},e.label)})))}))},t.prototype.renderPopover=function(){var e=this,t=this.props.value;return this.values="string"==typeof t?t.split(" "):[],i.default.createElement("div",null,r.map((function(t,a){return e.renderGroup(t,a)})))},t.prototype.render=function(){var e,t=this.props,a=t.classnames,n=t.readOnly,o=t.disabled,r=t.value,s=t.className,d=t.name,c=t.popOverContainer;return i.default.createElement("div",{className:s},i.default.createElement("div",{className:a("TextControl",(e={},e["TextControl--withAddOn"]=!0,e["is-focused"]=this.state.isFocused,e["is-disabled"]=o,e))},i.default.createElement("div",{className:a("TextControl-input")},i.default.createElement("input",{name:d,placeholder:"请输入 css 类名",disabled:o,readOnly:n,type:"text",autoComplete:"off",onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,value:null==r?"":"string"==typeof r?r:JSON.stringify(r)})),i.default.createElement("div",{className:a("TextControl-button")},i.default.createElement(l.Button,{onClick:this.toggle},i.default.createElement("i",{className:"fa fa-cog"})))),i.default.createElement(l.Overlay,{placement:"right-bottom-right-top  right-top-right-bottom right-bottom-right-top",target:this.getTarget,container:c||this.getParent,rootClose:!1,show:this.state.isOpened,watchTargetSizeChange:!1},i.default.createElement(l.PopOver,{className:"ae-ClassNamePicker-popover",onHide:this.close,overlay:!0},this.renderPopover())))},n.__decorate([l.utils.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"open",null),n.__decorate([l.utils.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"close",null),n.__decorate([l.utils.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"toggle",null),n.__decorate([l.utils.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleFocus",null),n.__decorate([l.utils.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleBlur",null),n.__decorate([l.utils.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleChange",null),n.__decorate([l.utils.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"getParent",null),n.__decorate([l.utils.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"getTarget",null),n.__decorate([(0,l.FormItem)({type:"ae-classname"})],t)}(i.default.Component);t.ClassNameControl=s},3190:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CommonConfigWrapper=void 0;var n=a(752),l=a(6405),i=a(3570),o=n.__importDefault(a(6689)),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.componentWillUnmount=function(){var e=(0,l.findDOMNode)(this);if(e){var t=this.props.$$editor,a=t.wrapperResolve?t.wrapperResolve(e):e;(Array.isArray(a)?a:a?[a]:[]).forEach((function(e){e.classList.remove("ae-Editor-common-config")}))}},t.prototype.markDom=function(e){var t=(0,l.findDOMNode)(this);if(t&&e){var a=this.props.$$editor,n=a.wrapperResolve?a.wrapperResolve(t):t;this.props.$$commonSchema&&(Array.isArray(n)?n:n?[n]:[]).forEach((function(t){t.setAttribute("data-editor-id",e),t.classList.add("ae-Editor-common-config")}))}},t.prototype.render=function(){var e=this.props,t=e.$$editor,a=e.$$node,l=e.$schema,r=e.store,s=n.__rest(e,["$$editor","$$node","$schema","store"]),d=t.renderer;return s=(0,i.JSONPipeOut)(s),t.filterProps&&(s=t.filterProps.call(t.plugin,s,a)),t.renderRenderer?t.renderRenderer.call(t.plugin,n.__assign(n.__assign(n.__assign(n.__assign({},s),{store:r,$schema:l,$$editor:t}),t.wrapperProps),{ref:this.refFn}),t):o.default.createElement(d.component,n.__assign({},s,{store:r,$schema:l,$$editor:t},t.wrapperProps,{ref:this.refFn}))},t}(a(1160).NodeWrapper);t.CommonConfigWrapper=r},9305:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerWrapper=void 0;var n=a(752),l=a(1160),i=n.__importDefault(a(6689)),o=a(2062),r=a(3570),s=n.__importDefault(a(6918)),d=a(1548),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.getWrappedInstance=function(){return this.ref},t.prototype.refFn=function(e){this.ref=e},t.prototype.renderChild=function(e,t,a){var n=this.props,l=n.render,o=n.$$editor,r=n.$$node,c=l(e,t,a),p=(0,s.default)(o.regions,(function(t){return t.key===e&&!t.matchRegion&&!t.renderMethod}));if(p){var u=p.wrapper||d.RegionWrapper;return i.default.createElement(u,{key:null==a?void 0:a.key,preferTag:p.preferTag,name:p.key,label:p.label,placeholder:p.placeholder,regionConfig:p,editorStore:o.plugin.manager.store,wrapperResolve:p.wrapperResolve,manager:o.plugin.manager,children:c,rendererName:o.renderer.name,$$editor:o,node:r})}return c},t.prototype.render=function(){var e=this.props,t=e.$$editor,a=e.$$node,o=n.__rest(e,["$$editor","$$node"]),r={},s=t.plugin.manager.store;return t.id&&(s.isActive(t.id)||s.dropId===t.id)&&Array.isArray(t.regions)&&t.regions.forEach((function(e){var t=e.key;if(!e.optional&&!(null==a?void 0:a.memberImmutable(t))){var n=[];"actions"!==t||void 0!==o.submitText&&!o.submitText||(n=[{type:"submit",label:o.submitText||"提交",primary:!0}]);var l=Array.isArray(o[t])?o[t].concat():o[t]?[o[t]]:n;l.length||l.push({children:function(){return null}}),r[t]=l}})),i.default.createElement(l.NodeWrapper,n.__assign({},o,r,{$$editor:t,$$node:a,render:this.renderChild,ref:this.refFn}))},n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"refFn",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String,Object,Object]),n.__metadata("design:returntype",void 0)],t.prototype,"renderChild",null),n.__decorate([o.observer],t)}(i.default.Component);t.ContainerWrapper=c},2296:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importStar(a(6689)),i=n.__importDefault(a(9003)),o=n.__importDefault(a(6751)),r=a(3570),s=a(7172),d=a(9756),c=a(6211),p=a(1502),u=a(1952),m=n.__importDefault(a(3164)),h=a(2717),f=a(8024),g=a(7649),b=a(1489),v=a(7823),y=a(2004),_=function(e){function t(t){var a=e.call(this,t)||this;a.mainRef=l.default.createRef(),a.isInternalChange=!1;var i=t.value,o=t.isSubEditor,r=void 0!==o&&o,p=(t.onChange,t.showCustomRenderersPanel),u=n.__rest(t,["value","isSubEditor","onChange","showCustomRenderersPanel"]),m=n.__assign({},u);return a.store=s.EditorStore.create({isMobile:t.isMobile,theme:t.theme,isSubEditor:r,amisDocHost:t.amisDocHost,ctx:t.ctx},m),a.store.setSchema(i),void 0!==p&&a.store.setShowCustomRenderersPanel(p),a.manager=new d.EditorManager(m,a.store),window.editorStore=a.store,document.addEventListener("keydown",a.handleKeyDown),window.addEventListener("message",(function(e){e.data&&"amis-widget-register-event"===e.data.type&&e.data.editorPluginName&&(console.info("[amis-editor]响应动态添加插件事件：",e.data.editorPluginName),a.manager.dynamicAddPlugin(e.data.editorPluginName))}),!1),a.unReaction=(0,c.reaction)((function(){return a.store.schemaRaw}),(function(e){a.lastResult=e,a.isInternalChange||t.onChange(e)})),a}return n.__extends(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props;t.value!==e.value&&t.value!==this.lastResult&&(this.isInternalChange=!0,this.store.setSchema(t.value),this.isInternalChange=!1),t.isMobile!==e.isMobile&&this.store.setIsMobile(t.isMobile),t.ctx!==e.ctx&&this.store.setCtx(t.ctx)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyDown),this.unReaction(),this.manager.dispose(),(0,h.destroy)(this.store)},t.prototype.handleKeyDown=function(e){if(!this.props.isSubEditor){var t=this.manager.store;if("BODY"===e.target.tagName&&("z"===e.key||"Z"===e.key)&&(e.metaKey||e.ctrlKey)&&e.shiftKey)return e.preventDefault(),void this.redo();if("BODY"===e.target.tagName&&("z"===e.key||"Z"===e.key)&&(e.metaKey||e.ctrlKey))return e.preventDefault(),void this.undo();if("BODY"===e.target.tagName&&("s"===e.key||"S"===e.key)&&(e.metaKey||e.ctrlKey))return e.preventDefault(),void this.save();if("BODY"===e.target.tagName&&("c"===e.key||"C"===e.key)&&(e.metaKey||e.ctrlKey))return e.preventDefault(),void this.copy();if("BODY"===e.target.tagName&&("v"===e.key||"V"===e.key)&&(e.metaKey||e.ctrlKey))return e.preventDefault(),void this.paste();if("BODY"===e.target.tagName&&"x"===e.key&&(e.metaKey||e.ctrlKey))e.preventDefault(),this.store.activeId&&((a=t.getNodeById(this.store.activeId))&&t.activeRegion?p.toast.warning("区域节点不允许剪切。"):t.isRootSchema(this.store.activeId)?p.toast.warning("根节点不允许剪切。"):a&&a.moveable?(this.copy(),this.manager.del(this.store.activeId)):p.toast.warning("当前元素不允许剪切。"));else if("BODY"===e.target.tagName&&"p"===e.key&&(e.metaKey||e.ctrlKey))e.preventDefault(),this.preview();else if("BODY"===e.target.tagName&&"ArrowUp"===e.key&&(e.metaKey||e.ctrlKey))e.preventDefault(),this.store.activeId&&((a=t.getNodeById(this.store.activeId))&&a.canMoveUp?this.manager.moveUp():p.toast.warning("当前元素不能向上移动"));else if("BODY"===e.target.tagName&&"ArrowDown"===e.key&&(e.metaKey||e.ctrlKey))e.preventDefault(),this.store.activeId&&((a=t.getNodeById(this.store.activeId))&&a.canMoveDown?this.manager.moveDown():p.toast.warning("当前元素不能向下移动"));else if("BODY"===e.target.tagName&&("Backspace"===e.key||"Delete"===e.key)){var a;return e.preventDefault(),void(this.store.activeId&&((a=t.getNodeById(this.store.activeId))&&t.activeRegion?p.toast.warning("区域节点不可以直接删除。"):t.isRootSchema(this.store.activeId)?p.toast.warning("根节点不允许删除。"):a&&a.moveable?this.manager.del(this.store.activeId):p.toast.warning("当前元素不允许删除。")))}}},t.prototype.handleContextMenu=function(e){var t,a,n,l="",i="";if(this.store.activeId?l=null===(t=e.target.closest('[data-editor-id="'.concat(this.store.activeId,'"]')))||void 0===t?void 0:t.getAttribute("data-editor-id"):this.store.selections.length&&(l=null===(a=e.target.closest(this.store.selections.map((function(e){return'[data-editor-id="'.concat(e,'"]')})).join(",")))||void 0===a?void 0:a.getAttribute("data-editor-id")),l||(l=null===(n=e.target.closest("[data-editor-id]"))||void 0===n?void 0:n.getAttribute("data-editor-id")),!l){var o=e.target.closest("[data-node-id]");if(!(l=null==o?void 0:o.getAttribute("data-node-id")))return;i=o.getAttribute("data-node-region")}e.preventDefault(),e.stopPropagation(),this.manager.openContextMenu(l,i,{x:window.scrollX+e.clientX,y:window.scrollY+e.clientY})},t.prototype.canUndo=function(){return this.store.canUndo},t.prototype.canRedo=function(){return this.store.canRedo},t.prototype.undo=function(){this.props.onUndo?this.props.onUndo():this.store.undo()},t.prototype.redo=function(){this.props.onRedo?this.props.onRedo():this.store.redo()},t.prototype.save=function(){this.props.onSave&&this.props.onSave()},t.prototype.preview=function(){this.props.onPreview&&this.props.onPreview(!0)},t.prototype.copy=function(){this.store.activeId&&(this.curCopySchemaData=this.store.getSchema(this.store.activeId))},t.prototype.paste=function(){if(this.store.activeId&&this.curCopySchemaData){var e=this.store.getSimpleSchema(this.curCopySchemaData);this.store.activeId===this.curCopySchemaData.$$id?this.manager.appendSiblingSchema(e):this.manager.addElem(e)}},t.prototype.getToolbarContainer=function(){return this.mainRef.current},t.prototype.render=function(){var e=this.props,t=e.preview,a=e.isMobile,r=e.className,s=e.theme,d=e.data,c=e.iframeUrl,p=e.previewProps,h=e.autoFocus;return l.default.createElement("div",{ref:this.mainRef,className:(0,i.default)("ae-Editor",{preview:t},r)},l.default.createElement("div",{className:"ae-Editor-inner",onContextMenu:this.handleContextMenu},!t&&l.default.createElement(v.LeftPanels,{store:this.store,manager:this.manager,theme:s}),l.default.createElement("div",{className:"ae-Main"},!t&&l.default.createElement(m.default,{store:this.store,manager:this.manager}),l.default.createElement(o.default,n.__assign({},p,{iframeUrl:c,editable:!t,isMobile:a,store:this.store,manager:this.manager,theme:s,data:d,autoFocus:h,toolbarContainer:this.getToolbarContainer}))),!t&&l.default.createElement(y.RightPanels,{store:this.store,manager:this.manager,theme:s}),!t&&l.default.createElement(b.ContextMenuPanel,{store:this.store})),l.default.createElement(u.SubEditor,{store:this.store,manager:this.manager,theme:s}),l.default.createElement(f.ScaffoldModal,{store:this.store,manager:this.manager,theme:s}),l.default.createElement(g.PopOverForm,{store:this.store,manager:this.manager,theme:s}))},t.defaultProps={autoFocus:!0},n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[KeyboardEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleKeyDown",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleContextMenu",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"getToolbarContainer",null),t}(l.Component);t.default=_},6089:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(9003)),o=a(2062),r=a(1502),s=a(3570),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mainRef=l.default.createRef(),t}return n.__extends(t,e),t.prototype.handleWResizerMouseDown=function(e){return this.startResize(e,"horizontal")},t.prototype.handleHResizerMouseDown=function(e){return this.startResize(e,"vertical")},t.prototype.handleResizerMouseDown=function(e){return this.startResize(e,"both")},t.prototype.startResize=function(e,t){var a,n,l,i=this;if(void 0===t&&(t="horizontal"),(1===e.button&&null!==window.event||0===e.button)&&!e.defaultPrevented){e.preventDefault();var o=this.props,r=o.manager,s=o.id,d=o.node;if(d){var c=document.querySelector('[data-editor-id="'.concat(s,'"]'));if(c){r.disableHover=!0;var p=r["both"===t?"onSizeChangeStart":"vertical"===t?"onHeightChangeStart":"onWidthChangeStart"](e,{dom:c,node:d,resizer:"both"===t?this.resizerDom:"vertical"===t?this.hResizerDom:this.wResizerDom}),u=null===(a=p.data)||void 0===a?void 0:a.onMove,m=null===(n=p.data)||void 0===n?void 0:n.onEnd;if(u||m){null===(l=this.mainRef.current)||void 0===l||l.setAttribute("data-resizing","");var h=function(e){e.preventDefault(),null==u||u(e)},f=function(e){var t;e.preventDefault(),r.disableHover=!1,null===(t=i.mainRef.current)||void 0===t||t.removeAttribute("data-resizing"),window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",f),document.body.style.cursor="default";var a=function(e){window.removeEventListener("click",a,!0),e.preventDefault(),e.stopPropagation()};window.addEventListener("click",a,!0),setTimeout((function(){return window.removeEventListener("click",a,!0)}),350),null==m||m(e)};window.addEventListener("mousemove",h),window.addEventListener("mouseup",f),document.body.style.cursor="both"===t?"nwse-resize":"vertical"===t?"ns-resize":"ew-resize"}}}}},t.prototype.wResizerRef=function(e){e?e.addEventListener("mousedown",this.handleWResizerMouseDown):this.wResizerDom.addEventListener("mousedown",this.handleWResizerMouseDown),this.wResizerDom=e},t.prototype.hResizerRef=function(e){e?e.addEventListener("mousedown",this.handleHResizerMouseDown):this.hResizerDom.addEventListener("mousedown",this.handleHResizerMouseDown),this.hResizerDom=e},t.prototype.resizerRef=function(e){e?e.addEventListener("mousedown",this.handleResizerMouseDown):this.resizerDom.addEventListener("mousedown",this.handleResizerMouseDown),this.resizerDom=e},t.prototype.handleMouseEnter=function(){this.props.manager.disableHover||this.props.store.setHoverId(this.props.id)},t.prototype.render=function(){var e=this.props,t=e.className,a=e.store,n=e.id,o=e.title,s=e.children,d=e.node,c=(e.toolbarContainer,e.onSwitch),p=a.sortedToolbars,u=a.sortedSecondaryToolbars,m=a.sortedSpecialToolbars,h=a.isActive(n),f=a.isHoved(n)||a.dropId===n||a.insertOrigId===n,g=document.getElementById("aePreviewHighlightBox").offsetWidth-d.x<176;return l.default.createElement("div",{className:(0,i.default)("ae-Editor-hlbox",{shake:n===a.insertOrigId,selected:h||~a.selections.indexOf(n),hover:f,regionOn:d.childRegions.some((function(e){return a.isRegionHighlighted(e.id,e.region)}))},t),style:{display:d.w&&d.h?"block":"none",top:d.y,left:d.x,width:d.w,height:d.h},ref:this.mainRef,onMouseEnter:this.handleMouseEnter},h?l.default.createElement("div",{className:"ae-Editor-toolbarPopover ".concat(g?"is-right-elem":"")},l.default.createElement("div",{className:"ae-Editor-nav"},d.host?l.default.createElement("div",{className:"ae-Editor-tip parent",onClick:function(){return null==c?void 0:c(d.host.id)}},d.host.label):null,l.default.createElement("div",{key:"tip",className:"ae-Editor-tip current"},o),d.firstChild?l.default.createElement("div",{className:"ae-Editor-tip child",onClick:function(){return null==c?void 0:c(d.firstChild.id)}},d.firstChild.label):null),l.default.createElement("div",{className:"ae-Editor-toolbar",key:"toolbar"},p.map((function(e){return l.default.createElement("button",{key:e.id,type:"button",draggable:e.draggable,onDragStart:e.onDragStart,"data-id":e.id,"data-tooltip":e.tooltip||void 0,"data-position":e.placement||"top",onClick:e.onClick},e.iconSvg?l.default.createElement(r.Icon,{className:"icon",icon:e.iconSvg}):~e.icon.indexOf("<")?l.default.createElement("span",{dangerouslySetInnerHTML:{__html:e.icon}}):l.default.createElement("i",{className:e.icon}))})))):null,h&&u.length?l.default.createElement("div",{className:"ae-Editor-toolbar sencondary",key:"sencondary-toolbar"},u.map((function(e){return l.default.createElement("button",{key:e.id,type:"button",className:e.className,"data-id":e.id,"data-tooltip":e.tooltip||void 0,"data-position":e.placement||"top",onClick:e.onClick},e.iconSvg?l.default.createElement(r.Icon,{className:"icon",icon:e.iconSvg}):~e.icon.indexOf("<")?l.default.createElement("span",{dangerouslySetInnerHTML:{__html:e.icon}}):l.default.createElement("i",{className:e.icon}))}))):null,h&&m.length?l.default.createElement("div",{className:"ae-Editor-toolbar special",key:"special-toolbar"},m.map((function(e){return l.default.createElement("button",{key:e.id,type:"button",className:e.className,"data-id":e.id,"data-tooltip":e.tooltip||void 0,"data-position":e.placement||"top",onClick:e.onClick},e.iconSvg?l.default.createElement(r.Icon,{className:"icon",icon:e.iconSvg}):~e.icon.indexOf("<")?l.default.createElement("span",{dangerouslySetInnerHTML:{__html:e.icon}}):l.default.createElement("i",{className:e.icon}))}))):null,s,d.widthMutable?l.default.createElement("span",{className:"ae-WResizer",ref:this.wResizerRef}):null,d.heightMutable?l.default.createElement("span",{className:"ae-HResizer",ref:this.hResizerRef}):null,d.widthMutable&&d.heightMutable?l.default.createElement("span",{className:"ae-Resizer",ref:this.resizerRef}):null)},n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleWResizerMouseDown",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleHResizerMouseDown",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleResizerMouseDown",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"wResizerRef",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"hResizerRef",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"resizerRef",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleMouseEnter",null),n.__decorate([o.observer],t)}(l.default.Component);t.default=d},1325:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mountInIframe=void 0;var n=a(752),l=a(2062),i=a(2717),o=n.__importDefault(a(6689)),r=a(6405),s=a(9756),d=a(3570),c=n.__importDefault(a(1454)),p=function(e){function t(t){var a=e.call(this,t)||this,n="__amis_editor_bridge_fn_".concat((0,d.guid)());return window[n]=function(e){return delete window[n],a.bridge=e,a.update(t),t.manager},a.bridgeFnName=n,a}return n.__extends(t,e),t.prototype.componentDidUpdate=function(){this.update()},t.prototype.componentWillUnmount=function(){var e=this.props.store;(0,i.isAlive)(e)&&e.setDoc(document)},t.prototype.iframeRef=function(e){var t=this.props.store;(0,i.isAlive)(t)&&t.setIframe(e)},t.prototype.update=function(e){var t;void 0===e&&(e=this.props);var a=e.editable,l=e.store;null===(t=this.bridge)||void 0===t||t.update(n.__assign(n.__assign({},e),{schema:a?l.filteredSchema:l.filteredSchemaForPreview}))},t.prototype.render=function(){var e=this.props,t=e.url,a=e.manager,n=e.className,l=e.editable,i=e.store;return this.schema=l?i.filteredSchema:i.filteredSchemaForPreview,o.default.createElement("iframe",{ref:this.iframeRef,className:n,id:a.id,src:"".concat(t,"#").concat(this.bridgeFnName)})},n.__decorate([d.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"iframeRef",null),n.__decorate([l.observer,n.__metadata("design:paramtypes",[Object])],t)}(o.default.PureComponent);t.default=p;var u=function(e){function t(t){var a=e.call(this,t)||this;a.state={},a.inited=!1;var l=t.bridgeName,i=parent[l];if("function"!=typeof i)throw new Error("调用错误，或者存在跨域。");var o=i({update:function(e){return a.inited?a.setState(n.__assign({},e)):a.state=n.__assign({},e)}});if(!o)throw new Error("调用错误");o.store.setDoc(document);var r=new s.EditorManager(o.config,o.store,o);return a.manager=r,a.inited=!0,a}return n.__extends(t,e),t.prototype.componentWillUnmount=function(){var e=this.manager;e.toDispose.forEach((function(e){return e()})),e.toDispose=[],e.listeners.splice(0,e.listeners.length),e.lazyPatchSchema.cancel()},t.prototype.render=function(){return o.default.createElement(c.default,n.__assign({},this.state,{manager:this.manager,store:this.manager.store,envCreator:this.props.envCreator}))},t}(o.default.Component);t.mountInIframe=function(e,t,a){if(!location.hash||parent===window)throw new Error("只能在 Iframe 里面调用");var n=location.hash.substring(1);t.render(o.default.createElement(u,{bridgeName:n,envCreator:a}),e),window.onunload=function(){(0,r.unmountComponentAtNode)(e)}}},1454:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importDefault(a(6689)),i=a(1502),o=a(3570),r=a(3131),s=n.__importDefault(a(9003)),d=a(6405),c=a(2717),p=a(9794),u=function(e){function t(){var t,a,l=this;return(l=e.apply(this,arguments)||this).env=n.__assign(n.__assign(n.__assign(n.__assign({},l.props.manager.env),{notify:function(e,t){l.props.editable?console.warn("[Notify]",e,t):i.toast[e]?i.toast[e](t,"error"===e?"系统错误":"系统消息"):console.warn("[Notify]",e,t)},theme:l.props.theme,session:"preview-".concat(l.props.manager.id),rendererResolver:l.rendererResolver}),l.props.manager.env),null===(a=(t=l.props).envCreator)||void 0===a?void 0:a.call(t,l.props)),l}return n.__extends(t,e),t.prototype.componentDidMount=function(){var e=(0,d.findDOMNode)(this);if(e.addEventListener("mouseleave",this.handleMouseLeave),e.addEventListener("mousemove",this.handleMouseMove),e.addEventListener("click",this.handleClick),e.addEventListener("mouseover",this.handeMouseOver),this.props.autoFocus){var t=this.props.manager.store;setTimeout((function(){if((0,c.isAlive)(t)){var e=(0,p.findTree)(t.outline,(function(e){return!e.isRegion&&e.clickable}));e&&t.setActiveId(e.id)}}),350)}else this.props.manager.buildRenderersAndPanels()},t.prototype.componentWillUnmount=function(){var e=(0,d.findDOMNode)(this);e.removeEventListener("mouseleave",this.handleMouseLeave),e.removeEventListener("mousemove",this.handleMouseMove),e.removeEventListener("click",this.handleClick),e.removeEventListener("mouseover",this.handeMouseOver)},t.prototype.contentsRef=function(e){var t,a=this;this.dom=e,e?(this.syncIframeHeight(),this.unSensor=(0,i.resizeSensor)(e,(function(){a.syncIframeHeight()}))):(null===(t=this.unSensor)||void 0===t||t.call(this),delete this.unSensor)},t.prototype.syncIframeHeight=function(){var e=this.props.manager;this.dom&&(e.store.getIframe().style.cssText+="height: ".concat(this.dom.offsetHeight,"px"))},t.prototype.handleClick=function(e){var t=this.props.store,a=e.target.closest("[data-editor-id]");if(!e.defaultPrevented&&(a&&t.setActiveId(a.getAttribute("data-editor-id")),this.props.editable)){var n=this.props.manager.trigger("prevent-click",{data:e});n.prevented||n.stoped||(e.preventDefault(),e.stopPropagation())}},t.prototype.handleMouseMove=function(e){var t=this.props.store,a=e.target.closest("[data-editor-id]");a&&t.setHoverId(a.getAttribute("data-editor-id"))},t.prototype.handleMouseLeave=function(){this.props.store.setHoverId("")},t.prototype.handeMouseOver=function(e){this.props.editable&&(e.preventDefault(),e.stopPropagation())},t.prototype.handleDragEnter=function(e){this.props.manager.dnd.dragEnter(e.nativeEvent)},t.prototype.handleDragLeave=function(e){this.props.manager.dnd.dragLeave(e.nativeEvent)},t.prototype.handleDragOver=function(e){this.props.manager.dnd.dragOver(e.nativeEvent)},t.prototype.handleDrop=function(e){this.props.manager.dnd.drop(e.nativeEvent)},t.prototype.handleContextMenu=function(e){var t,a=null===(t=e.target.closest("[data-editor-id]"))||void 0===t?void 0:t.getAttribute("data-editor-id"),n="";if(!a){var l=e.target.closest("[data-node-id]");if(!(a=null==l?void 0:l.getAttribute("data-node-id")))return;n=l.getAttribute("data-node-region")}e.preventDefault(),e.stopPropagation();var i=this.props.manager,o=i.store.getIframe().getBoundingClientRect();i.parent.openContextMenu(a,n,{x:window.scrollX+e.clientX+o.left,y:window.scrollY+e.clientY+o.top})},t.prototype.rendererResolver=function(e,t,a){var l=this.props,o=l.editable,s=l.manager,d=(0,i.resolveRenderer)(e,t);if(!1===o)return d;d=d||{name:"error",test:function(){return!0},component:r.ErrorRenderer};var c=s.getEditorInfo(d,e,t);return c&&(d=n.__assign(n.__assign({},d),{component:s.makeWrapper(c,d)})),d},t.prototype.render=function(){var e=this.props,t=e.store,a=e.editable,o=(e.manager,e.className),r=e.schema,d=e.data,c=n.__rest(e,["store","editable","manager","className","schema","data"]);return l.default.createElement("div",{ref:this.contentsRef,onContextMenu:this.handleContextMenu,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDrop:this.handleDrop,className:(0,s.default)("ae-IFramePreview",o,a?"is-edting":"")},(0,i.render)(r||{type:"tpl",tpl:"渲染中..."},n.__assign(n.__assign({},c),{key:a?"edit-mode":"preview-mode",theme:this.env.theme,data:null!=d?d:t.ctx}),this.env))},n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"contentsRef",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleClick",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleMouseMove",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleMouseLeave",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handeMouseOver",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleDragEnter",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleDragLeave",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleDragOver",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleDrop",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleContextMenu",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String,Object,Object]),n.__metadata("design:returntype",void 0)],t.prototype,"rendererResolver",null),t}(l.default.Component);t.default=u},7279:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(2296)),o=n.__importDefault(a(9003)),r=n.__importDefault(a(6751)),s=a(1952),d=a(8024),c=a(3570),p=function(e){function t(t){var a=e.call(this,t)||this;return a.manager.on("build-panels",a.buildPanels),a}return n.__extends(t,e),t.prototype.componentWillUnmount=function(){this.manager.off("build-panels",this.buildPanels)},t.prototype.buildPanels=function(e){var t=e.context.data;Array.isArray(t)&&t.splice(0,t.length)},t.prototype.render=function(){var e=this.props,t=e.preview,a=e.className,n=e.theme,i=e.data;return l.default.createElement("div",{className:(0,o.default)("ae-Editor",{preview:t},a)},l.default.createElement("div",{className:"ae-Editor-inner",onContextMenu:this.handleContextMenu},l.default.createElement("div",{className:"ae-Main"},l.default.createElement(r.default,{editable:!t,store:this.store,manager:this.manager,theme:n,data:i}))),l.default.createElement(s.SubEditor,{store:this.store,manager:this.manager,theme:n}),l.default.createElement(d.ScaffoldModal,{store:this.store,manager:this.manager,theme:n}))},n.__decorate([c.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"buildPanels",null),t}(i.default);t.default=p},1160:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeWrapper=void 0;var n=a(752),l=a(2062),i=(a(2717),n.__importDefault(a(6689))),o=a(6405),r=a(3570),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.markDom(this.props.$$editor.id),this.props.$$node&&requestAnimationFrame((function(){}))},t.prototype.componentDidUpdate=function(e){this.markDom(this.props.$$editor.id)},t.prototype.getWrappedInstance=function(){return this.ref},t.prototype.refFn=function(e){this.ref=e},t.prototype.markDom=function(e){var t,a,n=(0,o.findDOMNode)(this);if(n&&e){var l=this.props.$$editor,i=!1!==this.props.$$visible&&!0!==this.props.$$hidden,r=l.wrapperResolve?l.wrapperResolve(n):n;(Array.isArray(r)?r:r?[r]:[]).forEach((function(t){t.setAttribute("data-editor-id",e),t.setAttribute("data-visible",i?"":"false")})),null===(a=null===(t=l.plugin)||void 0===t?void 0:t.markDom)||void 0===a||a.call(t,r,this.props)}},t.prototype.render=function(){var e=this.props,t=e.$$editor,a=e.$$node,l=e.store,o=n.__rest(e,["$$editor","$$node","store"]),r=t.renderer;return t.filterProps&&(o=t.filterProps.call(t.plugin,o,a)),t.renderRenderer?t.renderRenderer.call(t.plugin,n.__assign(n.__assign(n.__assign(n.__assign(n.__assign(n.__assign({},o),{store:l}),null==a?void 0:a.state),{$$editor:t}),t.wrapperProps),{ref:this.refFn}),t):i.default.createElement(r.component,n.__assign({},o,{store:l},null==a?void 0:a.state,{$$editor:t},t.wrapperProps,{ref:this.refFn}))},n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"refFn",null),n.__decorate([l.observer],t)}(i.default.Component);t.NodeWrapper=s},3017:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importDefault(a(6689)),i=a(7981),o=a(3570),r=n.__importDefault(a(9003)),s=a(1502),d=a(3908),c=a(8425),p=a(5720),u=n.__importDefault(a(5452)),m=/^\/schemas\/(.*).json$/,h=d((function(e){s.toast.warning("代码有误，错误的地方是\n ".concat(e.toString().split("\n")[1]))}),3e3),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={wrongSchema:"",value:t.props.value,contents:t.obj2str(t.props.value,t.props)},t.toDispose=[],t.uri="isuda://schema/".concat((0,o.guid)(),".json"),t.emitChange=d((function(){var e=t.props,a=e.onChange,n=e.value,l=t.str2obj(t.state.contents);if(l&&(0,u.default)(l)){t.setState({wrongSchema:""}),delete l.$schema,l=(0,o.filterSchemaForConfig)(l,t.props.value);var i=(0,o.diff)(t.lastResult||n,l);t.lastResult=l,a(l,i)}else t.setState({wrongSchema:t.state.contents})}),250,{trailing:!0,leading:!1}),t.editorFactory=function(e,a,l){var i=a.Uri.parse(t.uri);return t.model=a.editor.createModel(t.state.contents,"json",i),a.editor.create(e,n.__assign(n.__assign({autoIndent:!0,formatOnType:!0,formatOnPaste:!0,selectOnLineNumbers:!0,scrollBeyondLastLine:!1,folding:!0,scrollbar:{alwaysConsumeMouseWheel:!1},minimap:{enabled:!1}},l),{model:t.model}))},t.editorDidMount=function(e,a){t.editor=e,t.monaco=a,t.changeJsonOptions(t.props),t.props.onPaste&&t.toDispose.push(t.editor.onDidPaste(t.props.onPaste).dispose)},t.editorWillUnmount=function(e,a){t.toDispose.forEach((function(e){return e()})),t.toDispose=[]},t.handleChange=function(e){t.setState({contents:e},t.emitChange)},t.handleBlur=function(){return n.__awaiter(t,void 0,void 0,(function(){var e,t,a;return n.__generator(this,(function(n){switch(n.label){case 0:return e=this.state,t=e.wrongSchema,a=e.value,t?[4,(0,s.prompt)([{className:"w-full",type:"tpl",label:!1,tpl:"当前有部分已更改数据因为格式不正确尚未保存，您确认要丢弃这部分更改吗？"},{type:"switch",label:!1,option:"查看更改",name:"diff",value:!1},{visibleOn:"this.diff",label:!1,type:"diff-editor",allowFullscreen:!0,disabled:!0,name:"newValue",size:"xxl",language:"json",diffValue:"${oldValue}"}],{oldValue:a,newValue:t},"请确认")]:[2];case 1:return n.sent()?this.setState({wrongSchema:"",contents:(0,p.stringify)(a)}):this.editor.focus(),[2]}}))}))},t}return n.__extends(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props;e.$schema!==t.$schema&&this.monaco&&this.changeJsonOptions(t),(0,o.isObjectShallowModified)(t.value,e.value)&&(0,o.isObjectShallowModified)(t.value,this.lastResult)&&(this.lastResult=null,this.setState({value:t.value,contents:this.obj2str(t.value,t)}))},t.prototype.obj2str=function(e,t){var a;return e=(0,o.filterSchemaForConfig)(e),!(e=n.__assign({type:null==e?void 0:e.type},e)).type&&(null===(a=t.$schema)||void 0===a?void 0:a.match(/PageSchema/i))?e.type="page":e.type||delete e.type,delete e.$schema,(0,p.stringify)(e)},t.prototype.str2obj=function(e){try{if(""===e)return{};var t=(0,p.parse)(e);return h&&h.cancel(),t}catch(e){return h(e),null}},t.prototype.changeJsonOptions=function(e){var t;void 0===e&&(e=this.props);var a=this.monaco,n=e.$schemaUrl||"".concat(window.location.protocol,"//").concat(window.location.host,"/schema.json");0===n.indexOf("/")&&(n="".concat(window.location.protocol,"//").concat(window.location.host).concat(n));var l=function(e,t,a,n){var l=Array.isArray(n)?n.concat():[];if(m.test(t)){var i=RegExp.$1,o="".concat(e.replace(/^(\w+\:\/\/[^\/]+)\/.*$/,"$1"),"/schemas/").concat(i,".json"),r=c(l,(function(e){var t;return(null===(t=e.fileMatch)||void 0===t?void 0:t[0])===a}));~r&&l.splice(r,1),l.push({uri:o,fileMatch:[a],schema:{$schema:"http://json-schema.org/draft-07/schema#",$ref:"".concat(e,"#/definitions/").concat(i)}})}return l}(n,e.$schema,a.Uri.parse(this.uri).toString(),null===(t=a.languages.json)||void 0===t?void 0:t.jsonDefaults.diagnosticsOptions.schemas);a.languages.json.jsonDefaults.setDiagnosticsOptions({schemas:l,validate:!0,enableSchemaRequest:!0,allowComments:!0})},t.prototype.render=function(){var e=this.props,t=e.disabled,a=e.className,n=e.theme;return l.default.createElement(i.Editor,{className:(0,r.default)("amis-code-editor",a),value:this.state.contents,onChange:this.handleChange,onBlur:this.handleBlur,language:"json",theme:n,editorFactory:this.editorFactory,editorDidMount:this.editorDidMount,editorWillUnmount:this.editorWillUnmount,options:{automaticLayout:!0,lineNumbers:"off",glyphMargin:!1,tabSize:2,wordWrap:"on",lineDecorationsWidth:0,lineNumbersMinChars:0,selectOnLineNumbers:!0,scrollBeyondLastLine:!1,folding:!0,minimap:{enabled:!1},readOnly:t}})},t}(l.default.Component);t.default=f},6151:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AvailableRenderersPanel=void 0;var n=a(752),l=a(2062),i=n.__importDefault(a(6689)),o=a(1502),r=n.__importDefault(a(4913)),s=a(3570),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.handleSelect=function(e){e&&this.props.store.changeRenderersTabsKey(e)},t.prototype.render=function(){var e=this.props,t=e.store,a=e.manager,n=t.renderersTabsKey||"base-renderers",l=t.theme,s=t.customRenderersByOrder||[],d=t.groupedSubRenderers||{},c=t.groupedCustomRenderers||{};return i.default.createElement("div",{className:"ae-RendererPanel"},i.default.createElement("div",{className:"panel-header"},"组件"),i.default.createElement("div",{className:"ae-RendererPanel-content"},t.showCustomRenderersPanel&&s.length>0&&i.default.createElement(o.Tabs,{theme:l,tabsMode:"line",className:"ae-RendererList-tabs",linksClassName:"ae-RendererList-tabs-header",contentClassName:"ae-RendererList-tabs-content",activeKey:n,onSelect:this.handleSelect},i.default.createElement(o.Tab,{key:"base-renderers",eventKey:"base-renderers",title:"系统组件",className:"ae-RendererList-tabs-panel base-renderers",mountOnEnter:!0,unmountOnExit:!1},i.default.createElement(r.default,{groupedRenderers:d,store:t,manager:a,searchRendererType:"renderer"})),i.default.createElement(o.Tab,{key:"custom-renderers",eventKey:"custom-renderers",title:"自定义组件",className:"ae-RendererList-tabs-panel custom-renderers",mountOnEnter:!0,unmountOnExit:!1},i.default.createElement(r.default,{groupedRenderers:c,store:t,manager:a,searchRendererType:"custom-renderer"}))),(!t.showCustomRenderersPanel||Object.keys(c).length<1)&&i.default.createElement(r.default,{className:"only-base-component",groupedRenderers:d,store:t,manager:a,searchRendererType:"renderer"})))},n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",void 0)],t.prototype,"handleSelect",null),n.__decorate([l.observer],t)}(i.default.Component);t.AvailableRenderersPanel=d},4212:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importDefault(a(6689)),i=a(3570),o=n.__importDefault(a(3017)),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.handleCodePaste=function(){var e=this;setTimeout((function(){e.props.manager.patchSchema(!0)}),500)},t.prototype.render=function(){var e=this.props,t=e.onChange,a=e.manager,n=e.store;return l.default.createElement("div",{className:"ae-CodePanel"},l.default.createElement("div",{className:"panel-header"},"代码"),l.default.createElement("div",{className:"ae-CodePanel-content"},l.default.createElement(o.default,{value:n.valueWithoutHiddenProps,onChange:t,$schema:n.jsonSchemaUri,$schemaUrl:a.config.$schemaUrl,onPaste:this.handleCodePaste})))},n.__decorate([i.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleCodePaste",null),t}(l.default.Component);t.default=r},1489:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenuPanel=void 0;var n=a(752),l=a(2062),i=n.__importDefault(a(6689)),o=a(1502),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.store.contextMenuPanel,t=e&&e.menus?e.menus:[];return t&&t.length>0?i.default.createElement("div",{className:"context-menu-setting"},i.default.createElement("div",{className:"setting-header"},"批量操作"),i.default.createElement("div",{className:"setting-body"},t.map((function(e){return e.label&&i.default.createElement("div",{key:e.label,className:"setting-item ".concat(e.disabled?"disabled":""),onClick:e.disabled?null:e.onSelect},i.default.createElement("div",{className:"icon-box"},i.default.createElement(o.Icon,{icon:e.icon,className:"menu-icon"})),i.default.createElement("div",{className:"setting-info"},e.label))})))):null},n.__decorate([l.observer],t)}(i.default.Component);t.ContextMenuPanel=r},4214:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DrawerPanel=void 0;var n=a(752),l=a(2062),i=n.__importDefault(a(6689)),o=a(1502),r=a(3570),s=a(6405),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.getPopOverContainer=function(){return(0,s.findDOMNode)(this)},t.prototype.render=function(){var e=this.props,t=e.store,a=e.manager,n=e.node,l=e.panelItem,r=e.theme,s=t.activeId;return i.default.createElement(o.Drawer,{position:"left",size:"md",theme:r,show:!!l,onHide:t.closeInsertPanel,className:"ae-InsertPanel-drawer"},l&&l.component?i.default.createElement(l.component,{key:l.key,id:s,info:null==n?void 0:n.info,path:null==n?void 0:n.path,value:t.value,onChange:a.panelChangeValue,store:t,manager:a,popOverContainer:this.getPopOverContainer}):null)},n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"getPopOverContainer",null),n.__decorate([l.observer],t)}(i.default.Component);t.DrawerPanel=d},3823:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DrawerRendererPanel=void 0;var n=a(752),l=a(2062),i=n.__importDefault(a(6689)),o=a(1502),r=a(3570),s=a(6405),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.getPopOverContainer=function(){return(0,s.findDOMNode)(this)},t.prototype.render=function(){var e=this.props,t=e.store,a=e.manager,n=e.node,l=e.panelItem,r=e.theme,s=t.activeId,d=t.showInsertRenderer;return i.default.createElement(o.Drawer,{position:"left",size:"md",theme:r,show:d,onHide:t.closeInsertRendererPanel,className:"ae-InsertRendererPanel-drawer",bodyClassName:"ae-drawer-renderers"},l.title&&i.default.createElement("div",{className:"ae-drawer-title"},l.title),l&&l.component?i.default.createElement(l.component,{key:l.key,id:s,info:null==n?void 0:n.info,path:null==n?void 0:n.path,value:t.value,onChange:a.panelChangeValue,store:t,manager:a,popOverContainer:this.getPopOverContainer}):null)},n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"getPopOverContainer",null),n.__decorate([l.observer],t)}(i.default.Component);t.DrawerRendererPanel=d},1169:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InsertSubRendererPanel=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6918)),o=a(2062),r=n.__importDefault(a(6689)),s=a(3570),d=a(3879),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.handleLeftClick=function(e){var t=e.currentTarget.getAttribute("data-value");this.props.store.setInsertTag(t)},t.prototype.handleClick=function(e){var t=e.currentTarget.getAttribute("data-value");this.props.store.setInsertSelected(t)},t.prototype.hadnlDBClick=function(e){var t=e.currentTarget.getAttribute("data-value"),a=this.props.store;a.setInsertSelected(t);var n=this.props.manager;"replace"===a.insertMode?n.replace():n.insert()},t.prototype.handleInsert=function(){this.props.manager.insert()},t.prototype.handleReplace=function(){this.props.manager.replace()},t.prototype.handleCancel=function(){this.props.store.closeInsertPanel()},t.prototype.render=function(){var e,t,a=this,n=this.props.store,o=this.props.manager,s=null===(e=n.getNodeById(n.insertId))||void 0===e?void 0:e.info,c=null===(t=(0,i.default)(s.regions,(function(e){return e.key===n.insertRegion})))||void 0===t?void 0:t.label,p=n.groupedInsertRenderers,u=Object.keys(p),m=n.insertTag||"全部",h=p[m];return r.default.createElement("div",{className:"ae-InsertPanel"},"replace"===n.insertMode?r.default.createElement("div",{className:"ae-InsertPanel-title"},"更改组件类型"):r.default.createElement("div",{className:"ae-InsertPanel-title"},"选中组件插入到 ",r.default.createElement("code",null,s.name," > ",c)),r.default.createElement("div",{className:"m-b-xs"},r.default.createElement(l.InputBox,{className:"editor-InputSearch",value:n.insertRenderersKeywords,onChange:n.changeInsertRenderersKeywords,placeholder:"输入关键字可过滤组件",clearable:!1},n.insertRenderersKeywords?r.default.createElement("a",{onClick:n.resetInsertRenderersKeywords},r.default.createElement(l.Icon,{icon:"close",className:"icon"})):r.default.createElement(l.Icon,{icon:"search",className:"icon"}))),r.default.createElement("div",{className:"ae-RenderersPicker-list"},r.default.createElement("ul",null,u.map((function(e){return r.default.createElement("li",{key:e,className:m===e?"is-active":""},r.default.createElement("a",{"data-value":e,onClick:a.handleLeftClick},e))}))),r.default.createElement("div",{className:"ae-RenderersPicker-content"},Array.isArray(h)&&h.length?r.default.createElement("ul",null,h.map((function(e){return r.default.createElement("li",{key:e.id,className:n.insertSelected===e.id?"is-active":"","data-value":e.id,onClick:a.handleClick,onDoubleClick:a.hadnlDBClick},r.default.createElement(d.RendererThumb,{theme:o.env.theme,env:o.env,schema:e.previewSchema||{type:"tpl",tpl:"无法预览"}}),r.default.createElement("div",{className:"ae-RenderersPicker-info"},r.default.createElement("h4",null,e.name),r.default.createElement("div",null,r.default.createElement(l.Html,{html:e.description}),e.docLink?r.default.createElement("a",{target:"_blank",href:n.amisDocHost+e.docLink}," 详情 "):null)))}))):r.default.createElement("div",null,"没有可用组件，也许你该切换容器试试。"))),r.default.createElement("div",{className:"ae-InsertPanel-footer"},"replace"===n.insertMode?r.default.createElement(l.Button,{className:"action-btn action-btn-primary",onClick:this.handleReplace,disabled:!n.insertSelected,level:"primary"},"替换"):r.default.createElement(l.Button,{className:"action-btn action-btn-primary",onClick:this.handleInsert,disabled:!n.insertSelected,level:"primary"},"插入"),r.default.createElement(l.Button,{className:"action-btn",onClick:this.handleCancel},"取消")))},n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleLeftClick",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleClick",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"hadnlDBClick",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleInsert",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleReplace",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleCancel",null),n.__decorate([o.observer],t)}(r.default.Component);t.InsertSubRendererPanel=c},7823:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LeftPanels=void 0;var n=a(752),l=a(2062),i=n.__importDefault(a(6689)),o=a(1502),r=n.__importDefault(a(9003)),s=a(1502),d=a(3570),c=a(6405),p=n.__importDefault(a(6918)),u=a(4214),m=a(3823),h=function(e){function t(t){var a=e.call(this,t)||this;return a.state={isFixedStatus:!1},a}return n.__extends(t,e),t.prototype.handleHidden=function(){var e=this.props.store,t=e.changeLeftPanelOpenStatus,a=e.leftPanelOpenStatus,n=e.changeLeftPanelKey,l=!a;t(l),n(l?"outline":"none")},t.prototype.handleFixed=function(){this.setState({isFixedStatus:!this.state.isFixedStatus})},t.prototype.handleSelect=function(e){var t=this.props.store,a=t.changeLeftPanelOpenStatus,n=t.changeLeftPanelKey;e&&(a(!0),n(e))},t.prototype.getPopOverContainer=function(){return(0,c.findDOMNode)(this)},t.prototype.render=function(){var e=this,t=this.props,a=t.store,n=t.manager,l=t.theme,d=this.state.isFixedStatus,c=a.leftPanelOpenStatus,h=a.getLeftPanels(),f=a.activeId,g=a.getNodeById(f),b=a.getLeftPanelKey(),v=a.insertId&&a.insertRegion&&(0,p.default)(h,(function(e){return"insert"===e.key})),y=(0,p.default)(h,(function(e){return"insertRenderer"===e.key}));return i.default.createElement(i.default.Fragment,null,h.length>0&&i.default.createElement("div",{className:(0,r.default)("editor-left-panel width-draggable",c?"":"hidden-status",d?"fixed-status":"")},i.default.createElement("div",{className:"editor-panel-btn","editor-tooltip":d?"关闭悬浮模式":"开启悬浮模式","tooltip-position":"right"},i.default.createElement(o.Icon,{icon:d?"editor-fixed":"editor-no-fixed",className:"panel-btn",onClick:this.handleFixed})),i.default.createElement(s.Tabs,{className:"editorPanel-tabs",linksClassName:"editorPanel-tabs-header",contentClassName:"editorPanel-tabs-content",theme:l,activeKey:b,onSelect:this.handleSelect,tabsMode:"sidebar",sidePosition:"left"},h.map((function(t){return"insert"!==t.key&&"insertRenderer"!==t.key?i.default.createElement(s.Tab,{key:t.key,eventKey:t.key,title:t.title,className:"editorPanel-tabs-pane ae-Editor-".concat(t.key,"Pane"),mountOnEnter:!0,unmountOnExit:!1},function(t){return t.render?t.render({id:f,info:null==g?void 0:g.info,path:null==g?void 0:g.path,node:g,value:a.value,onChange:n.panelChangeValue,store:a,manager:n,popOverContainer:e.getPopOverContainer}):t.component?i.default.createElement(t.component,{node:g,key:t.key,id:f,info:null==g?void 0:g.info,path:null==g?void 0:g.path,value:a.value,onChange:n.panelChangeValue,store:a,manager:n,popOverContainer:e.getPopOverContainer}):null}(t)):null}))),i.default.createElement("div",{className:(0,r.default)("left-panel-arrow",c?"":"hidden-status"),onClick:this.handleHidden})),d&&i.default.createElement("div",{className:"editor-left-panel-fixed-placeholder"}),i.default.createElement(u.DrawerPanel,{store:a,manager:n,node:g,panelItem:v,theme:l}),i.default.createElement(m.DrawerRendererPanel,{store:a,manager:n,node:g,panelItem:y,theme:l}))},n.__decorate([d.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleHidden",null),n.__decorate([d.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleFixed",null),n.__decorate([d.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",void 0)],t.prototype,"handleSelect",null),n.__decorate([d.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"getPopOverContainer",null),n.__decorate([l.observer,n.__metadata("design:paramtypes",[Object])],t)}(i.default.Component);t.LeftPanels=h},411:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OutlinePanel=void 0;var n=a(752),l=a(2062),i=n.__importDefault(a(6689)),o=n.__importDefault(a(9003)),r=a(3570),s=a(1502),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={curSearchElemKey:""},t}return n.__extends(t,e),t.prototype.handleClick=function(e){var t=this.props.store,a=e.currentTarget,n=a.getAttribute("data-node-id"),l=a.getAttribute("data-node-region");this.props.manager,l?t.activeId===n&&t.activeRegion===l?t.setActiveId(n):t.setActiveId(n,l):t.setActiveId(n)},t.prototype.handleEnter=function(e){var t=e.currentTarget,a=t.getAttribute("data-node-id"),n=t.getAttribute("data-node-region");this.props.store.setHoverId(a,n)},t.prototype.handleDragStart=function(e){var t=e.currentTarget.getAttribute("data-node-id");t&&this.props.manager.startDrag(t,e)},t.prototype.handleDragOver=function(e){var t=e.target.closest("[data-node-id][data-node-region]");if(t){var a=this.props.manager,n=t.getAttribute("data-node-id"),l=t.getAttribute("data-node-region");e.preventDefault(),n&&l&&a.dnd.switchToRegion(e.nativeEvent,n,l)}},t.prototype.handleDrop=function(e){this.props.manager.dnd.drop(e.nativeEvent)},t.prototype.handleSearchElemKeyChange=function(e){this.setState({curSearchElemKey:e})},t.prototype.clearSearchElemKey=function(){this.setState({curSearchElemKey:""})},t.prototype.renderTitleByKeyword=function(e,t){if(t&&~e.indexOf(t)){var a=e.indexOf(t),n=a+t.length;return i.default.createElement("span",null,e.substring(0,a),i.default.createElement("span",{className:"has-keywords"},t),e.substring(n))}return e},t.prototype.renderItem=function(e,t){var a,n=this,l=this.props.store,r=this.state.curSearchElemKey,d=!l.dragging&&e.singleRegion?e.uniqueChildren[0].uniqueChildren:e.uniqueChildren,c=d.length;return!l.dragging||e.isRegion||e.children.length?i.default.createElement("li",{className:(0,o.default)("ae-Outline-node",{"is-folded":e.folded,"is-active":l.activeId===e.id&&!e.region||e.isRegion&&l.dropId===e.id&&l.dropRegion===e.region||e.isRegion&&l.activeId===e.id&&l.activeRegion===e.region,"is-region":e.isRegion,"is-hover":!e.isRegion&&(l.isHoved(e.id)||l.isContextOn(e.id)),"has-children":c,"is-dragging":l.dragId===e.id&&"schema"===l.dragType}),key:t},i.default.createElement("a",{onClick:this.handleClick,onMouseEnter:this.handleEnter,"data-node-id":e.id,"data-node-region":e.region,"data-node-common-config":null===(a=e.schema)||void 0===a?void 0:a.$$commonSchema,draggable:e.draggable,onDragStart:this.handleDragStart},c?i.default.createElement("span",{onClick:e.toggleFold,className:(0,o.default)("ae-Outline-expander ae-Outline-node-icon",{"is-folded":e.folded}),"data-node-id":e.id,"data-node-region":e.region},i.default.createElement(s.Icon,{icon:"down-arrow"})):null,i.default.createElement("span",{className:"ae-Outline-node-text"},e.isCommonConfig?"".concat(e.label,"-[公共配置]"):this.renderTitleByKeyword(e.label,r))),c?i.default.createElement("ul",{className:"ae-Outline-sublist"},d.map((function(e,t){return n.renderItem(e,t)}))):null):null},t.prototype.render=function(){var e=this,t=this.state.curSearchElemKey,a=this.props.store,n=a.outline;return i.default.createElement("div",{className:"ae-Outline-panel"},i.default.createElement("div",{className:"panel-header"},"大纲"),i.default.createElement(s.InputBox,{className:"editor-InputSearch",value:t,onChange:this.handleSearchElemKeyChange,placeholder:"查询页面元素",clearable:!1},t?i.default.createElement("a",{onClick:this.clearSearchElemKey},i.default.createElement(s.Icon,{icon:"close",className:"icon"})):i.default.createElement(s.Icon,{icon:"editor-search",className:"icon"})),i.default.createElement("hr",{className:"margin-top"}),i.default.createElement("div",{className:(0,o.default)("ae-Outline","hoverShowScrollBar",{"ae-Outline--draging":a.dragging}),onDragOver:this.handleDragOver,onDrop:this.handleDrop},a.dragging?i.default.createElement("div",{className:"ae-Outline-tip"},"将目标拖入导航中的节点可以切换容器"):null,n.length?i.default.createElement("ul",{className:"ae-Outline-list"},n.map((function(t,a){return e.renderItem(t,a)}))):i.default.createElement("div",null,"加载中，请稍等...")))},n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleClick",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleEnter",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleDragStart",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleDragOver",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleDrop",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",void 0)],t.prototype,"handleSearchElemKeyChange",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"clearSearchElemKey",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String,String]),n.__metadata("design:returntype",void 0)],t.prototype,"renderTitleByKeyword",null),n.__decorate([l.observer],t)}(i.default.Component);t.OutlinePanel=d},4913:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=a(1502),i=a(2062),o=n.__importDefault(a(6689)),r=n.__importDefault(a(9003)),s=n.__importDefault(a(4859)),d=n.__importDefault(a(94)),c=a(3570),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={toggleCollapseFolderStatus:!1},t.curCollapseFolded={},t}return n.__extends(t,e),t.prototype.handleRegionFilterClick=function(e){var t=e.currentTarget.getAttribute("data-value"),a=this.props,n=a.store,l=a.manager;t=t===n.subRendererRegion?"":t,l.switchToRegion(t)},t.prototype.handleDragStart=function(e){var t=e.currentTarget.getAttribute("data-id");e.dataTransfer.setData('dnd-dom/[data-id="'.concat(t,'"]'),"")},t.prototype.handleClick=function(e){var t=e.currentTarget.getAttribute("data-dnd-id");this.props.manager.addElem(t)},t.prototype.changeCollapseFoldStatus=function(e,t){this.curCollapseFolded[e]=!this.curCollapseFolded[e],this.setState({toggleCollapseFolderStatus:!this.state.toggleCollapseFolderStatus}),t.preventDefault(),t.stopPropagation()},t.prototype.renderThumb=function(e){var t=this.props.manager;return e?(0,l.render)(e,{onAction:c.noop},t.env):o.default.createElement("p",null,"没有预览图")},t.prototype.render=function(){var e=this,t=this.props,a=t.store,n=t.searchRendererType,i=t.className,c=this.props.groupedRenderers||{},p=Object.keys(c);return o.default.createElement("div",{className:(0,r.default)("ae-RendererList",i)},"renderer"===n&&o.default.createElement(s.default,{store:a}),"custom-renderer"===n&&o.default.createElement(d.default,{store:a}),o.default.createElement("hr",{className:"margin-top"}),o.default.createElement("div",{className:"ae-RendererList-groupWrap hoverShowScrollBar"},p.length?p.map((function(t,n){var i=c[t];return i&&i.length?o.default.createElement(o.default.Fragment,{key:t},o.default.createElement("div",{key:"".concat(t,"-head"),className:"ae-RendererList-head collapse-header",onClick:function(a){e.changeCollapseFoldStatus(t,a)}},t,o.default.createElement("div",{className:(0,r.default)("expander-icon",{"is-folded":!!e.curCollapseFolded[t]}),title:e.curCollapseFolded[t]?"点击展开":"点击折叠"},o.default.createElement(l.Icon,{icon:"right-arrow-bold"}))),o.default.createElement("div",{key:"".concat(t,"-content"),className:(0,r.default)("ae-RendererList-group collapse-content",{"is-folded":!!e.curCollapseFolded[t]})},i.map((function(t){var i="".concat(n,"_").concat(t.id);return o.default.createElement("div",{key:i,className:"ae-RendererList-item",draggable:!0,"data-id":i,"data-dnd-type":"subrenderer","data-dnd-id":t.id,"data-dnd-data":JSON.stringify(t.scaffold||{type:t.type}),onDragStart:e.handleDragStart},o.default.createElement("div",{className:"icon-box","data-dnd-id":t.id,title:"点击添加「".concat(t.name,"」"),onClick:e.handleClick},o.default.createElement("i",{className:(0,r.default)("fa-fw",t.icon||"fa fa-circle-thin")})),o.default.createElement("div",{className:"ae-RendererInfo","data-dnd-id":t.id,onClick:e.handleClick},t.name),o.default.createElement(l.TooltipWrapper,{tooltipClassName:"ae-RendererThumb",trigger:"hover",rootClose:!0,placement:"right",tooltip:{offset:[10,0],children:function(){return o.default.createElement("div",null,o.default.createElement("div",{className:"ae-Renderer-title"},t.name),t.description||t.docLink?o.default.createElement("div",{className:"ae-Renderer-info"},o.default.createElement(l.Html,{html:t.description?t.description:""}),t.docLink&&o.default.createElement("a",{target:"_blank",href:a.amisDocHost+t.docLink}," 详情 ")):null,o.default.createElement("div",{className:"ae-Renderer-preview"},e.renderThumb(t.previewSchema)))}}},o.default.createElement("div",{className:"ae-RendererIcon"},o.default.createElement(l.Icon,{icon:"editor-help",className:"icon"}))))})))):null})):o.default.createElement("span",null,"没有找到可用组件，您可以换个关键字继续查找。")))},n.__decorate([c.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleRegionFilterClick",null),n.__decorate([c.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleClick",null),n.__decorate([c.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String,Object]),n.__metadata("design:returntype",void 0)],t.prototype,"changeCollapseFoldStatus",null),n.__decorate([i.observer],t)}(o.default.Component);t.default=p},2004:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RightPanels=void 0;var n=a(752),l=a(2062),i=n.__importDefault(a(6689)),o=a(1502),r=n.__importDefault(a(9003)),s=a(1502),d=a(3570),c=a(6405),p=a(4979),u=function(e){function t(t){var a=e.call(this,t)||this;return a.state={isOpenStatus:!0,isFixedStatus:!1},a}return n.__extends(t,e),t.prototype.handleFixed=function(){this.setState({isFixedStatus:!this.state.isFixedStatus})},t.prototype.handleSelect=function(e){this.props.store.changePanelKey(e)},t.prototype.handleHidden=function(){this.setState({isOpenStatus:!this.state.isOpenStatus})},t.prototype.getPopOverContainer=function(){return(0,c.findDOMNode)(this)},t.prototype.render=function(){var e=this,t=this.props,a=t.store,n=t.manager,l=t.theme,d=this.state,c=d.isOpenStatus,u=d.isFixedStatus,m=a.getPanels(),h=a.activeId,f=a.getNodeById(h),g=a.getPanelKey(),b=function(t){return t.render?t.render({id:h,info:null==f?void 0:f.info,path:null==f?void 0:f.path,node:f,value:a.value,onChange:n.panelChangeValue,store:a,manager:n,popOverContainer:e.getPopOverContainer}):t.component?i.default.createElement(t.component,{node:f,key:t.key,id:h,info:null==f?void 0:f.info,path:null==f?void 0:f.path,value:a.value,onChange:n.panelChangeValue,store:a,manager:n,popOverContainer:e.getPopOverContainer}):null};return m.length>0?i.default.createElement("div",{className:(0,r.default)("editor-right-panel width-draggable",m.length>1?"mul-tabs-panel":"",c?"":"hidden-status",u?"fixed-status":"")},i.default.createElement("div",{className:"editor-panel-btn","editor-tooltip":u?"关闭悬浮模式":"开启悬浮模式","tooltip-position":"left"},i.default.createElement(o.Icon,{icon:u?"editor-fixed":"editor-no-fixed",className:"panel-btn",onClick:this.handleFixed})),i.default.createElement("div",{className:"editorPanel-inner"},1===m.length?b(m[0]):i.default.createElement(s.Tabs,{theme:l,tabsMode:"sidebar",sidePosition:"right",className:"editorPanel-tabs",linksClassName:"editorPanel-tabs-header",contentClassName:"editorPanel-tabs-content",activeKey:g,onSelect:this.handleSelect},m.map((function(e){return i.default.createElement(s.Tab,{key:e.key,eventKey:e.key,title:i.default.createElement("span",{className:"editor-tab-icon","editor-tooltip":e.title,"tooltip-position":"left"},i.default.createElement("i",{className:"fa ".concat(e.icon)})),className:"editorPanel-tabs-pane ae-Editor-".concat(e.key,"Pane"),mountOnEnter:!0,unmountOnExit:!1},b(e))})))),i.default.createElement(p.WidthDraggableBtn,{isLeftDragIcon:!0}),i.default.createElement("div",{className:(0,r.default)("right-panel-arrow",c?"":"hidden-status"),onClick:this.handleHidden})):null},n.__decorate([d.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleFixed",null),n.__decorate([d.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",void 0)],t.prototype,"handleSelect",null),n.__decorate([d.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleHidden",null),n.__decorate([d.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"getPopOverContainer",null),n.__decorate([l.observer,n.__metadata("design:paramtypes",[Object])],t)}(i.default.Component);t.RightPanels=u},7649:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PopOverForm=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(1502),o=a(2062),r=a(3570),s=a(9794),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overlay=l.default.createRef(),t}return n.__extends(t,e),t.prototype.buildSchema=function(){var e=this,t=this.props.store.popOverForm;return{type:"form",wrapWithPanel:!1,mode:"normal",wrapperComponent:"div",body:t.body,submitOnChange:!0,autoFocus:!0,onFinished:function(a){var n;null===(n=t.callback)||void 0===n||n.call(t,a,(0,r.diff)(t.value,a)),setTimeout((function(){var t;return null===(t=e.overlay.current)||void 0===t?void 0:t.updatePosition()}),200)}}},t.prototype.render=function(){var e=this.props,t=e.store,a=e.theme,o=e.manager,r=t.popOverForm;return l.default.createElement(i.Overlay,{target:null==r?void 0:r.target,placement:"left-bottom-left-top left-top-left-bottom right-bottom-right-top right-top-right-bottom center",show:!!r,ref:this.overlay},l.default.createElement(i.PopOver,{overlay:!0,className:"ae-Editor-popOverForm",onHide:t.closePopOverForm},r?(0,i.render)(this.buildSchema(),{data:(0,s.createObject)(t.ctx,null==r?void 0:r.value)},n.__assign(n.__assign({},o.env),{session:"popover-form",theme:a})):l.default.createElement("p",null,"Loading...")))},n.__decorate([o.observer],t)}(l.default.Component);t.PopOverForm=d},6751:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=a(1502),i=n.__importStar(a(6689)),o=n.__importDefault(a(9003)),r=a(3570),s=a(9794),d=a(2062),c=a(6405),p=n.__importDefault(a(6089)),u=n.__importDefault(a(248)),m=a(3131),h=n.__importDefault(a(1325)),f=a(2717),g=a(9794),b=n.__importDefault(a(2959)),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.env=n.__assign(n.__assign(n.__assign({},t.props.manager.env),{notify:function(e,a,n){t.props.editable?console.warn("[Notify]",e,a):l.toast[e]?l.toast[e](a,n||("error"===e?"系统错误":"系统消息")):console.warn("[Notify]",e,a)},theme:t.props.theme,session:"preview-".concat(t.props.manager.id),rendererResolver:t.rendererResolver.bind(t)}),t.props.amisEnv),t.doingSelection=!1,t.unReaction=(0,r.reactionWithOldValue)((function(){return[t.getHighlightNodes(),t.props.store.activeId]}),(function(e,a){var n=e[0],l=t.props.store;setTimeout((function(){t.calculateHighlightBox(n)}),50);var i=null==a?void 0:a[0];Array.isArray(i)&&(i=i.filter((function(e){return!~n.indexOf(e)})),l.resetHighlightBox(i))})),t}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.currentDom=(0,c.findDOMNode)(this),this.currentDom.addEventListener("mouseleave",this.handleMouseLeave),this.currentDom.addEventListener("mousemove",this.handleMouseMove),this.currentDom.addEventListener("click",this.handleClick),this.currentDom.addEventListener("mouseover",this.handeMouseOver),this.currentDom.addEventListener("mousedown",this.handeMouseDown),this.props.manager.on("after-update",this.handlePanelChange)},t.prototype.componentWillUnmount=function(){var e=this;this.currentDom.removeEventListener("mouseleave",this.handleMouseLeave),this.currentDom.removeEventListener("mousemove",this.handleMouseMove),this.currentDom.removeEventListener("click",this.handleClick),this.currentDom.removeEventListener("mouseover",this.handeMouseOver),this.currentDom.removeEventListener("mousedown",this.handeMouseDown),this.props.manager.off("after-update",this.handlePanelChange),setTimeout((function(){return(0,s.clearStoresCache)([e.env.session])}),500)},t.prototype.contentsRef=function(e){var t,a=this;e?(this.layer=e.querySelector(".ae-Preview-widgets"),this.props.store.setLayer(this.layer),this.unSensor=(0,l.resizeSensor)(e,(function(){return a.calculateHighlightBox(a.getHighlightNodes())}))):(delete this.layer,null===(t=this.unSensor)||void 0===t||t.call(this),delete this.unSensor)},t.prototype.handlePanelChange=function(){var e=this;setTimeout((function(){return e.calculateHighlightBox(e.getHighlightNodes())}),50)},t.prototype.getHighlightNodes=function(){return this.props.store.highlightNodes.map((function(e){return e.id}))},t.prototype.calculateHighlightBox=function(e){var t=this.props.store;this.layer&&t.calculateHighlightBox(e)},t.prototype.handeMouseDown=function(e){var t,a=this,n=1===e.button&&null!==window.event||0===e.button;if(this.props.editable&&n&&!e.defaultPrevented&&!e.defaultPrevented&&!(null===(t=e.target)||void 0===t?void 0:t.closest("[draggable]"))){var l=this.layer;if(l){var i=null,o=l.getBoundingClientRect(),r=e.pageX,s=e.pageY,d=r-o.left,c=s-o.top,p=function(e){i||((i=document.createElement("div")).classList.add("ae-Editor-selectionCursor"),l.appendChild(i)),a.doingSelection=!0;var t=e.pageX-r,n=e.pageY-s;i.style.cssText="left: ".concat(d+Math.min(t,0),"px; top: ").concat(c+Math.min(n,0),"px; width: ").concat(Math.abs(t),"px; height: ").concat(Math.abs(n),"px;")},u=function(e){a.doingSelection=!1,window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",u),i&&l.removeChild(i);var t=e.pageX-r,n=e.pageY-s,o={x:d+Math.min(t,0),y:c+Math.min(n,0),w:Math.abs(t),h:Math.abs(n)};if(!(o.w<10&&o.h<10)){var m=function(e){window.removeEventListener("click",m,!0),e.preventDefault(),e.stopPropagation()};window.addEventListener("click",m,!0),setTimeout((function(){return window.removeEventListener("click",m,!0)}),350),a.doSelection(o)}};window.addEventListener("mousemove",p),window.addEventListener("mouseup",u)}}},t.prototype.doSelection=function(e){var t=this.layer,a=(0,c.findDOMNode)(this);if(t&&a){var n=[],l=t.getBoundingClientRect(),i=e.x+l.left,o=e.y+l.top,r=(e.w,e.h,e.x+l.left+e.w),s=e.y+l.top+e.h,d=a.querySelectorAll("[data-editor-id]");[].slice.apply(d).forEach((function(e){if(!n.some((function(t){return t.contains(e)}))){var t=e.getBoundingClientRect();i<=t.left&&o<=t.top&&r>=t.right&&s>=t.bottom&&(~n.indexOf(e)||n.push(e))}}));var p=n.map((function(e){return e.getAttribute("data-editor-id")})).filter((function(e,t,a){return a.indexOf(e)===t}));p.length&&this.props.manager.setSelection(p)}},t.prototype.handleClick=function(e){var t,a=this.props.store,n=e.target.closest("[data-editor-id]");if(!e.target.closest(".ae-editor-action-btn"))if(e.defaultPrevented)e.stopPropagation();else{if(n){var l=n.getAttribute("data-editor-id"),i="",o=e.target.closest("[data-region-host]");if(o){var r=o.getAttribute("data-region-host");r&&r===l&&o.getAttribute("data-region")&&(i=o.getAttribute("data-region"))}e.metaKey?this.props.manager.toggleSelection(l):a.setActiveId(l,i)}if(!(null===(t=this.layer)||void 0===t?void 0:t.contains(e.target))&&this.props.editable){var s=this.props.manager.trigger("prevent-click",{data:e});s.prevented||s.stoped||(e.preventDefault(),e.stopPropagation())}}},t.prototype.handleNavSwitch=function(e){this.props.store.setActiveId(e)},t.prototype.handleMouseMove=function(e){var t;if(!this.doingSelection&&!this.props.manager.disableHover){var a=this.props.store,n=e.target;if(!(null===(t=this.layer)||void 0===t?void 0:t.contains(n))&&!e.target.closest(".ignore-hover-elem")){var l=n.closest("[data-editor-id]");if(l){var i=l.getAttribute("data-editor-id"),o="",r=e.target.closest("[data-region-host]");if(r){var s=r.getAttribute("data-region-host");s&&s===i&&r.getAttribute("data-region")&&(o=r.getAttribute("data-region"))}a.setMouseMoveRegion(o),a.setHoverId(i)}}}},t.prototype.handleMouseLeave=function(){var e=this.props.store;e.setMouseMoveRegion(""),e.setHoverId("")},t.prototype.handeMouseOver=function(e){this.props.editable&&(e.preventDefault(),e.stopPropagation())},t.prototype.handleDragEnter=function(e){this.props.manager.dnd.dragEnter(e.nativeEvent)},t.prototype.handleDragLeave=function(e){this.props.manager.dnd.dragLeave(e.nativeEvent)},t.prototype.handleDragOver=function(e){this.props.manager.dnd.dragOver(e.nativeEvent)},t.prototype.handleDrop=function(e){this.props.manager.dnd.drop(e.nativeEvent)},t.prototype.getCurrentTarget=function(){return this.props.isMobile?this.currentDom.querySelector(".ae-Preview-inner"):this.currentDom.querySelector(".ae-Preview-body")},t.prototype.rendererResolver=function(e,t,a){var i=this.props,o=i.editable,r=i.manager,s=(0,l.resolveRenderer)(e,t);if(!1===o)return s;s=s||{name:"error",test:function(){return!0},component:m.ErrorRenderer};var d=r.getEditorInfo(s,e,t);return d&&(s=n.__assign(n.__assign({},s),{component:r.makeWrapper(d,s)})),s},t.prototype.render=function(){var e=this,t=this.props,a=t.className,r=t.editable,s=t.store,d=t.manager,c=(t.amisEnv,t.theme),m=t.isMobile,f=t.iframeUrl,g=t.autoFocus,v=t.toolbarContainer,_=n.__rest(t,["className","editable","store","manager","amisEnv","theme","isMobile","iframeUrl","autoFocus","toolbarContainer"]);return i.default.createElement("div",{id:"editor-preview-body",onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDrop:this.handleDrop,className:(0,o.default)("ae-Preview",a,m?"is-mobile-body hoverShowScrollBar":"is-pc-body")},i.default.createElement("div",{className:(0,o.default)("ae-Preview-body",a,r?"is-edting":"",m?"is-mobile":"is-pc hoverShowScrollBar")},f&&m&&i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"mobile-sound"}),i.default.createElement("div",{className:"mobile-receiver"}),i.default.createElement("div",{className:"mobile-left-btn"}),i.default.createElement("div",{className:"mobile-right-btn"}),i.default.createElement("div",{className:"mobile-open-btn"})),i.default.createElement("div",{className:"ae-Preview-inner",ref:this.contentsRef},f&&m?i.default.createElement(h.default,n.__assign({},_,{key:"mobile",className:"ae-PreviewFrame",editable:r,isMobile:m,store:s,env:this.env,manager:d,url:f,theme:c,autoFocus:g})):i.default.createElement(y,n.__assign({},_,{editable:r,autoFocus:g,store:s,env:this.env,manager:d,key:"pc"})),f&&m&&s.contextId?i.default.createElement("span",{className:"ae-IframeMask"}):null,i.default.createElement("div",{className:"ae-Preview-widgets",id:"aePreviewHighlightBox"},s.highlightNodes.map((function(t){return i.default.createElement(p.default,{node:t,key:t.id,store:s,id:t.id,title:t.label,toolbarContainer:v,onSwitch:e.handleNavSwitch,manager:d},t.childRegions.map((function(e){return!t.memberImmutable(e.region)&&s.isRegionActive(e.id,e.region)?i.default.createElement(u.default,{manager:d,key:e.region,store:s,node:e,id:e.id,name:e.region,title:e.label,preferTag:e.preferTag,isOnlyChildRegion:1===t.childRegions.length}):null})))})))),this.currentDom&&i.default.createElement(b.default,{key:m?"mobile-back-up":"pc-back-up",className:"ae-editor-action-btn",target:this.getCurrentTarget.bind(this),onClick:function(e){console.log(e)}},i.default.createElement(l.Icon,{icon:"back-up",className:"back-top-icon"}))))},n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"contentsRef",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handlePanelChange",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Array]),n.__metadata("design:returntype",void 0)],t.prototype,"calculateHighlightBox",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handeMouseDown",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleClick",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",void 0)],t.prototype,"handleNavSwitch",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleMouseMove",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleMouseLeave",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handeMouseOver",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleDragEnter",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleDragLeave",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleDragOver",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleDrop",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"getCurrentTarget",null),n.__decorate([d.observer],t)}(i.Component);t.default=v;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props.store;this.props.autoFocus?setTimeout((function(){if((0,f.isAlive)(e)){var t=(0,g.findTree)(e.outline,(function(e){return!e.isRegion&&e.clickable}));t&&(0,f.isAlive)(e)&&e.setActiveId(t.id)}}),350):this.props.manager.buildRenderersAndPanels()},t.prototype.render=function(){var e=this.props,t=e.editable,a=e.store,i=(e.autoFocus,e.env),o=e.data,r=(e.manager,n.__rest(e,["editable","store","autoFocus","env","data","manager"]));return(0,l.render)(t?a.filteredSchema:a.filteredSchemaForPreview,n.__assign(n.__assign({},r),{key:t?"edit-mode":"preview-mode",theme:i.theme,data:null!=o?o:a.ctx}),i)},n.__decorate([d.observer],t)}(i.default.Component)},248:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddBTNSvg=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(9003)),o=a(1502),r=a(2062),s=a(3570);t.AddBTNSvg='<svg viewBox="0 0 12 12">\n<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="plus" fill="currentColor" fill-rule="nonzero">\n    <polygon points="6.6 6.6 6.6 12 5.4 12 5.4 6.6 0 6.6 0 5.4 5.4 5.4 5.4 0 6.6 0 6.6 5.4 12 5.4 12 6.6"></polygon>\n  </g>\n</g>\n</svg>';var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.handleClick=function(){var e=this.props,t=e.manager,a=e.id,n=e.name;t.emptyRegion(a,n)},t.prototype.render=function(){var e=this.props,t=e.store,a=e.id,n=e.name,r=e.title,s=e.node,d=e.isOnlyChildRegion,c=t.isRegionHighlighted(a,n),p=t.isRegionHighlightHover(a,n),u=t.isRegionDragEnter(a,n),m=t.getNodeById(a),h=s.x-m.x,f=s.y-m.y;return l.default.createElement("div",{"data-renderer":s.host.info.renderer.name,"data-region":n,className:(0,i.default)("ae-Editor-rhlbox",u?"is-dragenter":"",!d&&p?"region-hover":"",c?"is-highlight":"",h<87&&f<21&&s.x<190?"region-label-within":""),style:{width:s.w,height:s.h,borderWidth:"".concat(Math.max(0,f),"px ").concat(Math.max(0,m.w-h-s.w),"px ").concat(Math.max(0,m.h-f-s.h),"px ").concat(Math.max(0,h),"px")}},l.default.createElement("div",{"data-node-id":a,"data-node-region":n,className:"region-tip ".concat(d?"is-only-child-region":""," ignore-hover-elem")},r,l.default.createElement("span",{className:"margin-space"},"|"),l.default.createElement("button",{type:"button",className:"clear-icon-btn","data-tooltip":"点击清空当前区域","data-position":"bottom",onClick:this.handleClick},l.default.createElement(o.Icon,{icon:"clear-btn"}))))},n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleClick",null),n.__decorate([r.observer],t)}(l.default.Component);t.default=d},1548:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RegionWrapper=void 0;var n=a(752),l=a(2717),i=n.__importDefault(a(6689)),o=a(6405),r=a(2406),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.UNSAFE_componentWillMount=function(){this.parentNode=this.context;var e=this.props,t=e.$$editor,a=e.manager;if(!this.parentNode&&t&&t.id){var n=a.store.getNodeById(t.id);n&&(this.parentNode=n)}this.parentNode&&(this.editorNode=this.parentNode.addChild({id:this.parentNode.id,type:this.parentNode.type,label:this.props.label,path:"".concat(this.parentNode.path,"/").concat(this.props.name),region:this.props.name,regionInfo:this.props.regionConfig,preferTag:this.props.preferTag}))},t.prototype.componentDidMount=function(){this.editorNode&&this.markDom(this.editorNode.id,this.props.name,this.props.rendererName)},t.prototype.componentDidUpdate=function(e){this.editorNode&&this.markDom(this.editorNode.id,this.props.name,this.props.rendererName)},t.prototype.componentWillUnmount=function(){this.editorNode&&(0,l.isAlive)(this.editorNode)&&this.parentNode.removeChild(this.editorNode)},t.prototype.markDom=function(e,t,a){var n=(0,o.findDOMNode)(this);if(n){var l=this.props.wrapperResolve,i=l?l(n):n.parentElement;i.setAttribute("data-region",t),i.setAttribute("data-region-host",e),i.setAttribute("data-region-placeholder",this.props.placeholder||this.props.label),a&&i.setAttribute("data-renderer",a)}},t.prototype.render=function(){return i.default.createElement(r.EditorNodeContext.Provider,{value:this.editorNode},this.props.children,i.default.createElement("span",{className:"ae-Region-placeholder"}))},t.contextType=r.EditorNodeContext,t}(i.default.Component);t.RegionWrapper=s},3879:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RendererThumb=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(1502),r=function(e){function t(t){var a=e.call(this,t)||this;return a.env=n.__assign({session:"preview"},a.props.env),a.state={scale:!0},a.rootRef=a.rootRef.bind(a),a.syncHeight=a.syncHeight.bind(a),a.handleClick=a.handleClick.bind(a),a}return n.__extends(t,e),t.prototype.componentWillUnmount=function(){this.unSensor&&this.unSensor()},t.prototype.rootRef=function(e){var t;this.ref=e,e&&(this.syncHeight(),this.unSensor=(0,o.resizeSensor)(null===(t=e.firstChild)||void 0===t?void 0:t.firstChild,this.syncHeight))},t.prototype.syncHeight=function(){if(this.ref){var e=this.state.scale,t=this.ref.firstChild;this.ref.style.cssText="height: ".concat(t.scrollHeight/(e?2:1),"px;")}},t.prototype.handleClick=function(e){e.preventDefault(),this.setState({scale:!this.state.scale})},t.prototype.render=function(){var e=this,t=this.props,a=t.schema,r=t.theme;return i.default.createElement(l.LazyComponent,{unMountOnHidden:!1,schema:a,component:function(t){var a=t.schema;return i.default.createElement("div",{className:"ae-RenderersPicker-thumb ".concat(e.state.scale?"is-scaled":"")},i.default.createElement("div",{className:"ae-Editor-rendererThumbWrap"},i.default.createElement("div",{className:"ae-Editor-rendererThumbIcon",onClick:e.handleClick},i.default.createElement(l.Icon,{icon:e.state.scale?"zoom-in":"zoom-out"})),i.default.createElement("div",{ref:e.rootRef,className:"ae-Editor-rendererThumb"},i.default.createElement("div",{className:"ae-Editor-rendererThumbInner"},(0,o.render)(n.__assign(n.__assign({},a),{mode:"horizontal"===a.mode?"normal":a.mode}),{theme:r},e.env)))))}})},t}(i.default.Component);t.RendererThumb=r},8024:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScaffoldModal=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(1502),o=a(2062),r=a(3570),s=a(9794),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.handleConfirm=function(e){var t,a,l,i=e[0],o=this.props.store;if(i=n.__assign(n.__assign({},null===(t=o.scaffoldForm)||void 0===t?void 0:t.value),i),null===(a=o.scaffoldForm)||void 0===a?void 0:a.pipeOut){var r=o.scaffoldForm.pipeOut(i);i=n.__assign({},r)}null===(l=o.scaffoldForm)||void 0===l||l.callback(i),o.closeScaffoldForm()},t.prototype.buildSchema=function(){var e,t,a=this.props.store.scaffoldForm;return(e={type:"form",wrapWithPanel:!1,initApi:a.initApi,api:a.api,mode:a.mode||"normal",wrapperComponent:"div"})[a.controls?"controls":"body"]=null!==(t=a.controls)&&void 0!==t?t:a.body,e},t.prototype.scopeRef=function(e){this.amisScope=e},t.prototype.handleConfirmClick=function(){var e;return n.__awaiter(this,void 0,void 0,(function(){var t,a,l,i;return n.__generator(this,(function(n){switch(n.label){case 0:if(!(t=null===(e=this.amisScope)||void 0===e?void 0:e.getComponents()[0]))return[2];a=this.props.store,n.label=1;case 1:return n.trys.push([1,3,4,5]),a.setScaffoldBuzy(!0),[4,t.doAction({type:"submit"},t.props.data,!0)];case 2:return l=n.sent(),this.handleConfirm([l]),[3,5];case 3:return i=n.sent(),console.log(i.stack),a.setScaffoldError(i.message),[3,5];case 4:return a.setScaffoldBuzy(!1),[7];case 5:return[2]}}))}))},t.prototype.render=function(){var e=this.props,t=e.store,a=e.theme,o=e.manager,r=t.scaffoldForm,d=(0,i.getTheme)(a||"cxd").classnames;return l.default.createElement(i.Modal,{size:(null==r?void 0:r.size)||"md",show:!!r,onHide:t.closeScaffoldForm,closeOnEsc:!t.scaffoldFormBuzy},l.default.createElement("div",{className:d("Modal-header")},t.scaffoldFormBuzy?null:l.default.createElement("a",{"data-position":"left",onClick:t.closeScaffoldForm,className:d("Modal-close")},l.default.createElement(i.Icon,{icon:"close",className:"icon"})),l.default.createElement("div",{className:d("Modal-title")},null==r?void 0:r.title)),l.default.createElement("div",{className:d("Modal-body")},r?(0,i.render)(this.buildSchema(),{data:(0,s.createObject)(t.ctx,null==r?void 0:r.value),onValidate:r.validate,scopeRef:this.scopeRef},n.__assign(n.__assign({},o.env),{session:"scaffold-dialog",theme:a})):l.default.createElement("p",null,"Loading...")),l.default.createElement("div",{className:d("Modal-footer")},t.scaffoldFormBuzy||t.scaffoldError?l.default.createElement("div",{className:d("Dialog-info"),key:"info"},l.default.createElement(i.Spinner,{size:"sm",key:"info",show:t.scaffoldFormBuzy}),t.scaffoldError?l.default.createElement("span",{className:d("Dialog-error")},t.scaffoldError):null):null,l.default.createElement(i.Button,{level:"primary",onClick:this.handleConfirmClick,disabled:t.scaffoldFormBuzy},"确认"),l.default.createElement(i.Button,{onClick:t.closeScaffoldForm},"取消")))},n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleConfirm",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"scopeRef",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",Promise)],t.prototype,"handleConfirmClick",null),n.__decorate([o.observer],t)}(l.default.Component);t.ScaffoldModal=d},1952:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SubEditor=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(1502),o=a(2062),r=n.__importDefault(a(2296)),s=a(3570),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.afterResolveEditorInfo=function(e){var t,a,n,l,i,o,r=this.props.store,s=e.context;if(null===(t=r.subEditorContext)||void 0===t?void 0:t.slot){var d=r.subEditorSlotPath;!~s.schemaPath.indexOf(d)&&s.data?(s.data.editable=!1,s.data.memberImmutable=!Array.isArray(null===(l=r.subEditorContext)||void 0===l?void 0:l.value),s.data.memberImmutable||(s.data.name="容器")):s.schemaPath===d&&s.data&&(Array.isArray(null===(i=r.subEditorContext)||void 0===i?void 0:i.value)||(s.data.movable=!1,s.data.removable=!1),s.data.typeMutable=null===(o=r.subEditorContext)||void 0===o?void 0:o.typeMutable)}else s.data&&!s.schemaPath&&(null===(a=r.subEditorContext)||void 0===a?void 0:a.memberImmutable)&&(s.data.memberImmutable=null===(n=r.subEditorContext)||void 0===n?void 0:n.memberImmutable)},t.prototype.handleBuildPanels=function(e){var t,a,n=this.props.store;if(null===(a=n.subEditorContext)||void 0===a?void 0:a.slot){n.subEditorSlotPath;var l=e.context;if(l.info.memberImmutable){var i=l.data.concat();l.data.splice(0,l.data.length);var o=i.filter((function(e){return"renderers"!==e.key}));o&&(t=l.data).push.apply(t,o),l.changeLeftPanelKey="outline"}}},t.prototype.buildSchema=function(){var e,t=this,a=this.props,i=a.store,o=a.manager,s=i.subEditorContext,d=o.config;return{size:"full",title:null===(e=i.subEditorContext)||void 0===e?void 0:e.title,onClose:i.closeSubEditor,onConfirm:i.confirmSubEditor,body:i.subEditorContext?{type:"form",mode:"normal",wrapperComponent:"div",onValidate:function(e){return n.__awaiter(t,void 0,void 0,(function(){var t,a,l;return n.__generator(this,(function(n){switch(n.label){case 0:return[4,null===(l=null===(a=i.subEditorContext)||void 0===a?void 0:a.validate)||void 0===l?void 0:l.call(a,e)];case 1:return(t=n.sent())?[2,{schema:t}]:[2]}}))}))},onChange:i.subEditorOnChange,body:[{name:"schema",asFormItem:!0,children:function(e){var a,n,s=e.value,c=e.onChange;return l.default.createElement(r.default,{autoFocus:!0,value:s,ref:i.subEditorRef,onChange:c,data:null===(a=i.subEditorContext)||void 0===a?void 0:a.data,schemaFilter:o.config.schemaFilter,theme:o.env.theme,afterResolveEditorInfo:t.afterResolveEditorInfo,onBuildPanels:t.handleBuildPanels,isMobile:i.isMobile,isSubEditor:!0,iframeUrl:d.iframeUrl,ctx:i.ctx,amisEnv:d.amisEnv,plugins:d.plugins,showCustomRenderersPanel:null===(n=i.showCustomRenderersPanel)||void 0===n||n,isHiddenProps:d.isHiddenProps,$schemaUrl:d.$schemaUrl})}}]}:{type:"tpl",tpl:"Loading..."},actions:[[{children:s?l.default.createElement("div",{className:"ae-DialogToolbar"},l.default.createElement("button",{type:"button","data-tooltip":"撤销",disabled:!s.canUndo,onClick:i.undoSubEditor},l.default.createElement("i",{className:"fa fa-undo"})),l.default.createElement("button",{type:"button","data-tooltip":"重做",disabled:!s.canRedo,onClick:i.redoSubEditor},l.default.createElement("i",{className:"fa fa-rotate-right"}))):null},{type:"submit",label:"确认",level:"primary"},{type:"button",label:"取消",actionType:"close"}]],closeOnEsc:!1,bodyClassName:"ae-dialog subEditor-dialog"}},t.prototype.render=function(){var e=this.props,t=e.store,a=e.theme,l=e.manager;return(0,i.render)(n.__assign({type:"dialog"},this.buildSchema()),{show:!!t.subEditorContext,data:{schema:t.subEditorValue}},n.__assign(n.__assign({},l.env),{session:"editor-dialog",theme:a}))},n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"afterResolveEditorInfo",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleBuildPanels",null),n.__decorate([o.observer],t)}(l.default.Component);t.SubEditor=d},1578:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TableViewEditor=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(113)),o=a(1502),r=a(3570);function s(e){for(var t=0,a=0,n=0;n<e.length;n++){var l=(e[n].tds||[]).length;l>t&&(a=n,t=l)}return a}var d=function(e){function t(t){var a=e.call(this,t)||this;a.preventTableClick=!1,a.tableViewWrapperRef=l.default.createRef(),a.store=a.props.manager.store;var n=a.props.schema.trs||[];if(n.length){var i=n.map((function(e){return e.$$id})),o=s(n);a.maxChildTrIndex=o;var r=(n[o].tds||[]).map((function(e){return e.$$id}));a.state={trIds:i,tdIds:r,displayMergeCell:!1}}else a.state={trIds:[],tdIds:[],displayMergeCell:!1};return a.listenTdSelection(),a}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.syncLinePos(),this.listenTdSelection()},t.prototype.componentWillUnmount=function(){this.removeListenTdSelection()},t.prototype.syncLineState=function(){var e=this,t=this.props.schema.trs||[];if(t.length){var a=t.map((function(e){return e.$$id})),n=s(t);this.maxChildTrIndex=n;var l=(t[n].tds||[]).map((function(e){return e.$$id}));this.setState({trIds:a,tdIds:l},(function(){e.syncLinePos()}))}},t.prototype.removeListenTdSelection=function(){var e=this.tableViewWrapperRef.current;if(e){var t=e.querySelector("tbody");t.removeEventListener("mousedown",this.handleCellMouseDown),t.removeEventListener("mousemove",this.handleCellMouseMove),t.removeEventListener("mouseup",this.handleCellMouseUp),t.removeEventListener("click",this.handleCellMouseClick)}},t.prototype.listenTdSelection=function(){var e=this.tableViewWrapperRef.current;if(e){var t=e.querySelector("tbody");t.addEventListener("mousedown",this.handleCellMouseDown),t.addEventListener("mousemove",this.handleCellMouseMove),t.addEventListener("mouseup",this.handleCellMouseUp),t.addEventListener("click",this.handleCellMouseClick)}},t.prototype.handleCellMouseDown=function(e){var t,a=e.target;if(!a||"TD"===a.tagName){this.removeAllSelectionMark(),this.setState({displayMergeCell:!1});var n=a.getAttribute("data-editor-id");this.isSelectionCell=!0,this.selectedCell=((t={})[n]=(0,r.JSONGetById)(this.props.schema,n),t)}},t.prototype.handleCellMouseMove=function(e){if(this.isSelectionCell){this.preventTableClick=!0;var t=e.target;if(t&&"TD"!==t.tagName)return;var a=t.getAttribute("data-editor-id");a in this.selectedCell||(this.selectedCell[a]=(0,r.JSONGetById)(this.props.schema,a),this.markSelectingCell(),this.setState({displayMergeCell:!0}))}},t.prototype.findFirstAndLastCell=function(){var e=[];for(var t in this.selectedCell)e.push(this.selectedCell[t]);e.length||console.warn("必须有 td");for(var a=e[0].$$col,n=e[0].$$row,l=0,i=0,o=null,r=0,s=e;r<s.length;r++){var d=s[r],c=d.$$col+(d.colspan||1)-1,p=d.$$row+(d.rowspan||1)-1;c>=l&&(l=c),p>=i&&(i=p),d.$$col<=a&&(a=d.$$col),d.$$row<=n&&(n=d.$$row),d.$$col===a&&d.$$row===n&&(o=d)}return{minRow:n,minCol:a,maxRow:i,maxCol:l,firstCell:o,lastCell:null}},t.prototype.markSelectingCell=function(){for(var e=this,t=this.findFirstAndLastCell(),a=t.minRow,n=t.minCol,l=t.maxRow,i=t.maxCol,o=0,r=this.props.schema.trs;o<r.length;o++)for(var s=0,d=r[o].tds;s<d.length;s++){var c=d[s],p=c;p.$$col>=n&&p.$$col<=i&&p.$$row>=a&&p.$$row<=l&&(p.$$id in this.selectedCell||(this.selectedCell[p.$$id]=c))}var u=this.tableViewWrapperRef.current;u&&u.querySelectorAll("td").forEach((function(t){t.getAttribute("data-editor-id")in e.selectedCell&&t.setAttribute("data-selected","1")}))},t.prototype.removeAllSelectionMark=function(){var e=this.tableViewWrapperRef.current;e&&e.querySelectorAll("td").forEach((function(e){e.removeAttribute("data-selected")}))},t.prototype.handleCellMouseUp=function(e){this.isSelectionCell=!1},t.prototype.handleCellMouseClick=function(e){this.preventTableClick&&(e.stopPropagation(),e.preventDefault(),this.preventTableClick=!1)},t.prototype.handleMergeCell=function(){var e=this.findFirstAndLastCell(),t=e.firstCell,a=e.minRow,n=e.minCol,l=e.maxRow,i=e.maxCol;if(t){var o=t.$$id,r=i-n+1,s=l-a+1;t.colspan=r,t.rowspan=s;var d=[];for(var c in this.selectedCell)d.push(this.selectedCell[c]);for(var p=d.filter((function(e){return e.$$id!==o})).map((function(e){return e.$$id})),u=this.props.schema.trs,m=u.length;m--;){var h=u[m];h.tds=h.tds.filter((function(e){return!p.includes(e.$$id)})),h.tds.length||u.splice(m,1)}var f=this.props.schema.$$id;this.store.changeValueById(f,this.props.schema),this.setState({displayMergeCell:!1})}else console.warn("找不到第一个 cell")},t.prototype.syncLinePos=function(){var e=this.tableViewWrapperRef.current;if(e){var t=e.querySelector("table").getBoundingClientRect(),a=e.querySelectorAll("tr");if(!a.length||void 0===this.maxChildTrIndex)return;for(var n=Array.from(e.querySelectorAll(".ae-TableViewEditor-rowLine")),l=0;l<a.length;l++)if(a[l]){var i=a[l].getBoundingClientRect();n[l]?n[l].style.top=i.top+i.height-t.top-3.5+"px":console.warn("行线数量不对")}for(var o=a[this.maxChildTrIndex].querySelectorAll("td"),r=Array.from(e.querySelectorAll(".ae-TableViewEditor-colLine")),s=0;s<o.length;s++){var d=o[s];if(d){var c=d.getBoundingClientRect();r[s]?r[s].style.left=c.left+c.width-t.left-3.5+"px":console.warn("列线数量不对")}}}},t.prototype.componentDidUpdate=function(e){var t=e.schema,a=this.props.schema;(0,i.default)(t,a)||this.syncLineState()},t.prototype.lineMouseDownCommon=function(e){this.startY=e.clientY,this.startX=e.clientX;var t=e.currentTarget;this.draggingElement=t,this.draggingElementTop=parseInt(this.draggingElement.style.top,10),this.draggingElementLeft=parseInt(this.draggingElement.style.left,10),t.style.background="#4285f4",this.draggingId=t.getAttribute("data-id"),t.addEventListener("click",this.handleLineClick,{once:!0})},t.prototype.handleRowMouseDown=function(e){this.lineMouseDownCommon(e),document.addEventListener("mousemove",this.handleRowMouseMove),document.addEventListener("mouseup",this.handleRowMouseUp)},t.prototype.handleRowMouseMove=function(e){var t=e.clientY-this.startY;this.draggingElement.style.top=this.draggingElementTop+t+"px"},t.prototype.handleRowMouseUp=function(e){document.removeEventListener("mousemove",this.handleRowMouseMove),document.removeEventListener("mouseup",this.handleRowMouseUp);var t=e.clientY-this.startY,a=this.store,l=this.draggingId,i=a.getValueOf(l),r=this.tableViewWrapperRef.current.querySelector('tr[data-editor-id="'.concat(l,'"]'));if(this.draggingElement.style.background="none",i&&r){var s=r.getBoundingClientRect().height+t;a.changeValueById(l,n.__assign(n.__assign({},i),{height:s})),42-s>20&&o.toast.warning("由于内边距限制，太小的高度设置会不生效，可以调小默认内边距")}else console.warn("找不到对应的 id",l)},t.prototype.handleColMouseDown=function(e){this.lineMouseDownCommon(e),document.addEventListener("mousemove",this.handleColMouseMove),document.addEventListener("mouseup",this.handleColMouseUp)},t.prototype.handleColMouseMove=function(e){var t=e.clientX-this.startX;this.draggingElement.style.left=this.draggingElementLeft+t+"px"},t.prototype.handleColMouseUp=function(e){document.removeEventListener("mousemove",this.handleColMouseMove),document.removeEventListener("mouseup",this.handleColMouseUp);var t=e.clientX-this.startX,a=this.store,l=this.draggingId,i=a.getValueOf(l),o=this.tableViewWrapperRef.current.querySelector('td[data-editor-id="'.concat(l,'"]'));if(this.draggingElement.style.background="none",i&&o){var r=o.getBoundingClientRect().width+t;a.changeValueById(l,n.__assign(n.__assign({},i),{width:r}))}else console.warn("找不到对应的 id",l)},t.prototype.handleLineClick=function(e){e.stopPropagation(),e.preventDefault()},t.prototype.renderMergeIcon=function(){return this.state.displayMergeCell?l.default.createElement("div",{className:"ae-TableViewEditor-mergeIcon",onMouseDown:this.handleMergeCell},"合并单元格"):null},t.prototype.render=function(){var e=this,t=this.state.trIds.map((function(t){return l.default.createElement("div",{className:"ae-TableViewEditor-rowLine",key:"row-".concat(t),"data-id":t,onMouseDown:e.handleRowMouseDown})})),a=this.state.tdIds.map((function(t){return l.default.createElement("div",{className:"ae-TableViewEditor-colLine",key:"row-".concat(t),"data-id":t,onMouseDown:e.handleColMouseDown})}));return l.default.createElement("div",{className:"ae-TableViewEditor",ref:this.tableViewWrapperRef},this.props.children,this.renderMergeIcon(),t,a)},n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"removeListenTdSelection",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"listenTdSelection",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleCellMouseDown",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleCellMouseMove",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleCellMouseUp",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleCellMouseClick",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleMergeCell",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleRowMouseDown",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleRowMouseMove",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleRowMouseUp",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleColMouseDown",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleColMouseMove",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleColMouseUp",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[MouseEvent]),n.__metadata("design:returntype",void 0)],t.prototype,"handleLineClick",null),t}(l.default.Component);t.TableViewEditor=d},5863:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VRenderer=void 0;var n=a(752),l=a(2717),i=n.__importDefault(a(6689)),o=a(6405),r=a(2406),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.UNSAFE_componentWillMount=function(){var e=this,t=this.props,a=(t.data,t.path,t.widthMutable),l=n.__rest(t,["data","path","widthMutable"]),i=this.context;this.editorNode=i.addChild({id:l.id,type:l.type,label:l.name,path:this.props.path,schemaPath:l.schemaPath,info:l,getData:function(){return e.props.data},widthMutable:a,memberIndex:l.memberIndex})},t.prototype.componentDidMount=function(){this.markDom(this.editorNode.id)},t.prototype.componentDidUpdate=function(){this.markDom(this.editorNode.id)},t.prototype.componentWillUnmount=function(){(0,l.isAlive)(this.editorNode)&&this.context.removeChild(this.editorNode)},t.prototype.markDom=function(e){var t=(0,o.findDOMNode)(this);if(t){var a=this.editorNode.info,n=a.wrapperResolve?a.wrapperResolve(t):t;(Array.isArray(n)?n:n?[n]:[]).forEach((function(t){return t.setAttribute("data-editor-id",e)}))}},t.prototype.render=function(){return i.default.createElement(r.EditorNodeContext.Provider,{value:this.editorNode},this.props.children)},t.contextType=r.EditorNodeContext,t}(i.default.Component);t.VRenderer=s},2959:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(9003)),o=a(3901),r=a(3570),s=function(e){function t(t){var a=e.call(this,t)||this;return a.ref=l.default.createRef(),a.scrollElem=null,a.state={visible:void 0!==t.visible&&t.visible},a}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.bindScrollEvent()},t.prototype.componentWillUnmount=function(){this.scrollElem&&this.scrollElem.removeEventListener("scroll",this.handleScroll)},t.prototype.getDefaultTarget=function(){return this.ref.current&&this.ref.current.ownerDocument?this.ref.current.ownerDocument:window},t.prototype.handleScroll=function(e){var t=this.props.visibilityHeight||400,a=function(e,t){var a;if("undefined"==typeof window)return 0;var n,l="scrollTop",i=0,o=null!=(n=e)&&n===n.window;return o?i=e.pageYOffset:e instanceof Document?i=e.documentElement[l]:e&&(i=e[l]),e&&!o&&"number"!=typeof i&&(i=null===(a=(e.ownerDocument||e).documentElement)||void 0===a?void 0:a[l]),i}(e.target);this.setState({visible:a>t})},t.prototype.bindScrollEvent=function(){var e=this.props.target;this.scrollElem=e()||this.getDefaultTarget(),this.scrollElem&&(this.scrollElem.addEventListener("scroll",this.handleScroll),this.handleScroll({target:this.scrollElem}))},t.prototype.scrollToTop=function(e){var t=this.props.onClick;this.scrollElem&&(this.scrollElem.scrollTo({top:0,behavior:"smooth"}),"function"==typeof t&&t(e))},t.prototype.render=function(){var e=this.props,t=e.children,a=e.className,r=void 0===a?"":a,s=(0,i.default)("editor-backTop",r,this.state.visible?"":"hidden"),d=o(this.props,["className","children","visibilityHeight","target","visible"]),c=l.default.createElement("div",{className:"backTop-content"},l.default.createElement("div",{className:"backTop-icon"},"UP"));return l.default.createElement("div",n.__assign({},d,{className:s,onClick:this.scrollToTop,ref:this.ref}),t||c)},n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"getDefaultTarget",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleScroll",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"bindScrollEvent",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"scrollToTop",null),t}(l.default.Component);t.default=s},3131:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorRenderer=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){return l.default.createElement("div",{className:"ae-ErrorRenderer"},"类型错误，无法渲染")},t}(l.default.Component);t.ErrorRenderer=i},5992:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InputComponentName=void 0;var n=a(6689);t.InputComponentName=function(e){var t=e.value,a=e.onChange,l=e.render,i=e.name,o=e.node,r=(0,n.useState)([]),s=r[0],d=r[1];return(0,n.useEffect)((function(){for(var e=null==o?void 0:o.getComponent(),t=null==e?void 0:e.context,a=[];null==t?void 0:t.getComponents;)t.getComponents().forEach((function(t){t.props.name&&t!==e&&a.push(t.props.name)})),t=t.parent;d(a)}),[o]),l("inner",{type:"input-text",name:i},{value:t,onChange:function(e){return a(e),!1},options:s})}},94:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importDefault(a(6689)),i=a(2062),o=n.__importDefault(a(512)),r=function(e){function t(t){var a=e.call(this,t)||this;a.localStorageKey="amis-editor-custom-renderer-search-history";var n=t.store.customRenderersByOrder;return n=n.filter((function(e){return!e.disabledRendererPlugin})),a.state={customRenderersByOrder:n},a}return n.__extends(t,e),t.prototype.render=function(){var e=this.state.customRenderersByOrder,t=this.props.store,a=t.changeCustomRenderersKeywords,n=t.changeCustomRenderersTag;return e&&e.length>0?l.default.createElement(o.default,{allResult:e,searchPanelUUID:this.localStorageKey,onChange:a,onTagChange:n}):null},n.__decorate([i.observer,n.__metadata("design:paramtypes",[Object])],t)}(l.default.Component);t.default=r},512:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importDefault(a(6689)),i=a(2062),o=a(1502),r=n.__importDefault(a(9003)),s=a(3570),d=n.__importDefault(a(7026)),c=function(e){function t(t){var a=e.call(this,t)||this;a.ref=l.default.createRef(),a.localStorageKey="amis-editor-search-panel",a.curTagFolded={},t.searchPanelUUID&&(a.localStorageKey=t.searchPanelUUID);var n=[],i={};if(t.allResult&&t.allResult.length>0){var o=a.getResultTags(t.allResult);n=o.curResultTags,i=o.curResultByTag}return a.state={resultTags:n,resultByTag:i,curKeyword:t.externalKeyword||"",searchResult:[],searchResultByTag:{},visible:!1,curKeywordSearchHistory:a.getSearchHistory(),toggleTagFolderStatus:!0},a}return n.__extends(t,e),t.prototype.componentDidMount=function(){var e,t;(null===(t=null===(e=this.ref.current)||void 0===e?void 0:e.childNodes[0])||void 0===t?void 0:t.childNodes[0])&&(this.curInputBox=this.ref.current.childNodes[0].childNodes[0],this.curInputBox.addEventListener("keyup",this.bindEnterEvent))},t.prototype.componentWillUnmount=function(){this.curInputBox&&this.curInputBox.removeEventListener("keyup",this.bindEnterEvent)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this,a=e.externalKeyword;a!==this.state.curKeyword&&this.setState({curKeyword:a},(function(){t.groupedResultByKeyword(a)}))},t.prototype.getSearchHistory=function(){var e=[];if(window.localStorage){var t=window.localStorage.getItem(this.localStorageKey);if(t){var a=JSON.parse(t);a&&Array.isArray(a)&&(e=a)}}return e},t.prototype.getResultTags=function(e){var t=[],a={},n=this.props.tagKey||"tags";return e.forEach((function(e){!(0,d.default)(e)&&e[n]&&(Array.isArray(e.tags)?e.tags.concat():e.tags?[e.tags]:["其他"]).forEach((function(n){t.indexOf(n)<0&&t.push(n),a[n]||(a[n]=[]),a[n].push(e)}))})),{curResultTags:t,curResultByTag:a}},t.prototype.groupedResultByKeyword=function(e){var t=this.props.allResult,a=[],n={},l=e||this.state.curKeyword,i={},o=l?new RegExp(l,"i"):null;t.forEach((function(t){(0,d.default)(t)&&o&&o.test(t)?a.push(t):e&&!["name","description","scaffold.type"].some((function(e){return t[e]&&o&&o.test(t[e])}))||(t.tags?(Array.isArray(t.tags)?t.tags.concat():t.tags?[t.tags]:["其他"]).forEach((function(e){n[e]=i[e]||[],n[e].push(t)})):a.push(t))})),this.setState({searchResult:a,searchResultByTag:n})},t.prototype.bindFocusEvent=function(){this.setState({visible:!0})},t.prototype.bindBlurEvent=function(){var e=this,t=this.state.curKeyword;this.setState({visible:!1},(function(){t&&e.addSearchHistory(t),e.props.onChange(t)}))},t.prototype.updateCurKeyword=function(e){var t=this,a=e;a=a?a.trim():a,this.setState({curKeyword:a},(function(){t.groupedResultByKeyword(a),t.props.immediateChange&&t.props.onChange(a)}))},t.prototype.changeTagFoldStatus=function(e,t){t.preventDefault(),t.stopPropagation(),this.curInputBox.focus(),this.curTagFolded[e]=!this.curTagFolded[e],this.setState({toggleTagFolderStatus:!this.state.toggleTagFolderStatus})},t.prototype.bindEnterEvent=function(e){var t=this;e.preventDefault();var a=this.state.curKeyword;13===(null==e?void 0:e.keyCode)&&this.setState({visible:!1},(function(){t.addSearchHistory(a),t.props.onChange(a)}))},t.prototype.bindClearActionEvent=function(){var e=this;this.setState({curKeyword:"",searchResult:[],searchResultByTag:{}},(function(){e.props.onChange("")}))},t.prototype.bindTagClickEvent=function(e){var t,a=this,n=this.state.resultByTag[e];this.setState({visible:!1,curKeyword:e,searchResult:n,searchResultByTag:(t={},t[e]=n,t)},(function(){a.props.onTagChange&&a.props.onTagChange(e)}))},t.prototype.addSearchHistory=function(e){var t=this.state.curKeywordSearchHistory;t.indexOf(e)>-1||(10===t.length?(t.shift(),t.push(e)):t.push(e),this.updateSearchHistory())},t.prototype.clickKeywordEvent=function(e){var t=this;this.setState({visible:!1,curKeyword:e},(function(){t.groupedResultByKeyword(e),t.props.onChange(e)}))},t.prototype.deleteSearchHistory=function(e,t){e.preventDefault(),e.stopPropagation(),this.curInputBox.focus();var a=this.state.curKeywordSearchHistory,n=a.indexOf(t);a.splice(n,1),this.updateSearchHistory()},t.prototype.clearSearchHistory=function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.curInputBox.focus();var a=this.state.curKeywordSearchHistory;a&&a.length>0&&this.setState({curKeywordSearchHistory:[]},(function(){t.updateSearchHistory()}))},t.prototype.updateSearchHistory=function(){if(window.localStorage){var e=this.state.curKeywordSearchHistory;window.localStorage.setItem(this.localStorageKey,JSON.stringify(e))}},t.prototype.renderNameByKeyword=function(e,t){if(t&&~e.indexOf(t)){var a=e.indexOf(t),n=a+t.length;return l.default.createElement("span",null,e.substring(0,a),l.default.createElement("span",{className:"is-keyword"},t),e.substring(n))}return e},t.prototype.resultIsHasScroll=function(e,t){var a=this,n=0;return(e?Object.keys(e):[]).map((function(t){a.curTagFolded[t]?n+=1:n+=e[t].length+1})),n>t},t.prototype.render=function(){var e=this,t=this.props,a=t.allResult,i=t.closeAutoComplete,s=t.immediateChange,d=this.state,c=d.resultTags,p=d.curKeyword,u=d.searchResult,m=d.searchResultByTag,h=d.visible,f=m?Object.keys(m):[],g=n.__spreadArray([],this.state.curKeywordSearchHistory,!0).reverse(),b=!1;return h&&a&&a.length>0&&(b=!0),i&&p&&(b=!1),i&&(!c||c&&0===c.length)&&(!g||g&&0===g.length)&&(b=!1),l.default.createElement("div",{className:"editor-InputSearch-panel",ref:this.ref},l.default.createElement(o.InputBox,{className:"editor-InputSearch",value:p,onChange:this.updateCurKeyword,placeholder:"输入关键字查询组件",clearable:!1,onFocus:this.bindFocusEvent,onBlur:this.bindBlurEvent},l.default.createElement(l.default.Fragment,null,s&&(p?l.default.createElement(o.Icon,{icon:"search-clear",className:"icon delete-btn-icon",onClick:this.bindClearActionEvent}):l.default.createElement(o.Icon,{icon:"editor-search",className:"icon",onClick:this.bindBlurEvent})),!s&&l.default.createElement(l.default.Fragment,null,p&&l.default.createElement(o.Icon,{icon:"search-clear",className:"icon delete-btn-icon margin-right",onClick:this.bindClearActionEvent}),l.default.createElement(o.Icon,{icon:"editor-search",className:"icon",onClick:this.bindBlurEvent})))),l.default.createElement("div",{className:"editor-InputSearch-content ".concat(b?"":"hidden-status")},!p&&g&&g.length>0&&l.default.createElement("div",{className:"search-history ".concat(c&&c.length>0?"has-border-bottom":"")},l.default.createElement("div",{className:"header"},l.default.createElement("div",{className:"header-title"},"搜索历史"),l.default.createElement("div",{className:"header-clear-icon",onClick:function(t){return e.clearSearchHistory(t)}},"清空")),l.default.createElement("div",{className:"history-cont ".concat(g.length>6?"hasScrollBtn":"")},g.map((function(t,a){return l.default.createElement("div",{className:"history-item",key:"".concat(t,"-").concat(a),onClick:function(){return e.clickKeywordEvent(t)}},l.default.createElement("div",{className:"history-keyword"},t),l.default.createElement("div",{className:"delete-icon",title:"点击删除这条搜索记录"},l.default.createElement(o.Icon,{icon:"close",onClick:function(a){return e.deleteSearchHistory(a,t)}})))})))),p&&0===u.length&&0===f.length&&l.default.createElement("div",{className:"search-result-list"},l.default.createElement("div",{className:"search-result-placeholder"},"搜索结果为空，您可以换个关键字继续查找。")),p&&u.length>0&&l.default.createElement("div",{className:"search-result-list ".concat(u.length>6?"hasScrollBtn":"")},u.length>1&&l.default.createElement("div",{className:"subRenderers-list only-one-tag"},u.map((function(t,a){return l.default.createElement("div",{className:"subRenderers-item",key:"subRenderers-only-one-tag-".concat(a),onClick:function(){return e.clickKeywordEvent(t.name)}},t.name||t.type)})))),p&&f.length>0&&l.default.createElement("div",{className:"search-result-list ".concat(this.resultIsHasScroll(m,6)?"hasScrollBtn":"")},f.length>1&&f.map((function(t,a){return l.default.createElement("div",{className:"multiple-subRenderers-list",key:"".concat(t,"-subRenderers-list")},l.default.createElement("div",{className:(0,r.default)("subRenderers-header",{"is-folded":!!e.curTagFolded[t]}),title:e.curTagFolded[t]?"点击展开":"点击折叠",onClick:function(a){e.changeTagFoldStatus(t,a)}},t,l.default.createElement(o.Icon,{icon:"right-arrow-bold"})),l.default.createElement("div",{className:(0,r.default)("subRenderers-list",{"is-folded":!!e.curTagFolded[t]})},m[t]&&m[t].map((function(t,a){return l.default.createElement("div",{className:"subRenderers-item",key:a,onClick:function(){return e.clickKeywordEvent(t.name)}},e.renderNameByKeyword(t.name,p))}))))})),1===f.length&&f.map((function(t,a){return l.default.createElement("div",{className:"subRenderers-list only-one-tag",key:"subRenderers-tag-".concat(t)},m[t]&&m[t].map((function(t,a){return l.default.createElement("div",{className:"subRenderers-item",key:"subRenderers-only-one-tag-".concat(a),onClick:function(){return e.clickKeywordEvent(t.name)}},t.name||t.type)})))}))),!p&&c&&c.length>0&&l.default.createElement("div",{className:"tag-list"},l.default.createElement("div",{className:"header"},"组件分类"),l.default.createElement("div",{className:"tag-list-cont"},c.length?c.map((function(t,a){return l.default.createElement("div",{className:"tag-item",key:"".concat(t,"-").concat(a),onClick:function(){return e.bindTagClickEvent(t)}},t)})):null))))},n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"getSearchHistory",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"bindFocusEvent",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"bindBlurEvent",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",void 0)],t.prototype,"updateCurKeyword",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String,Object]),n.__metadata("design:returntype",void 0)],t.prototype,"changeTagFoldStatus",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"bindEnterEvent",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"bindClearActionEvent",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",void 0)],t.prototype,"bindTagClickEvent",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",void 0)],t.prototype,"addSearchHistory",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",void 0)],t.prototype,"clickKeywordEvent",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object,String]),n.__metadata("design:returntype",void 0)],t.prototype,"deleteSearchHistory",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"clearSearchHistory",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"updateSearchHistory",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String,String]),n.__metadata("design:returntype",void 0)],t.prototype,"renderNameByKeyword",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object,Number]),n.__metadata("design:returntype",void 0)],t.prototype,"resultIsHasScroll",null),n.__decorate([i.observer,n.__metadata("design:paramtypes",[Object])],t)}(l.default.Component);t.default=c},4859:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importDefault(a(6689)),i=a(2062),o=n.__importDefault(a(512)),r=function(e){function t(t){var a=e.call(this,t)||this;a.localStorageKey="amis-editor-renderer-search-history";var n=t.store.subRenderersByOrder;return n=n.filter((function(e){return!e.disabledRendererPlugin})),a.state={subRenderersByOrder:n,defaultKeyword:""},a.lastSubRenderersTag=t.store.subRenderersTag,a.changeSubRenderersTag=a.changeSubRenderersTag.bind(a),a}return n.__extends(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.store.subRenderersTag,a=e.store.subRenderersKeywords;t===this.lastSubRenderersTag||a||(this.lastSubRenderersTag=t,this.setState({defaultKeyword:t}))},t.prototype.changeSubRenderersTag=function(e){this.lastSubRenderersTag=e,this.props.store.changeSubRenderersTag(e)},t.prototype.render=function(){var e=this.state,t=e.subRenderersByOrder,a=e.defaultKeyword,n=this.props.store.changeSubRenderersKeywords;return l.default.createElement(o.default,{allResult:t,externalKeyword:a,searchPanelUUID:this.localStorageKey,onChange:n,onTagChange:this.changeSubRenderersTag,immediateChange:!0,closeAutoComplete:!0})},n.__decorate([i.observer,n.__metadata("design:paramtypes",[Object])],t)}(l.default.Component);t.default=r},8240:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importDefault(a(6689)),i=a(1502),o=a(3570),r=[{title:"复制",letters:["⌘","c"],tooltip:"复制当前选中元素"},{title:"粘贴",letters:["⌘","v"],tooltip:"将复制的元素插入到当前选中节点"},{title:"剪切",letters:["⌘","x"],tooltip:"剪切当前选中元素"},{title:"撤销",letters:["⌘","z"],tooltip:"恢复上一次撤销的操作"},{title:"重做",letters:["⌘","Shift","z"],tooltip:"恢复上一次撤销的操作"},{title:"保存",letters:["⌘","s"],tooltip:"保存当前所有操作"},{title:"预览",letters:["⌘","p"],tooltip:"开启预览模式"},{title:"删除",letters:["Delete"],tooltip:"删除当前节点"},{title:"删除",letters:["Backspace"],tooltip:"删除当前节点"},{title:"向上移动",letters:["⌘","↑"],tooltip:"向上移动当前节点"},{title:"向下移动",letters:["⌘","↓"],tooltip:"向下移动当前节点"}],s=function(e){function t(t){var a=e.call(this,t)||this;return a.state={visible:!1},a}return n.__extends(t,e),t.prototype.closeShortcutKeyModal=function(){this.setState({visible:!1})},t.prototype.showShortcutKeyModal=function(){this.setState({visible:!0})},t.prototype.render=function(){var e=this.props,t=e.title,a=e.size,n=e.closeOnEsc,o=e.closeOnOutside,s=this.props.ShortcutKeyList||r;return l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:"shortcut-icon-btn","editor-tooltip":"点击查看当前可用快捷键","tooltip-position":"bottom"},l.default.createElement(i.Icon,{icon:"editor-shortcut",onClick:this.showShortcutKeyModal})),l.default.createElement(i.Modal,{size:a||"xs",show:this.state.visible,closeOnEsc:null==n||n,closeOnOutside:null==o||o,onHide:this.closeShortcutKeyModal,contentClassName:"shortcut-list-modal"},l.default.createElement("div",{className:"shortcut-modal-header"},l.default.createElement("div",{className:"shortcut-modal-title"},t||"当前可用快捷键"),l.default.createElement(i.Icon,{icon:"close",className:"shortcut-modal-icon",onClick:this.closeShortcutKeyModal})),l.default.createElement("div",{className:"shortcut-modal-body"},s&&s.length>0&&l.default.createElement("div",{className:"shortcut-list"},s.map((function(e,t){return l.default.createElement("div",{className:"shortcut-item",key:t},e.tooltip&&l.default.createElement("div",{className:"shortcut-title","editor-tooltip":e.tooltip},e.title),!e.tooltip&&l.default.createElement("div",{className:"shortcut-title"},e.title),l.default.createElement("div",{className:"shortcut-letters"},e.letters.map((function(e){return l.default.createElement("div",{className:"shortcut-letter",key:e},e)}))))}))),!s||0===s.length&&l.default.createElement("span",null,"暂无快捷键"))))},n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"closeShortcutKeyModal",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"showShortcutKeyModal",null),t}(l.default.Component);t.default=s},4979:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WidthDraggableBtn=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(9003)),o=function(e){function t(t){var a=e.call(this,t)||this;return a.handleResizeMouseDown=a.handleResizeMouseDown.bind(a),a.handleResizeMouseMove=a.handleResizeMouseMove.bind(a),a.handleResizeMouseUp=a.handleResizeMouseUp.bind(a),a}return n.__extends(t,e),t.prototype.handleResizeMouseDown=function(e){3==e.nativeEvent.which||(this.dragWrap=e.currentTarget.parentElement,document.addEventListener("mousemove",this.handleResizeMouseMove),document.addEventListener("mouseup",this.handleResizeMouseUp),this.startX=e.clientX,this.startWidth=this.dragWrap.offsetWidth)},t.prototype.handleResizeMouseMove=function(e){var t=this.props.isLeftDragIcon,a=e.clientX-this.startX;this.dragWrap.style.cssText+="width: ".concat(Math.max(t?this.startWidth-a:this.startWidth+a,260),"px")},t.prototype.handleResizeMouseUp=function(){document.removeEventListener("mousemove",this.handleResizeMouseMove),document.removeEventListener("mouseup",this.handleResizeMouseUp)},t.prototype.render=function(){var e=this.props,t=e.isLeftDragIcon,a=e.className;return l.default.createElement("div",{onMouseDown:this.handleResizeMouseDown,className:(0,i.default)("width-draggable-icon",a,t?"leftBtn":"")})},t}(l.default.Component);t.WidthDraggableBtn=o},2128:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importDefault(a(6689)),i=a(4979);t.default=function(e,t){return function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return n.__extends(o,a),o.prototype.render=function(){return l.default.createElement(l.default.Fragment,null,l.default.createElement(e,n.__assign({},this.props)),l.default.createElement(i.WidthDraggableBtn,{isLeftDragIcon:t}))},o}(l.default.Component)}},8162:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.APIControlRenderer=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(1831)),o=n.__importDefault(a(9591)),r=n.__importDefault(a(9003)),s=a(1502),d=a(7981),c=a(2717),p=a(9794),u=a(3570),m=a(2759),h=function(e){function t(t){var a=e.call(this,t)||this;return a.state={apiStr:a.transformApi2Str(t.value),selectedItem:[],schema:t.pickerSchema},a}return n.__extends(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props;e.value!==t.value&&this.setState({apiStr:this.transformApi2Str(t.value)}),(0,u.anyChanged)(["enablePickerMode","pickerSchema"],e,t)&&this.setState({schema:t.pickerSchema}),(0,p.isApiOutdated)(null==e?void 0:e.pickerSource,null==t?void 0:t.pickerSource,e.data,t.data)&&this.fetchOptions()},t.prototype.transformApi2Str=function(e){var t=(0,p.normalizeApi)(e);return t.url?"".concat(t.method?"".concat(t.method,":"):"").concat(t.url):""},t.prototype.fetchOptions=function(){var e,t,a;return n.__awaiter(this,void 0,void 0,(function(){var l,i,o,r,s,d,m,h,f,g,b,v;return n.__generator(this,(function(n){switch(n.label){case 0:return l=this.props,i=l.value,o=l.data,r=l.env,s=this.props.pickerSource,d=(0,p.normalizeApi)(i),m=null===(e=null==d?void 0:d.url.split("api://"))||void 0===e?void 0:e[1],s?(h=(0,u.createObject)(o,{value:i,op:"loadOptions"}),(f=(0,c.getEnv)(window.editorStore).schemaFilter)&&(s=f({api:s}).api),(0,p.isEffectiveApi)(s,h)?[4,r.fetcher(s,h)]:[3,2]):[2];case 1:g=n.sent(),(b=(null===(t=g.data)||void 0===t?void 0:t.items)||(null===(a=null==g?void 0:g.data)||void 0===a?void 0:a.rows)).length&&(v=b.find((function(e){return e.key===m})),this.setState({selectedItem:v?[v]:[]})),n.label=2;case 2:return[2]}}))}))},t.prototype.handleSubmit=function(e,t){var a=this.props,n=a.onChange,l=a.value,o=e;(e||"picker-submit"!==t)&&("string"==typeof l&&"string"==typeof e||(o=(0,i.default)({},(0,p.normalizeApi)(l),(0,p.normalizeApi)(e))),null==n||n(o))},t.prototype.handleAction=function(e,t,a,n){var l=this.props.onAction;null==l||l(e,t,a,n)},t.prototype.normalizeValue=function(e,t){var a=(0,o.default)(e);return"function"==typeof t&&(a=t(e)),a},t.prototype.handlePickerConfirm=function(e){var t=this.props.onPickerConfirm;this.handleSubmit(this.normalizeValue(e,t),"picker-submit")},t.prototype.handlePickerClose=function(){var e=this.props.onPickerClose;null==e||e()},t.prototype.renderHeader=function(){var e=this,t=this.props,a=t.render,n=t.actions,i=t.enablePickerMode,o=Array.isArray(n)&&n.length>0?n.map((function(t,n){return a("action/".concat(n),t,{key:n,onAction:e.handleAction.bind(e,t)})})):null;return o||i?l.default.createElement("header",{className:"ae-ApiControl-header",key:"header"},i?this.renderPickerSchema():o):null},t.prototype.renderPickerSchema=function(){var e=this,t=this.props,a=t.render,i=t.pickerTitle,o=t.pickerName,s=void 0===o?"apiPicker":o,c=t.pickerSize,p=t.pickerHeaderClassName,u=t.pickerBtnSchema,m=t.enablePickerMode,h=t.onPickerSelect,f=this.state,g=f.selectedItem,b=f.schema;return b?l.default.createElement(d.PickerContainer,{title:i,value:g,headerClassName:(0,r.default)(p,"font-bold"),onConfirm:this.handlePickerConfirm,onCancel:this.handlePickerClose,size:c,bodyRender:function(t){t.value,t.onClose;var l,i=t.onChange,o=t.setState;return n.__rest(t,["value","onClose","onChange","setState"]),a("api-control-picker",b,{data:(l={},l[s]=g,l),onSelect:function(t){o({selectedItem:t}),i(e.normalizeValue(t,h))}})}},(function(t){var l=t.onClick,i=t.isOpened;return a("picker-action",u,{onClick:function(t){return n.__awaiter(e,void 0,void 0,(function(){return n.__generator(this,(function(e){switch(e.label){case 0:if(i||!m)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.fetchOptions()];case 2:case 3:return e.sent(),[3,4];case 4:return l(t),[2]}}))}))}})})):null},t.prototype.renderApiDialog=function(){return this.props.messageDesc,{label:"",type:"action",acitonType:"dialog",size:"sm",icon:"fa fa-code",actionType:"dialog",dialog:{title:"高级设置",size:"md",className:"ae-ApiControl-dialog",headerClassName:"font-bold",bodyClassName:"ae-ApiControl-dialog-body",closeOnEsc:!0,closeOnOutside:!1,showCloseButton:!0,body:[this.renderApiConfigTabs(this.props.messageDesc)]}}},t.prototype.renderApiConfigTabs=function(e,t){return void 0===t&&(t=!1),{type:"form",className:"ae-ApiControl-form",mode:"horizontal",submitOnChange:t,wrapWithPanel:!1,onSubmit:this.handleSubmit,body:[{type:"tabs",className:"ae-ApiControl-tabs",contentClassName:"ae-ApiControl-tabContent",tabs:[{title:"接口设置",tab:[{label:"发送方式",name:"method",value:"get",type:"button-group-select",mode:"horizontal",options:[{value:"get",label:"GET"},{value:"post",label:"POST"},{value:"put",label:"PUT"},{value:"patch",label:"PATCH"},{value:"delete",label:"DELETE"}]},{label:"接口地址",type:"input-text",name:"url",mode:"horizontal",size:"lg",placeholder:"http://",required:!0},{label:"发送条件",type:"input-text",name:"sendOn",mode:"horizontal",size:"lg",placeholder:'如：this.type == "123"',description:"用表达式来设置该请求的发送条件"},{label:"数据格式",type:"button-group-select",name:"dataType",size:"sm",mode:"horizontal",description:'发送体格式为：<%= data.dataType === "json" ? "application/json" : data.dataType === "form-data" ? "multipart/form-data" : data.dataType === "form" ? "application/x-www-form-urlencoded" : "" %>，当发送内容中存在文件时会自动使用 form-data 格式。',options:[{label:"JSON",value:"json"},{label:"FormData",value:"form-data"},{label:"Form",value:"form"}],disabled:!1},{type:"switch",label:"是否设置缓存",name:"cache",mode:"horizontal",pipeIn:function(e){return!!e},pipeOut:function(e){return e?3e3:void 0}},{label:"",type:"input-number",name:"cache",mode:"horizontal",size:"md",min:0,step:500,visibleOn:"this.cache",description:"设置该请求缓存有效时间，单位 ms",pipeIn:function(e){return"number"==typeof e?e:0}},{label:"文件下载",name:"responseType",type:"switch",mode:"horizontal",description:"当接口为二进制文件下载时请勾选，否则会文件乱码。",pipeIn:function(e){return"blob"===e},pipeOut:function(e){return e?"blob":void 0}},{label:"数据替换",name:"replaceData",type:"switch",mode:"horizontal",description:"默认数据为追加方式，开启后完全替换当前数据"},{label:(0,m.tipedLabel)("初始加载","当配置初始化接口后，组件初始就会拉取接口数据，可以通过以下配置修改"),type:"group",visibleOn:"this.initApi",mode:"horizontal",direction:"vertical",body:[{name:"initFetch",type:"radios",inline:!0,mode:"normal",renderLabel:!1,onChange:function(){document.getElementsByClassName("ae-Settings-content")[0].scrollTop=0},options:[{label:"是",value:!0},{label:"否",value:!1},{label:"表达式",value:""}]},{name:"initFetchOn",autoComplete:!1,visibleOn:'typeof this.initFetch !== "boolean"',type:"input-text",mode:"normal",size:"lg",renderLabel:!1,placeholder:"如：this.id 表示有 id 值时初始加载",className:"m-t-n-sm"}]},{label:"定时刷新",name:"interval",type:"switch",mode:"horizontal",visibleOn:"data.initApi",pipeIn:function(e){return!!e},pipeOut:function(e){return e?3e3:void 0}},{label:"",name:"interval",type:"input-number",mode:"horizontal",size:"md",visibleOn:'typeof this.interval === "number"',step:500,description:"定时刷新间隔，单位 ms"},{label:"静默刷新",name:"silentPolling",type:"switch",mode:"horizontal",visibleOn:"!!data.interval",description:"设置自动定时刷新时是否显示loading"},{label:(0,m.tipedLabel)("定时刷新停止","定时刷新一旦设置会一直刷新，除非给出表达式，条件满足后则停止刷新"),name:"stopAutoRefreshWhen",type:"input-text",mode:"horizontal",horizontal:{leftFixed:"md"},size:"lg",visibleOn:"!!data.interval",placeholder:"停止定时刷新检测表达式"}]},{title:"HTTP配置",tab:[{type:"fieldSet",title:"Body",headingClassName:"ae-ApiControl-title",body:[{type:"switch",label:(0,m.tipedLabel)("发送数据映射","当没开启数据映射时，发送 API 的时候会发送尽可能多的数据，如果你想自己控制发送的数据，或者需要额外的数据处理，请开启此选项"),name:"data",mode:"row",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{"&":"$$"}:null}},{type:"combo",syncDefaultValue:!1,name:"data",mode:"normal",renderLabel:!1,visibleOn:"this.data",descriptionClassName:"help-block text-xs m-b-none",description:'<p>当没开启数据映射时，发送数据自动切成白名单模式，配置啥发送啥，请绑定数据。如：<code>{"a": "\\${a}", "b": 2}</code></p><p>如果希望在默认的基础上定制，请先添加一个 Key 为 `&` Value 为 `\\$$` 作为第一行。</p><div>当值为 <code>__undefined</code>时，表示删除对应的字段，可以结合<code>{"&": "\\$$"}</code>来达到黑名单效果。</div>',multiple:!0,pipeIn:function(e){if(!(0,u.isObject)(e))return e;var t=[];return Object.keys(e).forEach((function(a){t.push({key:a||"",value:"string"==typeof e[a]?e[a]:JSON.stringify(e[a])})})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var t={};return e.forEach((function(e){var a=e.key||"",n=e.value;try{n=JSON.parse(n)}catch(e){}t[a]=n})),t},items:[{placeholder:"Key",type:"input-text",unique:!0,name:"key",required:!0},{placeholder:"Value",type:"input-text",name:"value"}]},{type:"switch",label:(0,m.tipedLabel)("返回结果映射","如果需要对返回结果做额外的数据处理，请开启此选项"),name:"responseData",mode:"row",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{"&":"$$"}:null}},{type:"combo",syncDefaultValue:!1,name:"responseData",mode:"normal",renderLabel:!1,visibleOn:"this.responseData",descriptionClassName:"help-block text-xs m-b-none",multiple:!0,pipeIn:function(e){if(!(0,u.isObject)(e))return e;var t=[];return Object.keys(e).forEach((function(a){t.push({key:a||"",value:"string"==typeof e[a]?e[a]:JSON.stringify(e[a])})})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var t={};return e.forEach((function(e){var a=e.key||"",n=e.value;try{n=JSON.parse(n)}catch(e){}t[a]=n})),t},items:[{placeholder:"Key",type:"input-text",unique:!0,name:"key",required:!0},{placeholder:"Value",type:"input-text",name:"value"}]},{label:"发送适配器",name:"requestAdaptor",type:"js-editor",mode:"horizontal",horizontal:{justify:!0},clasName:"m-t-sm",allowFullscreen:!0,description:"函数签名：(api) => api， 数据在 api.data 中，修改后返回 api 对象。"},{label:"接收适配器",name:"adaptor",type:"js-editor",mode:"horizontal",horizontal:{justify:!0},clasName:"m-t-sm",allowFullscreen:!0,description:"函数签名: (payload, response, api) => payload"}]},{type:"fieldSet",title:"Header",headingClassName:"ae-ApiControl-title",body:[{type:"switch",label:(0,m.tipedLabel)("请求头","可以配置headers对象，添加自定义请求头"),name:"headers",mode:"row",className:"m-b-xs",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{"":""}:null}},{type:"combo",name:"headers",mode:"row",syncDefaultValue:!1,multiple:!0,visibleOn:"this.headers",items:[{type:"input-text",name:"key",placeholder:"Key",unique:!0,required:!0,options:[{label:"Content-Encoding",value:"Content-Encoding"},{label:"Content-Type",value:"Content-Type"}]},{type:"input-text",name:"value",placeholder:"Value",disabled:!1}],pipeIn:function(e){if(!(0,u.isObject)(e))return e;var t=[];return Object.keys(e).forEach((function(a){t.push({key:a||"",value:"string"==typeof e[a]?e[a]:JSON.stringify(e[a])})})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var t={};return e.forEach((function(e){var a=e.key||"",n=e.value;try{n=JSON.parse(n)}catch(e){}t[a]=n})),t}}]}]},{title:"其他",tab:[{label:"默认消息提示",type:"combo",name:"messages",mode:"normal",multiLine:!0,description:e||"设置 ajax 默认提示信息，当 ajax 没有返回 msg 信息时有用，如果 ajax 返回携带了 msg 值，则还是以 ajax 返回为主",items:[{label:"获取成功提示",type:"input-text",name:"fetchSuccess"},{label:"获取失败提示",type:"input-text",name:"fetchFailed"},{label:"保存顺序成功提示",type:"input-text",name:"saveOrderSuccess"},{label:"保存顺序失败提示",type:"input-text",name:"saveOrderFailed"},{label:"快速保存成功提示",type:"input-text",name:"quickSaveSuccess"},{label:"快速保存失败提示",type:"input-text",name:"quickSaveFailed"}]}]}]}]}},t.prototype.render=function(){var e=this,t=this.props,a=t.render,n=t.className,i=t.value,o=t.footer,d=t.border,c=void 0!==d&&d;return t.messageDesc,l.default.createElement("div",{className:(0,r.default)("ae-ApiControl",n,{border:c})},this.renderHeader(),l.default.createElement("div",{className:"ae-ApiControl-content",key:"content"},l.default.createElement(s.InputBox,{className:"ae-ApiControl-input m-b-none",value:this.state.apiStr,clearable:!1,placeholder:"http://",onChange:function(t){return e.handleSubmit(t,"input")}}),a("api-control-dialog",this.renderApiDialog(),{data:(0,p.normalizeApi)(i)})),Array.isArray(o)&&0!==o.length?l.default.createElement("footer",{className:"mt-3",key:"footer"},a("api-control-footer",o)):null)},t.defaultProps={pickerBtnSchema:{type:"button",level:"link",size:"sm",label:"点击选择"}},n.__decorate([u.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object,Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleSubmit",null),n.__decorate([u.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handlePickerConfirm",null),n.__decorate([u.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handlePickerClose",null),t}(l.default.Component);t.default=h;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),n.__decorate([(0,s.FormItem)({type:"ae-apiControl"})],t)}(h);t.APIControlRenderer=f},4240:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.APIControlRenderer=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(1831)),o=n.__importDefault(a(9591)),r=n.__importDefault(a(9003)),s=a(1502),d=a(7981),c=a(2717),p=a(9794),u=a(3570),m=a(2759),h=function(e){function t(t){var a=e.call(this,t)||this;return a.state={apiStr:a.transformApi2Str(t.value),selectedItem:[],schema:t.pickerSchema},a}return n.__extends(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props;e.value!==t.value&&this.setState({apiStr:this.transformApi2Str(t.value)}),(0,u.anyChanged)(["enablePickerMode","pickerSchema"],e,t)&&this.setState({schema:t.pickerSchema}),(0,p.isApiOutdated)(null==e?void 0:e.pickerSource,null==t?void 0:t.pickerSource,e.data,t.data)&&this.fetchOptions()},t.prototype.transformApi2Str=function(e){var t=(0,p.normalizeApi)(e);return t.url?"".concat(t.method?"".concat(t.method,":"):"").concat(t.url):""},t.prototype.fetchOptions=function(){var e,t,a;return n.__awaiter(this,void 0,void 0,(function(){var l,i,o,r,s,d,m,h,f,g,b,v;return n.__generator(this,(function(n){switch(n.label){case 0:return l=this.props,i=l.value,o=l.data,r=l.env,s=this.props.pickerSource,d=(0,p.normalizeApi)(i),m=null===(e=null==d?void 0:d.url.split("api://"))||void 0===e?void 0:e[1],s?(h=(0,u.createObject)(o,{value:i,op:"loadOptions"}),(f=(0,c.getEnv)(window.editorStore).schemaFilter)&&(s=f({api:s}).api),(0,p.isEffectiveApi)(s,h)?[4,r.fetcher(s,h)]:[3,2]):[2];case 1:g=n.sent(),(b=(null===(t=g.data)||void 0===t?void 0:t.items)||(null===(a=null==g?void 0:g.data)||void 0===a?void 0:a.rows)).length&&(v=b.find((function(e){return e.key===m})),this.setState({selectedItem:v?[v]:[]})),n.label=2;case 2:return[2]}}))}))},t.prototype.handleSubmit=function(e,t){var a=this.props,n=a.onChange,l=a.value,o=e;(e||"picker-submit"!==t)&&("string"==typeof l&&"string"==typeof e||(o=(0,i.default)({},(0,p.normalizeApi)(l),(0,p.normalizeApi)(e))),null==n||n(o))},t.prototype.handleAction=function(e,t,a,n){var l=this.props.onAction;null==l||l(e,t,a,n)},t.prototype.normalizeValue=function(e,t){var a=(0,o.default)(e);return"function"==typeof t&&(a=t(e)),a},t.prototype.handlePickerConfirm=function(e){var t=this.props.onPickerConfirm;this.handleSubmit(this.normalizeValue(e,t),"picker-submit")},t.prototype.handlePickerClose=function(){var e=this.props.onPickerClose;null==e||e()},t.prototype.renderHeader=function(){var e=this,t=this.props,a=t.render,n=t.actions,i=t.enablePickerMode,o=Array.isArray(n)&&n.length>0?n.map((function(t,n){return a("action/".concat(n),t,{key:n,onAction:e.handleAction.bind(e,t)})})):null;return o||i?l.default.createElement("header",{className:"ae-ApiControl-header",key:"header"},i?this.renderPickerSchema():o):null},t.prototype.renderPickerSchema=function(){var e=this,t=this.props,a=t.render,i=t.pickerTitle,o=t.pickerName,s=void 0===o?"apiPicker":o,c=t.pickerSize,p=t.pickerHeaderClassName,u=t.pickerBtnSchema,m=t.enablePickerMode,h=t.onPickerSelect,f=this.state,g=f.selectedItem,b=f.schema;return b?l.default.createElement(d.PickerContainer,{title:i,value:g,headerClassName:(0,r.default)(p,"font-bold"),onConfirm:this.handlePickerConfirm,onCancel:this.handlePickerClose,size:c,bodyRender:function(t){t.value,t.onClose;var l,i=t.onChange,o=t.setState;return n.__rest(t,["value","onClose","onChange","setState"]),a("api-control-picker",b,{data:(l={},l[s]=g,l),onSelect:function(t){o({selectedItem:t}),i(e.normalizeValue(t,h))}})}},(function(t){var l=t.onClick,i=t.isOpened;return a("picker-action",u,{onClick:function(t){return n.__awaiter(e,void 0,void 0,(function(){return n.__generator(this,(function(e){switch(e.label){case 0:if(i||!m)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.fetchOptions()];case 2:case 3:return e.sent(),[3,4];case 4:return l(t),[2]}}))}))}})})):null},t.prototype.renderApiDialog=function(){return this.props.messageDesc,{label:"",type:"action",acitonType:"dialog",size:"sm",icon:"fa fa-code",actionType:"dialog",dialog:{title:"高级设置",size:"md",className:"ae-ApiControl-dialog",headerClassName:"font-bold",bodyClassName:"ae-ApiControl-dialog-body",closeOnEsc:!0,closeOnOutside:!1,showCloseButton:!0,body:[this.renderApiConfigTabs(this.props.messageDesc)]}}},t.prototype.renderApiConfigTabs=function(e,t){return void 0===t&&(t=!1),{type:"form",className:"ae-ApiControl-form",mode:"horizontal",submitOnChange:t,wrapWithPanel:!1,onSubmit:this.handleSubmit,body:[{type:"tabs",className:"ae-ApiControl-tabs",contentClassName:"ae-ApiControl-tabContent",tabs:[{title:"接口设置",tab:[{label:"发送方式",name:"method",value:"get",type:"button-group-select",mode:"horizontal",options:[{value:"get",label:"GET"},{value:"post",label:"POST"},{value:"put",label:"PUT"},{value:"patch",label:"PATCH"},{value:"delete",label:"DELETE"}]},{label:"接口地址",type:"input-text",name:"url",mode:"horizontal",size:"lg",placeholder:"http://",required:!0},{label:"发送条件",type:"input-text",name:"sendOn",mode:"horizontal",size:"lg",placeholder:'如：this.type == "123"',description:"用表达式来设置该请求的发送条件"},{label:"数据格式",type:"button-group-select",name:"dataType",size:"sm",mode:"horizontal",description:'发送体格式为：<%= data.dataType === "json" ? "application/json" : data.dataType === "form-data" ? "multipart/form-data" : data.dataType === "form" ? "application/x-www-form-urlencoded" : "" %>，当发送内容中存在文件时会自动使用 form-data 格式。',options:[{label:"JSON",value:"json"},{label:"FormData",value:"form-data"},{label:"Form",value:"form"}],disabled:!1},{type:"switch",label:"是否设置缓存",name:"cache",mode:"horizontal",pipeIn:function(e){return!!e},pipeOut:function(e){return e?3e3:void 0}},{label:"",type:"input-number",name:"cache",mode:"horizontal",size:"md",min:0,step:500,visibleOn:"this.cache",description:"设置该请求缓存有效时间，单位 ms",pipeIn:function(e){return"number"==typeof e?e:0}},{label:"文件下载",name:"responseType",type:"switch",mode:"horizontal",description:"当接口为二进制文件下载时请勾选，否则会文件乱码。",pipeIn:function(e){return"blob"===e},pipeOut:function(e){return e?"blob":void 0}},{label:"数据替换",name:"replaceData",type:"switch",mode:"horizontal",description:"默认数据为追加方式，开启后完全替换当前数据"},{label:(0,m.tipedLabel)("初始加载","当配置初始化接口后，组件初始就会拉取接口数据，可以通过以下配置修改"),type:"group",visibleOn:"this.initApi",mode:"horizontal",direction:"vertical",body:[{name:"initFetch",type:"radios",inline:!0,mode:"normal",renderLabel:!1,onChange:function(){document.getElementsByClassName("ae-Settings-content")[0].scrollTop=0},options:[{label:"是",value:!0},{label:"否",value:!1},{label:"表达式",value:""}]},{name:"initFetchOn",autoComplete:!1,visibleOn:'typeof this.initFetch !== "boolean"',type:"input-text",mode:"normal",size:"lg",renderLabel:!1,placeholder:"如：this.id 表示有 id 值时初始加载",className:"m-t-n-sm"}]},{label:"定时刷新",name:"interval",type:"switch",mode:"horizontal",visibleOn:"data.initApi",pipeIn:function(e){return!!e},pipeOut:function(e){return e?3e3:void 0}},{label:"",name:"interval",type:"input-number",mode:"horizontal",size:"md",visibleOn:'typeof this.interval === "number"',step:500,description:"定时刷新间隔，单位 ms"},{label:"静默刷新",name:"silentPolling",type:"switch",mode:"horizontal",visibleOn:"!!data.interval",description:"设置自动定时刷新时是否显示loading"},{label:(0,m.tipedLabel)("定时刷新停止","定时刷新一旦设置会一直刷新，除非给出表达式，条件满足后则停止刷新"),name:"stopAutoRefreshWhen",type:"input-text",mode:"horizontal",horizontal:{leftFixed:"md"},size:"lg",visibleOn:"!!data.interval",placeholder:"停止定时刷新检测表达式"}]},{title:"HTTP配置",tab:[{type:"fieldSet",title:"Body",headingClassName:"ae-ApiControl-title",body:[{type:"switch",label:(0,m.tipedLabel)("发送数据映射","当没开启数据映射时，发送 API 的时候会发送尽可能多的数据，如果你想自己控制发送的数据，或者需要额外的数据处理，请开启此选项"),name:"data",mode:"row",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{"&":"$$"}:null}},{type:"combo",syncDefaultValue:!1,name:"data",mode:"normal",renderLabel:!1,visibleOn:"this.data",descriptionClassName:"help-block text-xs m-b-none",description:'<p>当没开启数据映射时，发送数据自动切成白名单模式，配置啥发送啥，请绑定数据。如：<code>{"a": "\\${a}", "b": 2}</code></p><p>如果希望在默认的基础上定制，请先添加一个 Key 为 `&` Value 为 `\\$$` 作为第一行。</p><div>当值为 <code>__undefined</code>时，表示删除对应的字段，可以结合<code>{"&": "\\$$"}</code>来达到黑名单效果。</div>',multiple:!0,pipeIn:function(e){if(!(0,u.isObject)(e))return e;var t=[];return Object.keys(e).forEach((function(a){t.push({key:a||"",value:"string"==typeof e[a]?e[a]:JSON.stringify(e[a])})})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var t={};return e.forEach((function(e){var a=e.key||"",n=e.value;try{n=JSON.parse(n)}catch(e){}t[a]=n})),t},items:[{placeholder:"Key",type:"input-text",unique:!0,name:"key",required:!0},{placeholder:"Value",type:"input-text",name:"value"}]},{type:"switch",label:(0,m.tipedLabel)("返回结果映射","如果需要对返回结果做额外的数据处理，请开启此选项"),name:"responseData",mode:"row",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{"&":"$$"}:null}},{type:"combo",syncDefaultValue:!1,name:"responseData",mode:"normal",renderLabel:!1,visibleOn:"this.responseData",descriptionClassName:"help-block text-xs m-b-none",multiple:!0,pipeIn:function(e){if(!(0,u.isObject)(e))return e;var t=[];return Object.keys(e).forEach((function(a){t.push({key:a||"",value:"string"==typeof e[a]?e[a]:JSON.stringify(e[a])})})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var t={};return e.forEach((function(e){var a=e.key||"",n=e.value;try{n=JSON.parse(n)}catch(e){}t[a]=n})),t},items:[{placeholder:"Key",type:"input-text",unique:!0,name:"key",required:!0},{placeholder:"Value",type:"input-text",name:"value"}]},{label:"发送适配器",name:"requestAdaptor",type:"js-editor",mode:"horizontal",horizontal:{justify:!0},clasName:"m-t-sm",allowFullscreen:!0,description:"函数签名：(api) => api， 数据在 api.data 中，修改后返回 api 对象。"},{label:"接收适配器",name:"adaptor",type:"js-editor",mode:"horizontal",horizontal:{justify:!0},clasName:"m-t-sm",allowFullscreen:!0,description:"函数签名: (payload, response, api) => payload"}]},{type:"fieldSet",title:"Header",headingClassName:"ae-ApiControl-title",body:[{type:"switch",label:(0,m.tipedLabel)("请求头","可以配置headers对象，添加自定义请求头"),name:"headers",mode:"row",className:"m-b-xs",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{"":""}:null}},{type:"combo",name:"headers",mode:"row",syncDefaultValue:!1,multiple:!0,visibleOn:"this.headers",items:[{type:"input-text",name:"key",placeholder:"Key",unique:!0,required:!0,options:[{label:"Content-Encoding",value:"Content-Encoding"},{label:"Content-Type",value:"Content-Type"}]},{type:"input-text",name:"value",placeholder:"Value",disabled:!1}],pipeIn:function(e){if(!(0,u.isObject)(e))return e;var t=[];return Object.keys(e).forEach((function(a){t.push({key:a||"",value:"string"==typeof e[a]?e[a]:JSON.stringify(e[a])})})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var t={};return e.forEach((function(e){var a=e.key||"",n=e.value;try{n=JSON.parse(n)}catch(e){}t[a]=n})),t}}]}]},{title:"其他",tab:[{label:"默认消息提示",type:"combo",name:"messages",mode:"normal",multiLine:!0,description:e||"设置 ajax 默认提示信息，当 ajax 没有返回 msg 信息时有用，如果 ajax 返回携带了 msg 值，则还是以 ajax 返回为主",items:[{label:"获取成功提示",type:"input-text",name:"success"},{label:"获取失败提示",type:"input-text",name:"failed"}]}]}]}]}},t.prototype.render=function(){var e=this,t=this.props,a=t.render,n=t.className,i=t.value,o=t.footer,d=t.border,c=void 0!==d&&d;return t.messageDesc,l.default.createElement("div",{className:(0,r.default)("ae-ApiControl",n,{border:c})},this.renderHeader(),l.default.createElement("div",{className:"ae-ApiControl-content",key:"content"},l.default.createElement(s.InputBox,{className:"ae-ApiControl-input m-b-none",value:this.state.apiStr,clearable:!1,placeholder:"http://",onChange:function(t){return e.handleSubmit(t,"input")}}),a("api-control-dialog",this.renderApiDialog(),{data:(0,p.normalizeApi)(i)})),Array.isArray(o)&&0!==o.length?l.default.createElement("footer",{className:"mt-3",key:"footer"},a("api-control-footer",o)):null)},t.defaultProps={pickerBtnSchema:{type:"button",level:"link",size:"sm",label:"点击选择"}},n.__decorate([u.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object,Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleSubmit",null),n.__decorate([u.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handlePickerConfirm",null),n.__decorate([u.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handlePickerClose",null),t}(l.default.Component);t.default=h;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),n.__decorate([(0,s.FormItem)({type:"ae-actionApiControl"})],t)}(h);t.APIControlRenderer=f},7368:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BadgeControlRenderer=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(9003)),o=n.__importDefault(a(6897)),r=n.__importDefault(a(7413)),s=a(1502),d=a(3570),c=a(9547),p=function(e){function t(t){var a=e.call(this,t)||this;return a.state={checked:!!(0,d.isObject)(null==t?void 0:t.value)},a}return n.__extends(t,e),t.prototype.componentDidUpdate=function(e){var t,a,n=this.props;(0,d.anyChanged)(["mode","text","size","offset","position","overflowCount","visibleOn","animation","style","level"],null!==(t=null==e?void 0:e.value)&&void 0!==t?t:{},null!==(a=null==n?void 0:n.value)&&void 0!==a?a:{})&&this.setState({checked:!!(0,d.isObject)(null==n?void 0:n.value)})},t.prototype.transformBadgeValue=function(){var e,t,a=this.props.data,l=null!==(e=null==a?void 0:a.badge)&&void 0!==e?e:{},i=null===(t=null==a?void 0:a.badge)||void 0===t?void 0:t.size,o={x:0,y:0};return Array.isArray(null==l?void 0:l.offset)&&(null==l?void 0:l.offset.length)>=2&&(o.x=null==l?void 0:l.offset[0],o.y=null==l?void 0:l.offset[1]),n.__assign(n.__assign({},l),{size:i,offset:o})},t.prototype.normalizeBadgeValue=function(e){var t,a,l=(0,d.isObject)(null==e?void 0:e.offset)&&(null===(t=null==e?void 0:e.offset)||void 0===t?void 0:t.x)&&(null===(a=null==e?void 0:e.offset)||void 0===a?void 0:a.y)?{offset:[e.offset.x,e.offset.y]}:{},i=(0,d.isObject)(null==e?void 0:e.style)&&!(0,d.isEmpty)(null==e?void 0:e.style)?{style:(0,r.default)(null==e?void 0:e.style,(function(e,t){return(0,o.default)(t)}))}:{};return n.__assign(n.__assign(n.__assign({},e),l),i)},t.prototype.handleSwitchChange=function(e){var t=this.props,a=t.onChange;t.disabled||(this.setState({checked:e}),null==a||a(e?{mode:"dot"}:void 0))},t.prototype.handleSubmit=function(e,t){var a=this.props.onBulkChange;"submit"===(null==t?void 0:t.type)&&(null==a||a({badge:this.normalizeBadgeValue(e)}))},t.prototype.renderBody=function(){var e=this.props.render,t=this.transformBadgeValue();return e("badge-form",{type:"form",className:"ae-BadgeControl-form w-full",wrapWithPanel:!1,panelClassName:"border-none shadow-none mb-0",bodyClassName:"p-none",actionsClassName:"border-none mt-2.5",wrapperComponent:"div",preventEnterSubmit:!0,submitOnChange:!0,body:[{label:"类型",name:"mode",type:"button-group-select",size:"xs",mode:"row",tiled:!0,className:"ae-BadgeControl-buttonGroup",options:[{label:"点",value:"dot",icon:"fa fa-circle"},{label:"文字",value:"text",icon:"fa fa-font"},{label:"缎带",value:"ribbon",icon:"fa fa-ribbon"}],pipeIn:(0,c.defaultValue)("dot")},{label:"文本内容",name:"text",type:"input-text",mode:"row",visibleOn:"data.mode !== 'dot'"},{label:"角标主题色",name:"level",type:"button-group-select",size:"xs",mode:"row",tiled:!0,className:"ae-BadgeControl-buttonGroup",options:[{label:"成功",value:"success"},{label:"警告",value:"warning"},{label:"危险",value:"danger"},{label:"信息",value:"info"}],pipeIn:(0,c.defaultValue)("danger")},{label:"角标位置",name:"position",type:"button-group-select",size:"xs",mode:"row",tiled:!0,className:"ae-BadgeControl-buttonGroup",options:[{label:"左上",value:"top-left",icon:"fa fa-long-arrow-alt-up",className:"ae-BadgeControl-position--antiClockwise"},{label:"右上",value:"top-right",icon:"fa fa-long-arrow-alt-up",className:"ae-BadgeControl-position--clockwise"},{label:"左下",value:"bottom-left",icon:"fa fa-long-arrow-alt-down",className:"ae-BadgeControl-position--clockwise"},{label:"右下",value:"bottom-right",icon:"fa fa-long-arrow-alt-down",className:"ae-BadgeControl-position--antiClockwise"}],pipeIn:(0,c.defaultValue)("top-right")},{type:"group",className:"ae-BadgeControl-offset",body:[{label:"水平偏移量",name:"offset.x",type:"input-number",suffix:"px",step:1},{label:"垂直偏移量",name:"offset.y",type:"input-number",suffix:"px",step:1}]},{label:"自定义角标尺寸",name:"size",type:"switch",mode:"row",inputClassName:"inline-flex justify-between flex-row-reverse",pipeIn:function(e){return!!e},pipeOut:function(e,t,a){return e?"dot"===(null==a?void 0:a.mode)?6:"ribbon"===(null==a?void 0:a.mode)?12:16:void 0}},{label:"",name:"size",type:"input-number",size:"sm",mode:"row",min:1,max:100,suffix:"px",visibleOn:"this.size",pipeIn:function(e){return"number"==typeof e?e:0}},{label:"封顶数字",name:"overflowCount",type:"input-number",size:"sm",mode:"row",visibleOn:"data.mode === 'text'"},{label:"动画",name:"animation",type:"switch",mode:"row",inputClassName:"inline-flex justify-between flex-row-reverse"}]},{data:t,onSubmit:this.handleSubmit.bind(this)})},t.prototype.render=function(){var e=this.props,t=e.classPrefix,a=e.className,n=e.labelClassName,o=e.label,r=e.disabled,d=this.state.checked;return l.default.createElement("div",{className:(0,i.default)("ae-BadgeControl",a)},l.default.createElement("div",{className:(0,i.default)("ae-BadgeControl-switch")},l.default.createElement("label",{className:(0,i.default)("".concat(t,"Form-label"),n)},o||"角标"),l.default.createElement(s.Switch,{value:d,onChange:this.handleSwitchChange,disabled:r})),d?this.renderBody():null)},t.defaultProps={mode:"dot",overflowCount:99,position:"top-right",level:"danger",animation:!1},n.__decorate([d.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Boolean]),n.__metadata("design:returntype",void 0)],t.prototype,"handleSwitchChange",null),t}(l.default.Component);t.default=p;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),n.__decorate([(0,s.FormItem)({type:"ae-badge",renderLabel:!1})],t)}(p);t.BadgeControlRenderer=u},2759:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.remarkTpl=t.tipedLabel=t.formItemControl=t.BaseLabelMark=t.BUTTON_DEFAULT_ACTION=void 0;var n=a(752),l=n.__importDefault(a(8579)),i=a(3570),o=a(9547);t.BUTTON_DEFAULT_ACTION={onEvent:{click:{actions:[]}}},t.BaseLabelMark=function(e){var t={className:"ae-BaseRemark",icon:"fa fa-question-circle",trigger:["hover","click"],placement:"left",content:""};if(!(0,i.isObject)(e)||"string"==typeof e)return e?n.__assign(n.__assign({},t),{content:e.toString()}):void 0;var a=e.className,l=e.content,o=n.__rest(e,["className","content"]);return l?n.__assign(n.__assign(n.__assign(n.__assign({},t),o),a?{className:"".concat(t.className," ").concat(o.className)}:{}),{content:l}):void 0};var r=function(e,t,a,i,o){void 0===a&&(a=!1),void 0===i&&(i=!1),void 0===o&&(o={});var r=t?Array.isArray(t)?t.concat():[t]:[];return(0,l.default)(a?r:i?n.__spreadArray(n.__spreadArray([],r,!0),e,!0):n.__spreadArray(n.__spreadArray([],e,!0),r,!0))};function s(e,t){return{type:"tooltip-wrapper",tooltip:t,tooltipTheme:"dark",placement:"top",tooltipStyle:{fontSize:"12px"},className:"ae-formItemControl-label-tip",body:e}}t.formItemControl=function(e,t){var a,s,d,c,p,u,m,h,f,g,b,v,y,_,S,C,x,w,T={type:"collapse",headingClassName:"ae-formItemControl-header",bodyClassName:"ae-formItemControl-body"},N=(Object.keys(null!==(a=null==t?void 0:t.schema)&&void 0!==a?a:{}),r([],null===(s=null==e?void 0:e.option)||void 0===s?void 0:s.body,null===(d=null==e?void 0:e.option)||void 0===d?void 0:d.replace)),E=(null==e?void 0:e.property)?(x=T,w=null==e?void 0:e.property,void 0===x&&(x={}),w?Array.isArray(w)?w.filter((function(e){return e})).map((function(e,t){return n.__assign(n.__assign(n.__assign(n.__assign({},x),{key:e.key||t.toString()}),e),{body:(0,l.default)(e.body)})})):[n.__assign(n.__assign(n.__assign({},x),{key:"0"}),w)]:[]):n.__spreadArray(n.__spreadArray([n.__assign(n.__assign({},T),{header:"常用",key:"common",body:r([(0,o.getSchemaTpl)("formItemName",{required:!0}),(0,o.getSchemaTpl)("label"),(0,o.getSchemaTpl)("labelRemark"),(0,o.getSchemaTpl)("remark"),(0,o.getSchemaTpl)("placeholder"),(0,o.getSchemaTpl)("description")],null===(c=null==e?void 0:e.common)||void 0===c?void 0:c.body,null===(p=null==e?void 0:e.common)||void 0===p?void 0:p.replace,null===(u=null==e?void 0:e.common)||void 0===u?void 0:u.reverse)})],0!==N.length?[n.__assign(n.__assign({},T),{header:(null===(m=null==e?void 0:e.option)||void 0===m?void 0:m.title)||"选项",key:"option",body:N})]:[],!0),[n.__assign(n.__assign({},T),{header:"状态",key:"status",body:r([(0,o.getSchemaTpl)("hidden"),(0,o.getSchemaTpl)("disabled"),(0,o.getSchemaTpl)("clearValueOnHidden")],null===(h=null==e?void 0:e.status)||void 0===h?void 0:h.body,null===(f=null==e?void 0:e.status)||void 0===f?void 0:f.replace,null===(g=null==e?void 0:e.status)||void 0===g?void 0:g.reverse)})],!1);return[{type:"tabs",tabsMode:"line",className:"editor-prop-config-tabs",linksClassName:"editor-prop-config-tabs-links",contentClassName:"no-border editor-prop-config-tabs-cont",tabs:n.__spreadArray([{title:"属性",className:"p-none",body:[{type:"collapse-group",expandIconPosition:"right",expandIcon:{type:"icon",icon:"chevron-right"},className:"ae-formItemControl",activeKey:E.map((function(e,t){return e.key})),body:E}]},{title:"外观",body:r([(0,o.getSchemaTpl)("formItemMode"),(0,o.getSchemaTpl)("horizontalMode"),(0,o.getSchemaTpl)("horizontal",{label:"",visibleOn:'data.mode == "horizontal" && data.label !== false && data.horizontal'}),(0,o.getSchemaTpl)("formItemInline"),(0,o.getSchemaTpl)("className"),(0,o.getSchemaTpl)("className",{label:"Label CSS 类名",name:"labelClassName"}),(0,o.getSchemaTpl)("className",{label:"控件 CSS 类名",name:"inputClassName"}),(0,o.getSchemaTpl)("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"this.description"})],null===(b=null==e?void 0:e.style)||void 0===b?void 0:b.body,null===(v=null==e?void 0:e.style)||void 0===v?void 0:v.replace,null===(y=null==e?void 0:e.style)||void 0===y?void 0:y.reverse)}],(0,i.isObject)(t)&&!(null===(_=null==e?void 0:e.event)||void 0===_?void 0:_.hidden)?[{title:"事件",className:"p-none",body:r([(0,o.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,i.getEventControlConfig)(t.info.plugin.manager,t)))],null===(S=null==e?void 0:e.event)||void 0===S?void 0:S.body,null===(C=null==e?void 0:e.event)||void 0===C?void 0:C.replace)}]:[],!0)}]},t.tipedLabel=s,t.remarkTpl=function(e){return{type:"ae-switch-more",formType:"dialog",className:"ae-switch-more-flex",label:e.labelRemark?s(e.label,e.labelRemark):e.label,bulk:!1,name:e.name,pipeIn:function(e){return!!e},pipeOut:function(e){return(0,i.isObject)(e)?e:e?{icon:"fa fa-question-circle",trigger:["hover"],className:"Remark--warning",placement:"top"}:void 0},form:{size:"md",className:"mb-8",mode:"horizontal",horizontal:{left:4,right:8,justify:!0},body:{type:"grid",className:"pt-4 right-panel-pop",gap:"lg",columns:[{md:"6",body:[{name:"title",type:"input-text",label:"提示标题",placeholder:"请输入提示标题"},{name:"content",type:"textarea",label:"内容"}]},{md:"6",body:[{name:"placement",type:"button-group-select",size:"md",label:"弹出位置",options:[{label:"上",value:"top"},{label:"下",value:"bottom"},{label:"左",value:"left"},{label:"右",value:"right"}]},{name:"icon",label:"图标",type:"icon-picker",className:"fix-icon-picker-overflow"},{name:"className",label:"CSS 类名",type:"input-text",labelRemark:(0,t.BaseLabelMark)('有哪些辅助类 CSS 类名？请前往 <a href="https://baidu.gitee.io/amis/zh-CN/style/index" target="_blank">样式说明</a>，除此之外你可以添加自定义类名，然后在系统配置中添加自定义样式。')},{name:"trigger",type:"select",label:"触发方式",labelRemark:(0,t.BaseLabelMark)("浮层触发方式默认值为鼠标悬停"),multiple:!0,pipeIn:function(e){return Array.isArray(e)?e.join(","):[]},pipeOut:function(e){return e&&e.length?e.split(","):["hover"]},options:[{label:"鼠标悬停",value:"hover"},{label:"点击",value:"click"}]},{name:"rootClose",visibleOn:'~this.trigger.indexOf("click")',label:"点击空白关闭",type:"switch",mode:"row",inputClassName:"inline-flex justify-between flex-row-reverse"}]}]}}}}},8621:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataBindingControlRenderer=t.DataBindingControl=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(3570),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.handleConfirm=function(e){this.props.onChange("".concat(e.value))},t.prototype.handlePickerOpen=function(){return n.__awaiter(this,void 0,void 0,(function(){var e,t,a;return n.__generator(this,(function(n){switch(n.label){case 0:return e=this.props,t=e.manager,a=e.node,[4,t.getContextSchemas(a.info.id,!0)];case 1:return[2,{schemas:n.sent()}]}}))}))},t.prototype.render=function(){var e=this,t=this.props,a=(t.classnames,t.value),o=t.onChange,r=t.disabled;return i.default.createElement(l.SchemaVariableListPicker,{onPickerOpen:this.handlePickerOpen,onConfirm:this.handleConfirm,title:"绑定变量"},(function(t){var s=t.onClick;return t.isOpened,t.setState,i.default.createElement(l.InputBox,{className:"ae-InputVariable",clearable:!1,value:a,onChange:o,disabled:r},i.default.createElement("span",{onClick:function(t){return n.__awaiter(e,void 0,void 0,(function(){return n.__generator(this,(function(e){return s(t),[2]}))}))}},i.default.createElement(l.Icon,{icon:"info",className:"icon"})))}))},n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleConfirm",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",Promise)],t.prototype,"handlePickerOpen",null),t}(i.default.Component);t.DataBindingControl=r;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),n.__decorate([(0,l.FormItem)({type:"ae-DataBindingControl"})],t)}(r);t.DataBindingControlRenderer=s},3500:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataPickerControlRenderer=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(3570),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),n.__decorate([(0,l.FormItem)({type:"ae-DataPickerControl",renderLabel:!1})],t)}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.handleConfirm=function(e){this.props.onChange(e)},t.prototype.handlePickerOpen=function(){return n.__awaiter(this,void 0,void 0,(function(){var e,t,a;return n.__generator(this,(function(l){switch(l.label){case 0:return e=this.props,t=e.manager,a=e.node,[4,t.getContextSchemas(a.info.id)];case 1:return l.sent(),[2,{variables:t.dataSchema.getDataPropsAsOptions().map((function(e){return n.__assign(n.__assign({},e),{selectMode:"tree"})})),variableMode:"tabs"}]}}))}))},t.prototype.render=function(){var e=this,t=this.props,a=(t.classnames,t.value),o=t.onChange,r=t.disabled,s=t.manager,d=t.node;return i.default.createElement(l.FormulaPicker,{onPickerOpen:this.handlePickerOpen,evalMode:!1,onConfirm:this.handleConfirm,value:a,onChange:function(){},header:""},(function(t){var c=t.onClick,p=(t.isOpened,t.setState);return i.default.createElement(l.InputBox,{className:"ae-InputVariable",clearable:!1,value:a,onChange:o,disabled:r},i.default.createElement("span",{onClick:function(t){return n.__awaiter(e,void 0,void 0,(function(){var e;return n.__generator(this,(function(a){switch(a.label){case 0:return[4,s.getContextSchemas(d.info.id)];case 1:return e=a.sent(),p({schemas:e}),c(t),[2]}}))}))}},i.default.createElement(l.Icon,{icon:"info",className:"icon"})))}))},n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",void 0)],t.prototype,"handleConfirm",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",Promise)],t.prototype,"handlePickerOpen",null),t}(i.default.Component));t.DataPickerControlRenderer=r},5819:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DateShortCutControlRender=t.DateShortCutControl=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(9003)),o=n.__importDefault(a(35)),r=a(6405),s=a(1502),d=a(3570),c=n.__importDefault(a(4344)),p="custom",u="ae-DateShortCutControl",m=function(e){function t(t){var a=e.call(this,t)||this,n=t.dropDownOption,l=t.data;return a.dropDownOptionArr=Object.keys(n).map((function(e){return{label:n[e],value:e}})),a.initOptions(l.ranges),a}return n.__extends(t,e),t.prototype.initOptions=function(e){e||(e=["yesterday","7daysago","prevweek","thismonth","prevmonth","prevquarter"]);var t=this.props.dropDownOption,a=[];Array.isArray(e)&&e.map((function(e){"string"==typeof e&&t.hasOwnProperty(e)&&a.push({label:t[e],type:e,inputValue:e}),"object"==typeof e&&a.push({label:null==e?void 0:e.label,type:p,inputValue:e.range})})),this.state={options:a}},t.prototype.addItem=function(e){var t=this,a=this.state.options;this.setState({options:n.__spreadArray(n.__spreadArray([],a,!0),[n.__assign(n.__assign({},e),{inputValue:e.value===p?"":e.value,type:e.value})],!1)},(function(){t.onChangeOptions(),t.scrollToBottom()}))},t.prototype.dragRef=function(e){!this.drag&&e?this.initDragging():this.drag&&!e&&this.destroyDragging(),this.drag=e},t.prototype.scrollToBottom=function(){var e,t;this.drag&&(null===(t=null===(e=this.drag)||void 0===e?void 0:e.lastElementChild)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))},t.prototype.initDragging=function(){var e=this,t=(0,r.findDOMNode)(this);this.sortable=new o.default(t.querySelector(".".concat(u,"-content")),{group:"OptionControlGroup",animation:150,handle:".".concat(u,"Item-dragBar"),ghostClass:"".concat(u,"Item-dragging"),onEnd:function(t){if(t.newIndex!==t.oldIndex){var a=t.to;t.newIndex<t.oldIndex&&t.oldIndex<a.childNodes.length-1?a.insertBefore(t.item,a.childNodes[t.oldIndex+1]):t.oldIndex<a.childNodes.length-1?a.insertBefore(t.item,a.childNodes[t.oldIndex]):a.appendChild(t.item);var n=e.state.options.concat();n[t.oldIndex]=n.splice(t.newIndex,1,n[t.oldIndex])[0],e.setState({options:n},(function(){return e.onChangeOptions()}))}}})},t.prototype.destroyDragging=function(){this.sortable&&this.sortable.destroy()},t.prototype.renderContent=function(){var e=this,t=this.state.options;return l.default.createElement("div",{className:u+"-wrapper"},t&&t.length?l.default.createElement("ul",{className:u+"-content",ref:this.dragRef},t.map((function(t,a){return e.renderOption(t,a)}))):l.default.createElement("div",{className:"ae-OptionControl-placeholder"},"未配置"))},t.prototype.renderOption=function(e,t){var a=this;return l.default.createElement("li",{className:u+"Item",key:t},l.default.createElement("a",{className:u+"Item-dragBar"},l.default.createElement(s.Icon,{icon:"drag-bar",className:"icon"})),l.default.createElement(s.InputBox,{className:u+"Item-input",clearable:!1,placeholder:"名称",value:e.label,onInput:function(e){return a.onInputChange(t,e.target.value,"label")}}),l.default.createElement(c.default,n.__assign({},this.props,{simple:!0,variables:[],functions:[],header:"",onChange:function(e){return a.onInputChange(t,e,"inputValue")},value:e.inputValue})),l.default.createElement(s.Button,{className:u+"Item-action",level:"link",size:"md",onClick:function(e){return a.handleDelete(t,e)}},l.default.createElement(s.Icon,{icon:"delete-btn",className:"icon"})))},t.prototype.onInputChange=function(e,t,a){var n=this,l=this.state.options.concat();l[e][a]=t,l[e].type=p,this.setState({options:l},(function(){return n.onChangeOptions()}))},t.prototype.handleDelete=function(e,t){var a=this,n=this.state.options.concat();n.splice(e,1),this.setState({options:n},(function(){return a.onChangeOptions()}))},t.prototype.onChangeOptions=function(){var e=this.state.options,t=this.props.onBulkChange,a=[];e.forEach((function(e){e.type!==p?a.push(e.inputValue):a.push({label:e.label,range:e.inputValue})})),t&&t({ranges:a})},t.prototype.render=function(){var e=this,t=this.props,a=t.className,o=t.label,r=this.dropDownOptionArr.map((function(t){return n.__assign(n.__assign({},t),{type:"button",onAction:function(a,n){return e.addItem(t)}})}));return l.default.createElement("div",{className:(0,i.default)(u,a)},l.default.createElement("header",{className:u+"-header"},l.default.createElement("label",null,o)),this.renderContent(),l.default.createElement("div",{className:u+"-footer"},(0,s.render)({type:"dropdown-button",label:"添加选项",closeOnClick:!0,closeOnOutside:!0,buttons:r})))},t.defaultProps={label:"快捷键"},n.__decorate([d.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"dragRef",null),t}(l.default.PureComponent);t.DateShortCutControl=m;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),n.__decorate([(0,s.FormItem)({type:u,renderLabel:!1})],t)}(m);t.DateShortCutControlRender=h},4344:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FormulaControlRenderer=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(3908)),o=n.__importDefault(a(9309)),r=n.__importDefault(a(9003)),s=a(1502),d=a(7981),c=n.__importDefault(a(6120)),p=a(3570),u=function(e){function t(t){var a=e.call(this,t)||this;return a.handleSimpleInputChange=(0,i.default)((function(e){var t,n;null===(n=null===(t=a.props)||void 0===t?void 0:t.onChange)||void 0===n||n.call(t,e)}),250,{trailing:!0,leading:!1}),a}return n.__extends(t,e),t.prototype.normalizeVariables=function(e){var t,a,l,i=this.props,r=i.context,s=i.evalMode,d=null===(a=null===(t=this.props)||void 0===t?void 0:t.data)||void 0===a?void 0:a.name,c=null===(l=null==r?void 0:r.node)||void 0===l?void 0:l.ancestorField;return(0,o.default)(n.__spreadArray(n.__spreadArray(n.__spreadArray([],Array.isArray(e)?e:[],!0),c?c.map((function(e){return{label:e,value:s?"this.".concat(e):e}})):[],!0),d?[{label:d,value:"this.".concat(d)}]:[],!0),"value")},t.prototype.handleConfirm=function(e){var t,a;null===(a=null===(t=this.props)||void 0===t?void 0:t.onChange)||void 0===a||a.call(t,e)},t.prototype.render=function(){var e=this,t=this.props,a=(t.render,t.className),i=t.label,o=t.value,p=t.header,u=t.variables,m=t.placeholder,h=t.simple,f=n.__rest(t,["render","className","label","value","header","variables","placeholder","simple"]),g="string"==typeof i?i:"";return l.default.createElement("div",{className:(0,r.default)("ae-FormulaControl",a)},!h&&l.default.createElement(s.InputBox,{className:"ae-FormulaControl-input",value:o,clearable:!1,placeholder:m,onChange:this.handleSimpleInputChange}),l.default.createElement(d.PickerContainer,{showTitle:!1,bodyRender:function(t){t.onClose;var a=t.value,i=t.onChange;return l.default.createElement(c.default,n.__assign({},f,{variables:e.normalizeVariables(u),header:p||g,value:a,onChange:i}))},value:o,onConfirm:this.handleConfirm,size:"md"},(function(e){var t,a=e.onClick;return e.isOpened,l.default.createElement(s.Button,{size:"sm",tooltip:h?"点击配置表达式":"",tooltipPlacement:"left",onClick:a,active:h&&o},l.default.createElement(s.Icon,{icon:"function",className:(0,r.default)("ae-FormulaControl-icon","icon",(t={},t["is-filled"]=!!o,t))}))})))},t.defaultProps={simple:!1},n.__decorate([p.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleConfirm",null),t}(l.default.Component);t.default=u;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),n.__decorate([(0,s.FormItem)({type:"ae-formulaControl"})],t)}(u);t.FormulaControlRenderer=m},4051:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionControlRenderer=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(6405),o=n.__importDefault(a(9003)),r=n.__importDefault(a(9309)),s=n.__importDefault(a(3901)),d=n.__importDefault(a(35)),c=a(1502),p=a(2477),u=a(3570),m=a(9547),h=a(2759),f=function(e){function t(t){var a=e.call(this,t)||this;return a.internalProps=["checked","editing"],a.state={options:a.transformOptions(t),api:t.data.source,labelField:t.data.labelField,valueField:t.data.valueField,source:t.data.source?"api":"custom"},a}return n.__extends(t,e),t.prototype.getOptionValueType=function(e){return"string"==typeof e?"text":"boolean"==typeof e?"boolean":"number"==typeof e?"number":"text"},t.prototype.normalizeOptionValue=function(e,t){if("text"===t)return String(e);if("number"===t){var a=Number(e);return isNaN(a)?0:a}return"boolean"===t?!(!e||"false"===e):""},t.prototype.transformOptionValue=function(e){return null==e?"":"string"==typeof e?e:JSON.stringify(e)},t.prototype.transformOptions=function(e){var t=e.data,a=e.value,n=t.value,l=(0,p.value2array)(n,t).map((function(e){var a;return e[null!==(a=null==t?void 0:t.valueField)&&void 0!==a?a:"value"]}));return Array.isArray(a)?a.map((function(e){var a;return{label:e.label,value:e.label===e.value?null:e.value,checked:!!~l.indexOf(e[null!==(a=null==t?void 0:t.valueField)&&void 0!==a?a:"value"])}})):[]},t.prototype.normalizeValue=function(){var e,t=this,a=this.props,n=a.data,l=void 0===n?{}:n,i=a.multiple,o=l.joinValues,r=void 0===o||o,d=l.extractValue,c=l.multiple,p=l.delimiter,u=l.valueField,m=this.state.options.filter((function(e){return e.checked})).map((function(e){return(0,s.default)(e,t.internalProps)}));return m.length?(c||i?(e=m,r?e=m.map((function(e){return e[u||"value"]||e[u||"label"]})).join(p||","):d&&(e=m.map((function(e){return e[u||"value"]||e[u||"label"]})))):(e=m[0],(r||d)&&(e=e[u||"value"]||e[u||"label"])),e):""},t.prototype.onChange=function(){var e=this.state.source,t=this.props.onBulkChange,a=this.normalizeValue(),n={source:void 0,options:void 0,labelField:void 0,valueField:void 0};if("custom"===e){var l=this.state.options;n.options=l.map((function(e){return{label:e.label,value:null==e.value||""===e.value?e.label:e.value}})),n.value=a||void 0}if("api"===e){var i=this.state,o=i.api,r=i.labelField,s=i.valueField;n.source=o,n.labelField=r,n.valueField=s}t&&t(n)},t.prototype.targetRef=function(e){this.target=e?(0,i.findDOMNode)(e):null},t.prototype.dragRef=function(e){!this.drag&&e?this.initDragging():this.drag&&!e&&this.destroyDragging(),this.drag=e},t.prototype.initDragging=function(){var e=this,t=(0,i.findDOMNode)(this);this.sortable=new d.default(t.querySelector(".ae-OptionControl-content"),{group:"OptionControlGroup",animation:150,handle:".ae-OptionControlItem-dragBar",ghostClass:"ae-OptionControlItem--dragging",onEnd:function(t){if(t.newIndex!==t.oldIndex){var a=t.to;t.newIndex<t.oldIndex&&t.oldIndex<a.childNodes.length-1?a.insertBefore(t.item,a.childNodes[t.oldIndex+1]):t.oldIndex<a.childNodes.length-1?a.insertBefore(t.item,a.childNodes[t.oldIndex]):a.appendChild(t.item);var n=e.state.options.concat();n[t.oldIndex]=n.splice(t.newIndex,1,n[t.oldIndex])[0],e.setState({options:n},(function(){return e.onChange()}))}}})},t.prototype.destroyDragging=function(){this.sortable&&this.sortable.destroy()},t.prototype.scroll2Bottom=function(){var e,t;this.drag&&(null===(t=null===(e=this.drag)||void 0===e?void 0:e.lastElementChild)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))},t.prototype.handleSourceChange=function(e){this.setState({source:e},this.onChange)},t.prototype.handleDelete=function(e){var t=this,a=this.state.options.concat();a.splice(e,1),this.setState({options:a},(function(){return t.onChange()}))},t.prototype.handleToggleDefaultValue=function(e,t,a){var l,i,o,r=this,s=this.state.options.concat();(null===(i=null===(l=this.props)||void 0===l?void 0:l.data)||void 0===i?void 0:i.multiple)||(null===(o=this.props)||void 0===o?void 0:o.multiple)?s.splice(e,1,n.__assign(n.__assign({},s[e]),{checked:t})):s=s.map((function(t,a){return n.__assign(n.__assign({},t),{checked:a===e})})),this.setState({options:s},(function(){return r.onChange()}))},t.prototype.toggleEdit=function(e){var t=this.state.options;t[e].editing=!t[e].editing,this.setState({options:t})},t.prototype.handleEditLabel=function(e,t){var a=this,l=this.state.options.concat();l.splice(e,1,n.__assign(n.__assign({},l[e]),{label:t})),this.setState({options:l},(function(){return a.onChange()}))},t.prototype.handleAdd=function(){var e=this,t=this.state.options;t.push({label:"",value:null,checked:!1}),this.setState({options:t},(function(){e.onChange()}))},t.prototype.handleValueTypeChange=function(e,t){var a=this,n=this.state.options.concat();n[e].value=this.normalizeOptionValue(n[e].value,t),this.setState({options:n},(function(){return a.onChange()}))},t.prototype.handleValueChange=function(e,t){var a=this,n=this.state.options.concat(),l=this.getOptionValueType(n[e].value);n[e].value=this.normalizeOptionValue(t,l),this.setState({options:n},(function(){return a.onChange()}))},t.prototype.handleBatchAdd=function(e,t){var a=this,l=this.state.options.concat(),i=e.batchOption.split("\n").map((function(e){var t=e.trim();if(~t.indexOf(" ")){var a=t.split(" "),n=a[0],l=a[1];return{label:n.trim(),value:l.trim(),checked:!1}}return{label:t,value:t,checked:!1}})),o=(0,r.default)(n.__spreadArray(n.__spreadArray([],l,!0),i,!0),"value");this.setState({options:o},(function(){return a.onChange()}))},t.prototype.renderHeader=function(){var e,t=this,a=this.props,i=a.render,r=a.label,s=a.labelRemark,d=a.useMobileUI,c=a.env,p=a.popOverContainer,u=null===(e=null==c?void 0:c.theme)||void 0===e?void 0:e.classPrefix,m=this.state.source,h=[{label:"自定义选项",value:"custom"},{label:"接口获取",value:"api"}].map((function(e){return n.__assign(n.__assign({},e),{onClick:function(){return t.handleSourceChange(e.value)}})}));return l.default.createElement("header",{className:"ae-OptionControl-header"},l.default.createElement("label",{className:(0,o.default)("".concat(u,"Form-label"))},r||"",s?i("label-remark",{type:"remark",icon:s.icon||"warning-mark",tooltip:s,className:(0,o.default)("Form-lableRemark",null==s?void 0:s.className),useMobileUI:d,container:p||(c&&c.getModalContainer?c.getModalContainer:void 0)}):null),l.default.createElement("div",null,i("validation-control-addBtn",{type:"dropdown-button",level:"link",size:"sm",label:"${selected}",align:"right",closeOnClick:!0,closeOnOutside:!0,buttons:h},{popOverContainer:null,data:{selected:h.find((function(e){return e.value===m})).label}})))},t.prototype.renderOption=function(e){var t=this,a=e.checked,n=e.index,i=e.editing,o=e.multipleProps,r=this.props.data,s=!0===(null==r?void 0:r.multiple)||o,d=this.transformOptionValue(e.label),p=this.transformOptionValue(e.value),u=this.getOptionValueType(e.value),m=i?l.default.createElement("div",{className:"ae-OptionControlItem-extendMore"},(0,c.render)({type:"container",className:"ae-ExtendMore right mb-2",body:[{type:"button",className:"ae-OptionControlItem-closeBtn",label:"×",level:"link",onClick:function(){return t.toggleEdit(n)}},{type:"input-text",name:"label",placeholder:"请输入显示文本",label:"文本",mode:"horizontal",value:d,labelClassName:"ae-OptionControlItem-EditLabel",valueClassName:"ae-OptionControlItem-EditValue",onChange:function(e){return t.handleEditLabel(n,e)}},{type:"input-group",name:"input-group",label:"值",labelClassName:"ae-OptionControlItem-EditLabel",valueClassName:"ae-OptionControlItem-EditValue",mode:"horizontal",body:[{type:"select",name:"valueType",value:u,options:[{label:"文本",value:"text"},{label:"数字",value:"number"},{label:"布尔",value:"boolean"}],checkAll:!1,onChange:function(e){return t.handleValueTypeChange(n,e)}},{type:"input-text",placeholder:"默认与文本一致",name:"value",value:p,visibleOn:"this.optionValueType !== 'boolean'",onChange:function(e){return t.handleValueChange(n,e)}},{type:"input-text",placeholder:"默认与文本一致",name:"value",value:p,visibleOn:"this.optionValueType === 'boolean'",onChange:function(e){return t.handleValueChange(n,e)},options:[{label:"true",value:!0},{label:"false",value:!1}]}]}]})):null,h=[{type:"button",className:"ae-OptionControlItem-action",label:"编辑",onClick:function(){return t.toggleEdit(n)}},{type:"button",className:"ae-OptionControlItem-action",label:"删除",onClick:function(){return t.handleDelete(n)}}];return!s&&a&&h.unshift({type:"button",className:"ae-OptionControlItem-action",label:"取消选中",onClick:function(){return t.handleToggleDefaultValue(n,!1)}}),l.default.createElement("li",{className:"ae-OptionControlItem",key:n},l.default.createElement("div",{className:"ae-OptionControlItem-Main"},l.default.createElement("a",{className:"ae-OptionControlItem-dragBar"},l.default.createElement(c.Icon,{icon:"drag-bar",className:"icon"})),!0!==this.props.data.defaultCheckAll&&l.default.createElement("span",{className:"inline-flex","data-tooltip":"默认选中此项"},l.default.createElement(c.Checkbox,{className:"ae-OptionControlItem-checkbox",checked:a,type:s?"checkbox":"radio",onChange:function(e,a){return t.handleToggleDefaultValue(n,e,a)}})),l.default.createElement(c.InputBox,{className:"ae-OptionControlItem-input",value:d,placeholder:"请输入文本/值",clearable:!1,onChange:function(e){return t.handleEditLabel(n,e)}}),(0,c.render)({type:"dropdown-button",className:"ae-OptionControlItem-dropdown",btnClassName:"px-2",icon:"fa fa-ellipsis-h",hideCaret:!0,closeOnClick:!0,align:"right",menuClassName:"ae-OptionControlItem-ulmenu",buttons:h})),m)},t.prototype.buildBatchAddSchema=function(){return{type:"action",actionType:"dialog",label:"批量添加",dialog:{title:"批量添加选项",headerClassName:"font-bold",closeOnEsc:!0,closeOnOutside:!1,showCloseButton:!0,body:[{type:"alert",level:"warning",body:[{type:"tpl",tpl:'每个选项单列一行，将所有值不重复的项加为新的选项;<br/>每行可通过空格来分别设置label和value,例："张三 zhangsan"'}],showIcon:!0,className:"mb-2.5"},{type:"form",wrapWithPanel:!1,mode:"normal",wrapperComponent:"div",resetAfterSubmit:!0,autoFocus:!0,preventEnterSubmit:!0,horizontal:{left:0,right:12},body:[{name:"batchOption",type:"textarea",label:"",placeholder:"请输入选项内容",trimContents:!0,minRows:10,maxRows:50,required:!0}]}]}}},t.prototype.handleAPIChange=function(e){this.setState({api:e},this.onChange)},t.prototype.handleLableFieldChange=function(e){this.setState({labelField:e},this.onChange)},t.prototype.handleValueFieldChange=function(e){this.setState({valueField:e},this.onChange)},t.prototype.renderApiPanel=function(){var e=this.props.render,t=this.state,a=t.source,n=t.api,l=t.labelField,i=t.valueField;return"api"!==a?null:e("api",(0,m.getSchemaTpl)("apiControl",{label:"接口",name:"source",className:"ae-ExtendMore",visibleOn:"data.autoComplete !== false",value:n,onChange:this.handleAPIChange,footer:[{label:(0,h.tipedLabel)("显示字段","选项文本对应的数据字段，多字段合并请通过模板配置"),type:"input-text",name:"labelField",value:l,placeholder:"选项文本对应的字段",onChange:this.handleLableFieldChange},{label:"值字段",type:"input-text",name:"valueField",value:i,placeholder:"值对应的字段",onChange:this.handleValueFieldChange}]}))},t.prototype.render=function(){var e=this,t=this.state,a=t.options,i=t.source,r=this.props,s=(r.render,r.className),d=r.multiple;return l.default.createElement("div",{className:(0,o.default)("ae-OptionControl",s)},this.renderHeader(),"custom"===i?l.default.createElement("div",{className:"ae-OptionControl-wrapper"},Array.isArray(a)&&a.length?l.default.createElement("ul",{className:"ae-OptionControl-content",ref:this.dragRef},a.map((function(t,a){return e.renderOption(n.__assign(n.__assign({},t),{index:a,multipleProps:d}))}))):l.default.createElement("div",{className:"ae-OptionControl-placeholder"},"无选项"),l.default.createElement("div",{className:"ae-OptionControl-footer"},l.default.createElement(c.Button,{level:"enhance",onClick:this.handleAdd,ref:this.targetRef},"添加选项"),(0,c.render)(this.buildBatchAddSchema(),{onSubmit:this.handleBatchAdd}))):null,this.renderApiPanel())},n.__decorate([u.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"targetRef",null),n.__decorate([u.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"dragRef",null),n.__decorate([u.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",void 0)],t.prototype,"handleSourceChange",null),n.__decorate([u.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Number,String]),n.__metadata("design:returntype",void 0)],t.prototype,"handleEditLabel",null),n.__decorate([u.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleAdd",null),n.__decorate([u.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object,Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleBatchAdd",null),n.__decorate([u.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleAPIChange",null),n.__decorate([u.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",void 0)],t.prototype,"handleLableFieldChange",null),n.__decorate([u.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",void 0)],t.prototype,"handleValueFieldChange",null),t}(l.default.Component);t.default=f;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),n.__decorate([(0,c.FormItem)({type:"ae-optionControl",renderLabel:!1})],t)}(f);t.OptionControlRenderer=g},6662:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatusControlRenderer=t.StatusControl=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(9003)),o=a(1502),r=a(3570),s=function(e){function t(t){var a=e.call(this,t)||this;return a.state=a.initState(),a}return n.__extends(t,e),t.prototype.initState=function(){var e=this.props,t=e.data,a=void 0===t?{}:t,n=e.expressioName,l=e.name,i=e.trueValue;return{checked:a[l]==i||"string"==typeof a[n]}},t.prototype.shouldComponentUpdate=function(e,t){return t.checked!==this.state.checked},t.prototype.handleSwitch=function(e){var t=this,a=this.props,n=a.trueValue,l=a.falseValue;this.setState({checked:e==n},(function(){var a,i=t.props,o=i.onBulkChange,r=i.expressioName,s=i.name;o&&o(((a={})[s]=e==n?n:l,a[r]=void 0,a))}))},t.prototype.handleSubmit=function(e){var t=this.props,a=t.onBulkChange,n=t.name,l=t.expressioName;e[n]=e[n]?e[n]:void 0,e[l]=e[l]?e[l]:void 0,a&&a(e)},t.prototype.handleSelect=function(e){var t,a=this.props,n=a.onBulkChange,l=a.name,i=a.expressioName;n&&n(((t={})[e?i:l]=void 0,t[!e&&i||""]="",t))},t.prototype.render=function(){var e=this.props,t=e.className,a=(e.data,e.trueValue),n=e.falseValue,r=(e.env,this.state.checked);return l.default.createElement("div",{className:(0,i.default)("ae-StatusControl",t)},l.default.createElement("header",{className:(0,i.default)("ae-StatusControl-switch")},l.default.createElement("div",null,l.default.createElement(o.Switch,{className:"ae-BaseSwitch",size:"md",trueValue:a,falseValue:n,checked:r,onChange:this.handleSwitch}))),r?this.renderContent():null)},t.prototype.renderContent=function(){var e=this.props,t=e.render,a=e.label,i=(e.data,e.name),o=e.expressioName,r=e.options,s=e.children,d=e.messages;return l.default.createElement("div",{className:"ae-StatusControl-content"},t("status-control-form",{type:"form",title:"",panelClassName:"border-none shadow-none mb-0",bodyClassName:"p-none",actionsClassName:"border-none mt-2.5",wrapperComponent:"div",submitOnChange:!0,autoFocus:!0,formLazyChange:!0,footerWrapClassName:"hidden",preventEnterSubmit:!0,messages:d,mode:"horizontal",horizontal:{justify:!0,left:3},body:n.__spreadArray([{type:"select",label:"条件",name:i,value:"typeof this.".concat(o,' === "string" ? 2 : 1'),options:r||[{label:"静态",value:1},{label:"表达式",value:2}],pipeIn:function(e){return"boolean"==typeof e?1:2},pipeOut:function(e){return 1===e||""},onChange:this.handleSelect}],Array.isArray(s)?s:[s||{type:"ae-formulaControl",name:o,label:"表达式",placeholder:"请输入".concat(a,"条件"),visibleOn:"typeof this.".concat(i,' !== "boolean"')}],!0)},{onSubmit:this.handleSubmit}))},t.defaultProps={trueValue:!0,falseValue:!1},n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Boolean]),n.__metadata("design:returntype",void 0)],t.prototype,"handleSwitch",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleSubmit",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleSelect",null),t}(l.default.Component);t.StatusControl=s;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),n.__decorate([(0,o.FormItem)({type:"ae-statusControl"})],t)}(s);t.StatusControlRenderer=d},6994:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SwitchMoreRenderer=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(6405),o=n.__importDefault(a(9003)),r=a(1502),s=a(3570),d=a(6517),c=function(e){function t(t){var a=e.call(this,t)||this;return a.state=a.initState(),a}return n.__extends(t,e),t.prototype.initState=function(){var e=this.props,t=e.data,a=e.value,n=e.name,l=e.bulk,i=(e.hiddenOnDefault,!1),o=!1;if(n)i=!!a;else if(l){var r=this.getFormItemNames();o=i=(0,d.some)(r,(function(e){return void 0!==t[e]}))}else i=null!=a;return{checked:i,show:o}},t.prototype.getFormItemNames=function(){var e=this.props.form;return e&&Array.isArray(null==e?void 0:e.body)?e.body.map((function(e){return"string"==typeof e||null==e?void 0:e.name})).filter((function(e){return e})):[]},t.prototype.overlayRef=function(e){this.overlay=e?(0,i.findDOMNode)(e):null},t.prototype.openPopover=function(){this.setState({show:!0})},t.prototype.toogleExtend=function(){this.setState({show:!this.state.show})},t.prototype.closePopover=function(){this.setState({show:!1})},t.prototype.handleDelete=function(e){var t=this.props.onRemove;t&&t(e)},t.prototype.handleSwitchChange=function(e){var t=this.props,a=t.onBulkChange,l=t.onChange,i=t.bulk,o=t.defaultData,r=t.name;if(this.setState({checked:e}),i)if(e){var s=o?n.__assign({},o):{};r&&(s[r]=!0),a&&a(s)}else{var c=(0,d.fromPairs)(this.getFormItemNames().map((function(e){return[e,void 0]})));r&&(c[r]=!1),a&&a(c)}else l(e?o||!0:void 0)},t.prototype.handleSubmit=function(e){var t=this.props,a=t.onChange,n=t.onBulkChange;t.bulk?n&&n(e):a&&a(e)},t.prototype.handleAction=function(e,t,a,n,l){void 0===n&&(n=!1);var i=this.props.onClose;"close"===t.actionType&&(this.setState({show:!1}),i&&i(e))},t.prototype.renderActions=function(){var e=this.props,t=e.render,a=e.removable,n=e.disabled,i=e.form,o=e.formType,s=e.hiddenOnDefault,d=e.bulk,c=this.state,p=c.checked,u=c.show;if(!i||!p||n)return null;var m=[];return"dialog"===o?m.push(t("switch-more-form",this.renderDialogMore(),{key:"edit",onSubmit:this.handleSubmit})):"pop"===o?m.push(l.default.createElement(r.Button,{key:"edit",level:"link",size:"sm",className:"action-btn",ref:this.overlayRef,onClick:this.openPopover},l.default.createElement(r.Icon,{icon:"pencil",className:"icon"}))):d&&s&&"extend"===o&&m.push(l.default.createElement("div",{key:"open","data-tooltip":u?void 0:"展开更多","data-position":"bottom"},l.default.createElement(r.Button,{level:"link",size:"sm",className:"action-btn open-btn"+(u?" opening":""),onClick:this.toogleExtend},l.default.createElement(r.Icon,{icon:"caret",className:"icon"})))),a&&m.push(l.default.createElement(r.Button,{key:"remove",level:"link",size:"sm",onClick:this.handleDelete},l.default.createElement(r.Icon,{icon:"delete-btn",className:"icon ae-SwitchMore-icon"}))),m},t.prototype.renderPopover=function(){var e=this.props,t=e.render,a=e.popOverclassName,n=e.overlay,i=e.offset,s=e.target,d=e.container,c=e.placement,p=e.rootClose,u=e.style,m=e.title;return l.default.createElement(r.Overlay,{show:!0,rootClose:p,placement:c,target:s||this.overlay,container:d},l.default.createElement(r.PopOver,{className:(0,o.default)("ae-SwitchMore-popover",a),placement:c,overlay:n,offset:i,style:u},l.default.createElement("header",null,l.default.createElement("p",{className:"ae-SwitchMore-title"},m||"更多配置"),l.default.createElement("a",{onClick:this.closePopover,className:"ae-SwitchMore-close"},l.default.createElement(r.Icon,{icon:"close",className:"icon"}))),t("switch-more-form",this.renderForm(),{onSubmit:this.handleSubmit})))},t.prototype.renderExtend=function(){var e=this.props,t=e.render,a=(e.form,e.bulk,e.hiddenOnDefault),n=this.state.show;return a&&!n?null:l.default.createElement("div",null,l.default.createElement("div",{className:(0,o.default)("ae-SwitchMore-content","inFormItem")},t("switch-more-form",this.renderForm(),{onSubmit:this.handleSubmit})))},t.prototype.renderDialogMore=function(){return{type:"input-sub-form",btnLabel:"",className:"inline-block m-0 h-6",itemClassName:"bg-white hover:bg-white m-0 p-0",icon:"fa fa-cog",form:n.__assign({title:this.props.label},this.renderForm())}},t.prototype.renderForm=function(){var e,t=this.props,a=t.form,l=t.name,i=t.formType,o=t.data,r=t.bulk,s=t.defaultData,d=t.autoFocus;return n.__assign({type:"form",wrapWithPanel:!1,panelClassName:"border-none shadow-none mb-0",bodyClassName:"p-none",actionsClassName:"border-none mt-2.5",wrapperComponent:"div",mode:"horizontal",horizontal:{justify:!0,left:4},autoFocus:d,formLazyChange:!0,preventEnterSubmit:!0,submitOnChange:["pop","extend"].includes(i),data:o&&l&&!r?null!==(e=o[l])&&void 0!==e?e:s:null!=s?s:{}},a)},t.prototype.renderMoreSection=function(){var e=this.props.formType,t=this.state,a=t.show;return t.checked?"pop"===e?a?this.renderPopover():null:"extend"===e?this.renderExtend():null:null},t.prototype.render=function(){var e,t=this.props,a=t.render,n=t.disabled,i=t.className,s=t.body,d=t.env,c=t.hidden,p=t.formType,u=t.onText,m=t.offText;if(c)return null;var h=this.state,f=(h.show,h.checked),g=this.renderActions();return null===(e=null==d?void 0:d.theme)||void 0===e||e.classPrefix,l.default.createElement("div",{className:(0,o.default)("ae-SwitchMore","ae-SwitchMore-"+p,i)},l.default.createElement("div",{className:(0,o.default)("ae-SwitchMore-switch")},s?a("body",s):null,g&&g.length?l.default.createElement("div",{className:"ae-SwitchMore-actions"},g,f?l.default.createElement("hr",null):null):null,l.default.createElement(r.Switch,{value:f,onChange:this.handleSwitchChange,disabled:n,onText:u,offText:m})),this.renderMoreSection())},t.defaultProps={container:document.body,autoFocus:!0,overlay:!0,rootClose:!1,trueValue:!0,falseValue:!1,formType:"pop",bulk:!0},n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"overlayRef",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"openPopover",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"toogleExtend",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"closePopover",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleDelete",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Boolean]),n.__metadata("design:returntype",void 0)],t.prototype,"handleSwitchChange",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleSubmit",null),n.__decorate([s.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object,Object,Object,Boolean,Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleAction",null),t}(l.default.Component);t.default=c;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),n.__decorate([(0,r.FormItem)({type:"ae-switch-more"})],t)}(c);t.SwitchMoreRenderer=p},397:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationControlRenderer=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(8492)),o=n.__importDefault(a(4560)),r=n.__importDefault(a(9003)),s=a(1502),d=a(3570),c=n.__importDefault(a(1149)),p=a(6294),u=function(e){function t(t){var a=e.call(this,t)||this;return a.state={avaliableValids:a.getAvaliableValids(t)},a}return n.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){if(this.props.data.type!==e.data.type){this.setState({avaliableValids:this.getAvaliableValids(e)});var t=this.transformValid(this.props.data);this.updateValidation(t)}},t.prototype.getAvaliableValids=function(e){var t=e.data,a=e.tag;return a="string"==typeof a?a:a(t),(0,p.getValidatorsByTag)(a)},t.prototype.transformValid=function(e){var t=e.required,a=e.validations,n=e.validationErrors,l=[];return t&&l.push({name:"required",value:!0,message:null==n?void 0:n.required}),a&&Object.keys(a).forEach((function(e){l.push({name:e,value:a[e],message:null==n?void 0:n[e]})})),l},t.prototype.updateValidation=function(e){var t=this.props.onBulkChange;if(e.length){var a=void 0,n={},l={};e.forEach((function(e){var t=e.name,i=e.value,o=e.message;"required"!==t?null!=i&&(n[t]=i,o&&(l[t]=o)):a=i})),t&&t({required:a,validations:Object.keys(n).length?n:void 0,validationErrors:Object.keys(l).length?l:void 0})}else t&&t({required:void 0,validations:void 0,validationErrors:void 0})},t.prototype.handleAddValidator=function(e){var t=this.transformValid(this.props.data);t.push({name:e.name,value:!e.schema||"",message:""}),this.updateValidation(t)},t.prototype.handleEditRule=function(e){var t=this.transformValid(this.props.data),a=t.find((function(t){return t.name===e.name}));a?(a.value=e.value,a.message=e.message):t.push(e),this.updateValidation(t)},t.prototype.handleRemoveRule=function(e){var t=this.transformValid(this.props.data);(0,o.default)(t,(function(t){return t.name===e})),this.updateValidation(t)},t.prototype.handleSwitchRule=function(e,t){var a=this.transformValid(this.props.data),n=a.find((function(e){return e.name===t.name}));n||(n={name:t.name},a.push(n)),n.value=e?t.value:void 0,n.message=e?t.message:void 0,this.updateValidation(a)},t.prototype.renderDropdown=function(){var e=this,t=this.props,a=t.render,n=t.validations,o=void 0===n?{}:n,r=this.state.avaliableValids.moreValidators,s=Object.values(r).filter((function(e){return!o.hasOwnProperty(e.name)})),d=Object.entries((0,i.default)(s,"group")).map((function(t){return{label:t[0],children:t[1].map((function(t){return{label:t.label,onClick:function(){return e.handleAddValidator(t)}}}))}}));return l.default.createElement("div",{className:"ae-ValidationControl-dropdown"},a("validation-control-dropdown",{type:"dropdown-button",btnClassName:"ae-ValidationControl-dropdown-btn",menuClassName:"ae-ValidationControl-dropdown-menu",level:"link",size:"md",icon:"fa fa-plus",label:"",tooltip:"添加校验规则",placement:"top",align:"right",tooltipTrigger:"hover",closeOnClick:!0,closeOnOutside:!0,hideCaret:!0,disabled:0===d.length,buttons:d},{key:"validation-control-dropdown",popOverContainer:null}))},t.prototype.renderValidaton=function(){var e,t,a,n=this,i=null===(a=null===(t=null===(e=this.props)||void 0===e?void 0:e.env)||void 0===t?void 0:t.theme)||void 0===a?void 0:a.classPrefix,r=this.state.avaliableValids,s=r.defaultValidators,d=r.moreValidators,u=r.builtInValidators,m=this.transformValid(this.props.data),h=[];return m=m.concat(),Object.keys(s).forEach((function(e){var t=(0,o.default)(m,(function(t){return t.name===e}));h.push(l.default.createElement(c.default,{key:e,validator:s[e],data:t.length?t[0]:{name:e},classPrefix:i,isDefault:s.hasOwnProperty(e),onEdit:n.handleEditRule,onDelete:n.handleRemoveRule,onSwitch:n.handleSwitchRule}))})),Object.keys(u).forEach((function(e){var t=(0,o.default)(m,(function(t){return t.name===e}));h.push(l.default.createElement(c.default,{key:e,validator:u[e],data:t.length?t[0]:{name:e,value:!0,isBuiltIn:!0},classPrefix:i,isDefault:u.hasOwnProperty(e),onEdit:n.handleEditRule,onDelete:n.handleRemoveRule,onSwitch:n.handleSwitchRule}))})),m.length&&m.forEach((function(e){var t=d[e.name]||(0,p.getValidator)(e.name);t&&h.push(l.default.createElement(c.default,{key:e.name,data:e,classPrefix:i,validator:t,isDefault:s.hasOwnProperty(e.name),onEdit:n.handleEditRule,onDelete:n.handleRemoveRule,onSwitch:n.handleSwitchRule}))})),l.default.createElement("div",{className:"ae-ValidationControl-rules",key:"rules"},h)},t.prototype.render=function(){var e=this.props.className;return l.default.createElement("div",{className:(0,r.default)("ae-ValidationControl",e),key:"validation-control"},this.renderDropdown(),this.renderValidaton())},n.__decorate([d.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleEditRule",null),n.__decorate([d.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",void 0)],t.prototype,"handleRemoveRule",null),n.__decorate([d.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Boolean,Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleSwitchRule",null),t}(l.default.Component);t.default=u;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),n.__decorate([(0,s.FormItem)({type:"ae-validationControl",renderLabel:!1})],t)}(u);t.ValidationControlRenderer=m},1149:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(9003)),o=a(1502),r=a(3570),s=a(2759),d=function(e){function t(t){var a=e.call(this,t)||this,n=a.props.data;return a.validator=a.props.validator,a.state={value:null==n?void 0:n.value,checked:null!=n.value,message:(null==n?void 0:n.message)||"",isBuiltIn:null==n?void 0:n.isBuiltIn},a}return n.__extends(t,e),t.prototype.handleEdit=function(e,t){var a=this.props,l=a.onEdit,i=a.data;"submit"===(null==t?void 0:t.type)&&l&&l(n.__assign({name:i.name},e))},t.prototype.handleDelete=function(){var e=this.props,t=e.onDelete,a=e.data;t&&t(a.name)},t.prototype.handleSwitch=function(e){var t=this.props,a=t.onSwitch,n=t.data,l=this.state,i=l.value;l.message,this.setState({checked:e}),e&&(n.value=!this.validator.schema||i,n.message=""),a&&a(e,n)},t.prototype.renderActions=function(){var e=[];return this.props.isDefault||e.push(l.default.createElement(o.Button,{className:"ae-ValidationControl-item-action",level:"link",size:"md",key:"delete",onClick:this.handleDelete},l.default.createElement("i",{className:"fa fa-trash"}))),0!==e.length?l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:"ae-ValidationControl-item-actions"},e)):null},t.prototype.renderInputControl=function(){var e=this.state,t=e.value,a=e.message,n=[];return e.checked?(this.validator.schema&&(n=n.concat(this.validator.schema)),this.validator.message&&n.push({name:"message",type:"input-text",label:(0,s.tipedLabel)("错误提示","系统默认提示：".concat(this.validator.message)),placeholder:"默认使用系统定义提示"}),0!==n.length?l.default.createElement("section",{className:(0,i.default)("ae-ValidationControl-item-input","ae-ExtendMore")},(0,o.render)({type:"form",className:"w-full",wrapWithPanel:!1,panelClassName:"border-none shadow-none mb-0",bodyClassName:"p-none",actionsClassName:"border-none mt-2.5",wrapperComponent:"div",mode:"horizontal",horizontal:{justify:!0,left:4,right:8},preventEnterSubmit:!0,submitOnChange:!0,body:n,data:{value:t,message:a}},{onSubmit:this.handleEdit})):null):null},t.prototype.render=function(){var e=this.props,t=e.classPrefix,a=e.data,n=(e.isDefault,this.state),r=n.checked,s=n.isBuiltIn;return l.default.createElement("div",{className:(0,i.default)("ae-ValidationControl-item",{"is-active":r}),key:a.name},l.default.createElement("section",{className:(0,i.default)("ae-ValidationControl-item-control",{"is-active":r&&"required"!==a.name})},l.default.createElement("label",{className:(0,i.default)("".concat(t,"Form-label"))},this.validator.label),l.default.createElement("div",null,this.renderActions(),l.default.createElement(o.Switch,{key:"switch",value:r,disabled:s,onChange:this.handleSwitch}))),this.renderInputControl())},n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object,Object]),n.__metadata("design:returntype",void 0)],t.prototype,"handleEdit",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[]),n.__metadata("design:returntype",void 0)],t.prototype,"handleDelete",null),n.__decorate([r.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Boolean]),n.__metadata("design:returntype",void 0)],t.prototype,"handleSwitch",null),t}(l.default.Component);t.default=d},6414:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundRenderer=void 0;var n=a(752),l=(n.__importDefault(a(2167)),n.__importDefault(a(9003))),i=n.__importDefault(a(4159)),o=n.__importDefault(a(3901)),r=n.__importStar(a(6689)),s=a(1502),d=a(9547),c=function(e){var t,a=(0,r.useState)(0),c=a[0],p=a[1];function u(t){return function(a){var l,r,s,d,c=null!==a&&"object"==typeof a?"object"==typeof a.target?a.target.value:a.value:a,p=e.value,u=e.onChange,m=n.__assign(n.__assign({},p),((l={})[t]=c,l));if("alpha"===t&&(m.backgroundColor=null===(r=m.backgroundColor)||void 0===r?void 0:r.replace(/,\s(1|0){1}.?[0-9]*\)$/g,", ".concat(a/100,")"))),"backgroundPosition"===t&&(m.backgroundPosition=a.target.getAttribute("data-pos")),"backgroundSize"===t){var h=null!=c?c:"",f=h.split(" ");f.length>1?(m.backgroundSize=f[0],m.backgroundRepeat=f[1]):(m.backgroundSize=h,m.backgroundRepeat="no-repeat")}if("angle"===t){var g=-1!==(b=null!==(s=m.backgroundImage)&&void 0!==s?s:"").indexOf("linear-gradient")?b:"linear-gradient(180deg, transparent, transparent)";m.backgroundImage=g.replace(/linear-gradient\(\d{1,3}/g,"linear-gradient(".concat(c))}if("gradientPrev"===t||"gradientNext"===t){var b,v=(g=-1!==(b=null!==(d=m.backgroundImage)&&void 0!==d?d:"").indexOf("linear-gradient")?b:"linear-gradient(180deg, transparent, transparent)").split(", "),y=v.length;if("gradientPrev"===t)if(3===y)v[1]=c;else if(5===y||6===y){for(var _=0,S=0,C=0;C<y;C++)-1!==v[C].indexOf("rgb")&&(_=C),-1!==v[C].indexOf(")")&&0===S&&(S=C);S===y-1?v.splice(1,1,c):v.splice(_,S+1,c)}else if(y>=7)for(C=0;C<y;C++)if(-1!==v[C].indexOf(")")){v.splice(1,C,c);break}if("gradientNext"===t)if(3===y)v[2]=c+")";else if(5===y||6===y){for(_=0,S=0,C=0;C<y;C++)-1!==v[C].indexOf("rgb")&&(_=C),-1!==v[C].indexOf(")")&&0===S&&(S=C);S===y-1?v.splice(_,S+1,c+")"):v.splice(-1,1,c+")")}else if(y>=7){var x=0;for(C=0;C<y;C++)if(-1!==v[C].indexOf("rgb")&&2==++x){v.splice(C,y-C+1,c);break}}m.backgroundImage=v.join(", "),m=(0,i.default)(m,"backgroundImage")}"alpha"!==t&&"backgroundColor"!==t||(m=(0,i.default)(m,"backgroundColor")),"backgroundImage"!==t&&"backgroundPosition"!==t&&"backgroundSize"!==t||(m=/linear-gradient/g.test(null==m?void 0:m.backgroundImage)?(0,i.default)(m,"backgroundPosition","backgroundSize","backgroundRepeat"):(0,i.default)(m,"backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat")),u(n.__assign(n.__assign({},(0,o.default)(p,["backgroundColor","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","angle","gradientNext","gradientPrev"])),m))}}function m(t){var a,n=null===(a=e.value)||void 0===a?void 0:a.backgroundImage,l="",i="";if(/linear-gradient/g.test(n)){var o=n.split(", "),r=o.length;if(3===r)l=o[1],i=o[2].slice(0,-1);else if(5===r||6===r)for(var s=0,d=0,c=0;c<r;c++)-1!==o[c].indexOf("rgb")&&(s=c),-1!==o[c].indexOf(")")&&0===d&&(d=c,c!==r-1?(l=o.slice(s,c+1).join(", "),i=o.slice(c+1).join("").slice(0,-1)):(l=o.slice(1,s).join(""),i=o.slice(s,r-1).join(", ")));else if(r>=7){var p=0,u=0,m=0,h=0;for(c=0;c<r;c++)-1!==o[c].indexOf("rgb")&&(0===p?p=c:0===m&&(m=c)),-1!==o[c].indexOf(")")&&(0===u?u=c:0===h&&(h=c));l=o.slice(p,u+1).join(", "),i=o.slice(m,h).join(", ")}n.split("")}var f="prev"===t?l:i;return"transparent"===f?"":f}return(0,r.useEffect)((function(){var t;(null==(t=e.value)?void 0:t.backgroundColor)||(null==t?void 0:t.alpha)?p(0):(null==t?void 0:t.backgroundImage)?/linear-gradient/g.test(t.backgroundImage)?p(1):p(2):(null==t?void 0:t.backgroundPosition)||(null==t?void 0:t.backgroundSize)?p(2):p(3)}),[]),r.default.createElement("div",{className:"ae-Background"},r.default.createElement("div",{className:"ae-Background_tabs"},r.default.createElement("ul",{className:"ae-Background_tabs-nav"},["pure","gradient","image","noset"].map((function(t,a){return r.default.createElement("li",{key:a,className:(0,l.default)(t,{active:c===a}),onClick:function(){return function(t){var a;3===t&&(a=e.value,(0,e.onChange)(n.__assign(n.__assign({},a),{backgroundSize:"",backgroundPosition:"",backgroundColor:"",backgroundImage:""}))),p(t)}(a)}})}))),r.default.createElement("div",{className:"ae-Background_tabs-content"},0===c&&r.default.createElement("div",{className:"ae-Background_setting"},(0,s.render)({type:"input-color",label:"背景色",format:"rgba",mode:"normal",value:null===(t=e.value)||void 0===t?void 0:t.backgroundColor},{onChange:u("backgroundColor")})),1===c&&r.default.createElement("div",{className:"ae-Background_setting"},r.default.createElement("div",{className:"ae-Background_setting-item"},r.default.createElement("div",{className:"ae-Background_setting-item_color"},(0,s.render)({type:"input-color",label:"开始颜色",clearable:!1,placeholder:"起始色",inputClassName:"ae-Background-colorpicker",value:m("prev")},{onChange:u("gradientPrev")})),r.default.createElement("div",{className:"ae-Background_setting-item_pic"}),r.default.createElement("div",{className:"ae-Background_setting-item_color"},(0,s.render)({type:"input-color",label:"结束颜色",clearable:!1,placeholder:"结束色",inputClassName:"ae-Background-colorpicker",value:m("next")},{onChange:u("gradientNext")}))),r.default.createElement("div",{className:"ae-Background_setting-item"},(0,s.render)({type:"input-number",label:"渐变角度",mode:"row",step:10,min:0,max:360,value:function(){var t,a=null===(t=e.value)||void 0===t?void 0:t.backgroundImage,n=180,l=/linear-gradient\((\d{1,3})/.exec(String(a||""));return l&&(n=+l[1]),+n}(),description:"* 角度范围0-360度，0度表示从下至上渐变"},{onChange:u("angle")}))),2===c&&r.default.createElement("div",{className:"ae-Background_setting"},(0,s.render)({type:"group",mode:"horizontal",body:[(0,d.getSchemaTpl)("backgroundImageUrl",{name:"backgroundImage",placeholder:"点击或拖拽图片上传",fixedSize:!0,value:function(){var t,a,n=null===(a=null===(t=e.data)||void 0===t?void 0:t.style)||void 0===a?void 0:a.backgroundImage;return/linear-gradient/g.test(n)?"":n}(),onChange:u("backgroundImage"),fixedSizeClassName:"ae-Background-upload",accept:".jpg,.png,.svg,.gif",crop:!0,columnRatio:6,horizontal:{left:4,right:8}}),{type:"",label:"图片位置",name:"backgroundPosition",asFormItem:!0,columnRatio:6,horizontal:{left:4,right:8},children:function(){return r.default.createElement("ul",{className:"ae-Background_setting—pos"},["0 0","50% 0","100% 0","0 50%","50% 50%","100% 50%","0 100%","50% 100%","100% 100%"].map((function(t){var a;return r.default.createElement("li",{key:t,"data-pos":t,className:(0,l.default)("ae-Background_setting—pos_item",{active:t===(null===(a=e.value)||void 0===a?void 0:a.backgroundPosition)}),onClick:u("backgroundPosition")})})))}}]}),(0,s.render)({type:"select",label:"图片尺寸",name:"backgroundSize",mode:"horizontal",placeholder:"图片尺寸",value:function(){var t,a,n=null===(t=e.value)||void 0===t?void 0:t.backgroundSize,l=null===(a=e.value)||void 0===a?void 0:a.backgroundRepeat,i=n||"";return"auto"===n&&l&&(i=n+" "+l),i}(),options:[{label:"充满",value:"cover"},{label:"合适",value:"contain"},{label:"拉伸",value:"100%"},{label:"平铺",value:"auto repeat"},{label:"横向平铺",value:"auto repeat-x"},{label:"纵向平铺",value:"auto repeat-y"},{label:"原始尺寸",value:"auto no-repeat"}]},{onChange:u("backgroundSize")})),3===c&&r.default.createElement("div",{className:"ae-Background_setting noset"}))))};t.default=c;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){return r.default.createElement(c,n.__assign({},this.props))},n.__decorate([(0,s.FormItem)({type:"style-background"})],t)}(r.default.Component);t.BackgroundRenderer=p},7409:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BorderRenderer=void 0;var n=a(752),l=n.__importDefault(a(9003)),i=n.__importStar(a(6689)),o=n.__importDefault(a(6897)),r=a(2062),s=a(1502),d=[{item:"left",tip:"左边框",content:"┣"},{item:"top",tip:"上边框",content:"┳"},{item:"right",tip:"右边框",content:"┫"},{item:"bottom",tip:"下边框",content:"┻"},{item:"all",tip:"全部",content:"╋"}],c=[{item:"top-left",tip:"左上角",content:"┏"},{item:"top-right",tip:"右上角",content:"┓"},{item:"bottom-left",tip:"左下角",content:"┗"},{item:"bottom-right",tip:"右下角",content:"┛"},{item:"all",tip:"全部",content:"╋"}];function p(e){var t=e.disableBorder,a=void 0!==t&&t,r=e.disableRadius,p=void 0!==r&&r,u=e.onChange,m=e.value,h=void 0===m?{}:m,f=(0,i.useState)("all"),g=f[0],b=f[1],v=(0,i.useState)("all"),y=v[0],_=v[1];function S(e,t){var a="radius"===t?y:g;return"all"===a?"radius"===t?(0,o.default)("".concat(e,"-top-left-").concat(t)):(0,o.default)("".concat(e,"-left-").concat(t)):(0,o.default)("".concat(e,"-").concat(a,"-").concat(t))}function C(e,t){return function(a){var l,i=(null==a?void 0:a.value)||a,r=S(e,t),s="radius"===t;if("all"===(s?y:g)){var p={};(s?c:d).filter((function(e){return"all"!==(null==e?void 0:e.item)})).forEach((function(a){var n=(0,o.default)("".concat(e,"-").concat(a.item,"-").concat(t));p[n]=i})),u(n.__assign(n.__assign({},h),p))}else u(n.__assign(n.__assign({},h),((l={})[r]=i,l)))}}return i.default.createElement("div",{className:"p-2 ae-border"},!a&&i.default.createElement("div",{className:"ae-border-wrap flex flex-top mb-2"},i.default.createElement("div",{className:"ae-border-items"},d.map((function(e){var t=(0,o.default)("border-".concat(e.item));return i.default.createElement("div",{key:t,className:(0,l.default)("ae-border-item ".concat(e.item),{active:g===e.item}),onClick:function(){return b(e.item)}},i.default.createElement("span",{"data-tooltip":e.tip,"data-position":"top"},e.content))}))),i.default.createElement("div",{className:"ae-border-settings"},i.default.createElement("div",{className:"flex items-center"},i.default.createElement("label",null,"线形"),i.default.createElement(s.Select,{className:"ae-border-input",placeholder:"边框线型",onChange:C("border","style"),value:h[S("border","style")],options:[{label:"无",value:"none"},{label:"实线",value:"solid"},{label:"点线",value:"dotted"},{label:"虚线",value:"dashed"}]})),i.default.createElement("div",{className:"flex items-center"},i.default.createElement("label",null,"线宽"),i.default.createElement(s.NumberInput,{placeholder:"边框宽度",value:h[S("border","width")],step:1,min:0,onChange:C("border","width")})),i.default.createElement("div",{className:"flex items-center"},i.default.createElement("label",null,"颜色"),(0,s.render)({type:"input-color",placeholder:"边框颜色",clearable:!0,value:h[S("border","color")],inputClassName:"ae-border-colorpicker"},{onChange:C("border","color")})))),!p&&i.default.createElement("div",{className:"ae-border-wrap ae-border-radius flex items-center"},i.default.createElement("div",{className:"ae-border-items"},c.map((function(e){var t=(0,o.default)("border-".concat(e.item));return i.default.createElement("div",{key:t,className:(0,l.default)("ae-border-item ".concat(e.item),{active:y===e.item}),onClick:function(){return _(e.item)}},i.default.createElement("span",{"data-tooltip":e.tip,"data-position":"top"},e.content))}))),i.default.createElement("div",{className:"ae-border-settings"},i.default.createElement("div",{className:"flex items-center"},i.default.createElement("label",null,"圆角"),i.default.createElement(s.NumberInput,{placeholder:"圆角尺寸",value:h[S("border","radius")],step:1,min:0,onChange:C("border","radius")})))))}t.default=(0,r.observer)(p);var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){return i.default.createElement(p,n.__assign({},this.props))},n.__decorate([(0,s.FormItem)({type:"style-border",renderLabel:!1})],t)}(i.default.Component);t.BorderRenderer=u},1814:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BoxModelRenderer=void 0;var n=a(752),l=n.__importDefault(a(9003)),i=n.__importDefault(a(6689)),o=a(2062),r=n.__importDefault(a(6897)),s=a(1502),d=a(3570);function c(e){var t=e.value,a=e.onChange,o=["left","right","top","bottom"];function s(e){return i.default.createElement(i.default.Fragment,null,o.map((function(l){var o,s=(0,r.default)("".concat(e,"-").concat(l));return i.default.createElement("input",{key:s,placeholder:"0",className:"ae-BoxModel-input ".concat(l),type:"text",onChange:(o=s,function(e){var l,i,r=e.target.value;r?((0,d.isNumeric)(r)||/^(-?(\d*\.)?\d+)((px)|(em)|(%)|(ex)|(ch)|(rem)|(vw)|(vh)|(vmin)|(vmax)|(cm)|(mm)|(in)|(pt)|(pc))$/.test(r))&&a(n.__assign(n.__assign({},t),((i={})[o]=r,i))):a(n.__assign(n.__assign({},t),((l={})[o]=void 0,l)))}),value:(null==t?void 0:t[s])||""})})),i.default.createElement("div",{className:"ae-BoxModel-title"},e.toUpperCase()),["lt","lb","rt","rb"].map((function(e){return i.default.createElement("div",{key:e,className:(0,l.default)("ae-BoxModel-line",e)})})))}return i.default.createElement("div",{className:"mx-2 ae-BoxModel"},i.default.createElement("div",{className:"ae-BoxModel-inner"},i.default.createElement("div",{className:"ae-BoxModel"},i.default.createElement("div",{className:"ae-BoxModel-inner"}),s("padding"))),s("margin"))}t.default=(0,o.observer)(c);var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){return i.default.createElement(c,n.__assign({},this.props))},n.__decorate([(0,s.FormItem)({type:"style-box-model"})],t)}(i.default.Component);t.BoxModelRenderer=p},9635:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BoxShadowRenderer=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(9941)),o=a(1502),r=a(5617);function s(e){var t=e.value,a=void 0===t?"":t,s=e.onChange,d=(0,i.default)((0,r.parseBoxShadow)("string"!=typeof a?"":a),(function(e,t,a){return"color"===t||"inset"===t?e:{length:e,unit:"px"}}));return l.default.createElement(l.default.Fragment,null,(0,o.render)({type:"form",wrapWithPanel:!1,panelClassName:"border-none shadow-none mb-0",bodyClassName:"p-none",actionsClassName:"border-none mt-2.5",wrapperComponent:"div",formLazyChange:!0,preventEnterSubmit:!0,submitOnChange:!0,body:n.__spreadArray(n.__spreadArray([],[{name:"X轴偏移量",field:"x"},{name:"Y轴偏移量",field:"y"},{name:"模糊半径",field:"blur"},{name:"扩散半径",field:"spread"}].map((function(e){return{type:"combo",name:e.field,label:e.name,formClassName:"ae-BoxShadow-group",items:[{type:"input-range",label:!1,name:"length",max:120,min:0,step:1},{type:"select",label:!1,name:"unit",columnClassName:"ae-BoxShadow-unit",size:"xs",options:["px"]}]}})),!0),[{type:"switch",name:"inset",label:"内阴影",mode:"row",inputClassName:"inline-flex justify-between flex-row-reverse"},{type:"input-color",name:"color",label:"阴影颜色",placeholder:"设置阴影颜色",mode:"row"}],!1)},{data:d,onSubmit:function(e,t){null==s||s((0,r.normalizeBoxShadow)(e).boxShadow)}}))}t.default=s;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){return l.default.createElement(s,n.__assign({},this.props))},n.__decorate([(0,o.FormItem)({type:"style-box-shadow"})],t)}(l.default.Component);t.BoxShadowRenderer=d},6537:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(4159)),o=n.__importDefault(a(9941)),r=a(1502),s=a(3570),d=function(e){var t=e.onChange,a=e.value,d={type:"html",html:"<span>${label}</span><code class='ae-Code'>${value}</code>",className:"ae-selection-code"},c=(0,i.default)((0,s.isObject)(a)?a:{},["display","flexWrap","flexDirection","justifyContent","alignItems"]);return c.display||(c.display="default"),l.default.createElement(l.default.Fragment,null,(0,r.render)({type:"form",wrapWithPanel:!1,panelClassName:"border-none shadow-none mb-0",bodyClassName:"p-none",actionsClassName:"border-none mt-2.5",wrapperComponent:"div",formLazyChange:!0,preventEnterSubmit:!0,submitOnChange:!0,body:[{label:"显示类型",name:"display",type:"select",mode:"row",menuTpl:d,options:[{label:"默认",value:"default"},{label:"区块",icon:"display-block",value:"block"},{label:"行内区块",icon:"display-inline-block",value:"inline-block"},{label:"行内元素",icon:"display-inline",value:"inline"},{label:"弹性布局",icon:"display-flex",value:"flex"}]},{type:"wrapper",visibleOn:"this.display === 'flex'",className:"ae-Display-group",body:[{type:"tpl",tpl:"弹性布局配置",className:"text-base font-bold mb-1"},{label:"自动换行",name:"flexWrap",type:"switch",trueValue:"wrap",falseValue:"nowrap",mode:"row",inputClassName:"inline-flex justify-between flex-row-reverse",clearValueOnHidden:!0},{label:"主轴方向",name:"flexDirection",type:"select",clearValueOnHidden:!0,menuTpl:d,options:[{label:"默认水平",value:"row",icon:"drow"},{label:"默认垂直",value:"column",icon:"dcolumn"},{label:"水平反向",value:"row-reverse",icon:"drowReverse"},{label:"垂直反向",value:"column-reverse",icon:"dcolumnReverse"}]},{label:"主轴对齐方式",type:"select",name:"justifyContent",clearValueOnHidden:!0,menuTpl:d,options:[{label:"起始端对齐",value:"flex-start"},{label:"居中对齐",value:"center"},{label:"末尾端对齐",value:"flex-end"},{label:"首尾留空",value:"space-around"},{label:"首尾对齐",value:"space-between"},{label:"元素等间距",value:"space-evenly"},{label:"自动拉伸",value:"stretch"}]},{label:"交叉轴对齐方式",type:"select",name:"alignItems",clearValueOnHidden:!0,menuTpl:d,options:[{label:"起始端对齐",value:"flex-start"},{label:"居中对齐",value:"center"},{label:"末尾端对齐",value:"flex-end"},{label:"基线对齐",value:"baseline"},{label:"自动拉伸",value:"stretch"}]}]}]},{data:c,onSubmit:function(e,l){var i="flex"===e.display?e:(0,o.default)(c,(function(t,a){return"display"!==a||"display"===a&&"default"===e[a]?void 0:e[a]}));null==t||t(n.__assign(n.__assign({},a),i))}}))},c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){return l.default.createElement(d,n.__assign({},this.props))},n.__decorate([(0,r.FormItem)({type:"style-display"})],t)}(l.default.Component);t.default=c},2469:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontRenderer=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(4159)),o=n.__importDefault(a(9941)),r=a(1502),s=a(9914),d=a(3570),c=a(1502),p=function(e){var t,a,c,p,u,m=e.value,h=e.onChange,f=["color","fontFamily","fontSize","fontWeight","fontStyle","textAlign","letterSpacing","lineHeight"],g=(0,d.isObject)(m)?n.__assign(n.__assign({},(0,i.default)(m,f)),{underline:~(null!==(t=null==m?void 0:m.textDecoration)&&void 0!==t?t:"").indexOf("underline")?"underline":void 0,lineThrough:~(null!==(a=null==m?void 0:m.textDecoration)&&void 0!==a?a:"").indexOf("line-through")?"line-through":void 0}):{};return l.default.createElement(l.default.Fragment,null,(0,r.render)({type:"form",wrapWithPanel:!1,panelClassName:"border-none shadow-none mb-0",bodyClassName:"p-none",actionsClassName:"border-none mt-2.5",wrapperComponent:"div",preventEnterSubmit:!0,submitOnChange:!0,body:[{name:"fontFamily",label:"字体类型",type:"select",mode:"row",size:"md",placeholder:"请选择字体",menuTpl:'<div style="font-family: ${value};">${label}</div>',options:s.fontFamilyList,clearable:!1,value:null!==(c=null==m?void 0:m.fontFamily)&&void 0!==c?c:""},{name:"color",label:"字体颜色",type:"input-color",mode:"row",size:"md",value:null!==(p=null==m?void 0:m.color)&&void 0!==p?p:""},{name:"fontSize",label:"字体大小",type:"input-range",max:100,min:12,step:1,clearable:!1,value:null!==(u=null==m?void 0:m.fontSize)&&void 0!==u?u:12},{type:"input-group",name:"input-group",label:"文字样式",mode:"row",body:[{type:"button-group-select",name:"fontWeight",clearable:!0,label:!1,options:[{label:"",value:"bold",icon:"fa fa-bold",className:"ae-Font-group-lhs ae-Font-relative-left"}]},{type:"button-group-select",name:"fontStyle",clearable:!0,label:!1,options:[{label:"",value:"italic",icon:"fa fa-italic",className:"ae-Font-group-middle"}]},{type:"button-group-select",name:"underline",clearable:!0,label:!1,options:[{label:"",value:"underline",icon:"fa fa-underline",className:"ae-Font-group-middle ae-Font-relative-right"}]},{type:"button-group-select",name:"lineThrough",clearable:!0,label:!1,options:[{label:"",value:"line-through",icon:"fa fa-strikethrough",className:"ae-Font-group-rhs ae-Font-relative-right-2"}]}]},{name:"textAlign",label:"文字位置",type:"button-group-select",mode:"row",options:[{label:"",value:"left",icon:"fa fa-align-left"},{label:"",value:"center",icon:"fa fa-align-center"},{label:"",value:"right",icon:"fa fa-align-right"},{label:"",value:"justify",icon:"fa fa-align-justify"}]},{type:"group",label:"文字排版",body:[{name:"letterSpacing",label:"",type:"input-text",addOn:{className:"ae-Font-group-lhs",label:"",type:"text",position:"left",icon:"fa fa-text-width"}},{name:"lineHeight",label:"",type:"input-text",addOn:{className:"ae-Font-group-lhs",label:"",type:"text",position:"left",icon:"fa fa-text-height"}}]}]},{data:g,onSubmit:function(e,t){null==h||h(n.__assign(n.__assign(n.__assign({},m),(0,o.default)(n.__assign(n.__assign({},(0,i.default)(e,f)),{textDecoration:[e.underline,e.lineThrough].filter(Boolean).join(" "),letterSpacing:(0,d.string2CSSUnit)(e.letterSpacing),lineHeight:(0,d.string2CSSUnit)(e.lineHeight)}),(function(e){return e||void 0}))),{fontFamily:e.fontFamily}))}}))};t.default=p;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){return l.default.createElement(p,n.__assign({},this.props))},n.__decorate([(0,c.FormItem)({type:"style-font",renderLabel:!1})],t)}(l.default.Component);t.FontRenderer=u},9914:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fontFamilyMirror=t.fontFamilyMap=t.fontFamilyList=void 0;var n=a(752);t.fontFamilyList=[{label:"默认字体",value:""},{label:"Times New Roman",value:"Times New Roman"}],t.fontFamilyMap=t.fontFamilyList.reduce((function(e,t){var a;return n.__assign(n.__assign({},e),((a={})[t.label]=t.value,a))}),{}),t.fontFamilyMirror=t.fontFamilyList.reduce((function(e,t){var a;return n.__assign(n.__assign({},e),((a={})[t.value]=t.label,a))}),{})},5617:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeBoxShadow=t.parseBoxShadow=void 0;var n=a(752),l=n.__importDefault(a(7078)),i=n.__importDefault(a(9131));t.parseBoxShadow=function(e){var t,a,n,l,i,o;return n=(a=e.split(/\s(?![^(]*\))/)).includes("inset"),l=a.slice(-1)[0],i="0"===(t=l)||/^[0-9]+[a-zA-Z%]+?$/.test(t)?void 0:l,o=a.filter((function(e){return"inset"!==e})).filter((function(e){return e!==i})).map((function(e){if(!e.endsWith("px")&&"0"!==e)return e;var t=parseFloat(e);return isNaN(t)?e:t})),{inset:n,x:o[0],y:o[1],blur:o[2],spread:o[3],color:i}},t.normalizeBoxShadow=function(e){var t=e.x,a=e.y,n=e.blur,o=e.spread,r=e.color,s=(e.inset,[]);if((null==e?void 0:e.inset)&&s.push("inset"),t||a||o||n){var d=function(e){return(0,l.default)(null==e?void 0:e.length)&&e.length>0?Math.round(null==e?void 0:e.length)+(null==e?void 0:e.unit):void 0};s.push((0,i.default)([d(t),d(a),d(n),d(o)]).join(" "))}return r&&s.push(r),s.length?{boxShadow:s.join(" ")}:{boxShadow:void 0}}},9703:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderThumbToGhost=t.mapReactElement=t.hackIn=t.makeSchemaFormRender=t.makeWrapper=void 0;var n=a(752),l=a(1502),i=a(2717),o=n.__importDefault(a(6689)),r=a(1160),s=n.__importDefault(a(9003)),d=n.__importDefault(a(8492)),c=a(1548),p=n.__importDefault(a(6918)),u=a(9305),m=a(2062),h=a(2406),f=n.__importDefault(a(8579)),g=a(6405),b=a(3570),v=a(9794),y=a(3190);function _(e){var t,a=e.body,i=e.definitions,o=e.controls,r=e.onChange,d=e.value,c=e.env,p=e.api,u=e.popOverContainer,m=e.submitOnChange,h=e.node,f=e.manager,g=e.justify,v="body";Array.isArray(o)&&(a=o,v="controls"),a=Array.isArray(a)?a.concat():[],!1===m&&a.push({type:"submit",label:"保存",level:"primary",block:!0,className:"ae-Settings-actions"});var y=((t={definitions:i})[v]=a,t.className=(0,s.default)("config-form-content","ae-Settings-content","hoverShowScrollBar",!1===m?"with-actions":""),t.wrapperComponent="div",t.type="form",t.title="",t.mode="normal",t.api=p,t.wrapWithPanel=!1,t.submitOnChange=!1!==m,t.messages={validateFailed:""},t);return g&&(y.mode="horizontal",y.horizontal={left:4,right:8,justify:!0}),(0,l.render)(y,{onFinished:function(e){return r(e,(0,b.diff)(d,e))},data:d,node:h,manager:f,popOverContainer:u},n.__assign({},c))}function S(e,t,a,n,l){var i=(0,p.default)(a,(function(e){return!e.matchRegion}));if(i){var r=i.wrapper||c.RegionWrapper;return"inner"===i.insertPosition&&o.default.isValidElement(t)?o.default.cloneElement(t,{children:o.default.createElement(r,{key:i.key,preferTag:i.preferTag,name:i.key,label:i.label,placeholder:i.placeholder,regionConfig:i,editorStore:l.store,manager:l,children:t.props.children,wrapperResolve:i.wrapperResolve,rendererName:n.renderer.name})}):o.default.createElement(r,{key:i.key,preferTag:i.preferTag,name:i.key,label:i.label,placeholder:i.placeholder,regionConfig:i,editorStore:l.store,manager:l,children:t,wrapperResolve:i.wrapperResolve,rendererName:n.renderer.name})}if(a.length){var s=function(e,t,a){var n=-1,l=void 0;return a.some((function(a,i){return!!a.matchRegion(t,e)&&(n=i,l=a,!0)})),[l,n]}(e,t,a),d=s[0],u=s[1];if(d){if(r=d.wrapper||c.RegionWrapper,a.splice(u,1),"outter"===d.insertPosition)return o.default.createElement(r,{key:d.key,preferTag:d.preferTag,name:d.key,label:d.label,placeholder:d.placeholder,regionConfig:d,editorStore:l.store,manager:l,children:t,wrapperResolve:d.wrapperResolve});if(o.default.isValidElement(t)){var m=t.props.children;return o.default.cloneElement(t,{children:o.default.createElement(r,{key:d.key,preferTag:d.preferTag,name:d.key,label:d.label,placeholder:d.placeholder,regionConfig:d,editorStore:l.store,manager:l,children:m,wrapperResolve:d.wrapperResolve})})}}else if(o.default.isValidElement(t)&&t.props.children)return m=t.props.children,m=Array.isArray(m)?m.map((function(t){return S(e,t,a,n,l)})):S(e,m,a,n,l),o.default.cloneElement(t,{children:m})}return t}t.makeWrapper=function(e,t,a){var l=e.store,s=a.component;return function(d){function c(e){var t=d.call(this,e)||this;return t.state={hasError:!1},t}return n.__extends(c,d),c.prototype.UNSAFE_componentWillMount=function(){var n=this,i=this.context||l.root;if(t.id&&(this.editorNode=i.addChild({id:t.id,type:t.type,label:t.name,isCommonConfig:!!this.props.$$commonSchema,path:this.props.$path,schemaPath:t.schemaPath,info:t,getData:function(){return n.props.data}}),this.editorNode.setRendererConfig(a),a.storeType&&!e.dataSchema.hasScope("".concat(t.id,"-").concat(t.type)))){for(var o=i,r=void 0;o;)o===l.root?r=e.dataSchema.getScope("root"):e.dataSchema.hasScope("".concat(o.id,"-").concat(o.type))&&(r=e.dataSchema.getScope("".concat(o.id,"-").concat(o.type))),o=o.parent;if(!r)throw new Error("程序错误");e.dataSchema.switchTo(r.id),this.scopeId="".concat(t.id,"-").concat(t.type),e.dataSchema.addScope([],this.scopeId),t.name&&(e.dataSchema.current.tag="".concat(t.name,"变量"))}},c.prototype.componentDidUpdate=function(e){var t=this.props;this.editorNode&&t.$$commonSchema!==e.$$commonSchema&&this.editorNode.updateIsCommonConfig(!!this.props.$$commonSchema)},c.prototype.componentDidCatch=function(e,a){console.warn("".concat(t.name,"(").concat(t.id,")渲染发生错误：")),console.warn("当前渲染器信息：",t),console.warn("错误对象：",e),console.warn("错误信息：",a),this.setState({hasError:!0})},c.prototype.componentWillUnmount=function(){this.editorNode&&(0,i.isAlive)(this.editorNode)&&(this.context||l.root).removeChild(this.editorNode),this.scopeId&&e.dataSchema.removeScope(this.scopeId)},c.prototype.wrapperRef=function(e){for(;null==e?void 0:e.getWrappedInstance;)e=e.getWrappedInstance();this.editorNode&&(0,i.isAlive)(this.editorNode)&&this.editorNode.setComponent(e)},c.prototype.renderChild=function(e,a,l){return(0,this.props.render)(e,a,n.__assign(n.__assign({},l),{$$editor:t}))},c.prototype.render=function(){var e=this.props,a=(e.$$id,n.__rest(e,["$$id"]));if(this.state.hasError)return o.default.createElement("div",{className:"ae-Editor-renderer-error"},t.name,"(",t.id,")渲染发生错误，详细错误信息请查看控制台输出。");var l=this.props.$$commonSchema?y.CommonConfigWrapper:t.regions?u.ContainerWrapper:r.NodeWrapper;return o.default.createElement(h.EditorNodeContext.Provider,{value:this.editorNode||this.context},o.default.createElement(l,n.__assign({},a,{render:this.renderChild,$$editor:t,$$node:this.editorNode,ref:this.wrapperRef})))},c.displayName=s.displayName,c.propsList=(s&&s.propsList||[]).concat(["$$id"]),c.contextType=h.EditorNodeContext,n.__decorate([b.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],c.prototype,"wrapperRef",null),n.__decorate([b.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String,Object,Object]),n.__metadata("design:returntype",void 0)],c.prototype,"renderChild",null),n.__decorate([m.observer,n.__metadata("design:paramtypes",[Object])],c)}(o.default.Component)},t.makeSchemaFormRender=function(e,t){var a=n.__assign(n.__assign({},e.env),{session:"schema-form"});return function(l){var i=l.value,r=l.onChange,s=l.popOverContainer,d=l.id,c=l.store,p=l.node,u=n.__assign({},e.store.ctx);return(null==t?void 0:t.panelById)&&(null==t?void 0:t.panelById)!==(null==p?void 0:p.id)?o.default.createElement(o.default.Fragment,null):(d&&Object.defineProperty(u,"__props__",{get:function(){var e,t=c.getNodeById(d);return(null===(e=null==t?void 0:t.getComponent())||void 0===e?void 0:e.props)||{}}}),o.default.createElement(_,{key:"".concat(d),api:t.api,definitions:t.definitions,body:t.body?(0,f.default)(Array.isArray(t.body)?t.body:[t.body]):void 0,controls:t.controls?(0,f.default)(Array.isArray(t.controls)?t.controls:[t.controls]):void 0,value:(0,v.createObject)(u,i),submitOnChange:t.submitOnChange,onChange:r,env:a,popOverContainer:s,node:p,manager:e,justify:t.justify}))}},t.hackIn=function(e,t,a){for(var l=e.Renderer;l.ComposedComponent;)l=l.ComposedComponent;var i=l.prototype;if(Array.isArray(t)){var o=(0,d.default)(t,(function(e){return e.renderMethod}));Object.keys(o).forEach((function(e){var t;if(!i["__".concat(e)]&&i[e]){var a,l,r=o[e],s=null===(t=r[0])||void 0===t?void 0:t.renderMethodOverride;i["__".concat(e)]=i[e],i[e]=(a=i["__".concat(e)],l=(null==s?void 0:s(r.concat(),S))||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this.props.$$editor,l=this.super.apply(this,e);if(a&&!this.props.$$commonSchema&&Array.isArray(a.regions)&&r.every((function(e){return(0,p.default)(a.regions,(function(t){return t.key===e.key}))}))){var i=r.map((function(e){var t=(0,p.default)(a.regions,(function(t){return t.key===e.key&&(!e.rendererName||e.rendererName===t.rendererName)}));return t?n.__assign(n.__assign({},e),{label:t.label,preferTag:t.preferTag}):e}));return S(this,l,i,a,a.plugin.manager)}return l},"function"!=typeof a?a:function(){var e=this.super;this.super=a.bind(this);var t=l.apply(this,arguments);return this.super=e,t})}}))}else a&&Object.keys(a).forEach((function(e){var t,n;i["__".concat(e)]||"function"!=typeof i[e]||(i["__".concat(e)]=i[e],i[e]=(t=i["__".concat(e)],n=a[e],"function"!=typeof t?t:function(){var e=this.super;this.super=t.bind(this);var a=n.apply(this,arguments);return this.super=e,a}))}))},t.mapReactElement=function e(t,a,n){if(!o.default.isValidElement(t))return t;var l=a(t,n);if(l===t&&t.props.children){var i=t.props.children;if(Array.isArray(i)){var r=[],s=!1;i.forEach((function(t,n){var l=e(t,a,n);l!==t&&(s=!0,o.default.isValidElement(l)&&!l.key&&(l=o.default.cloneElement(l,{key:n}))),r.push(l)})),s&&(l=o.default.cloneElement(l,{children:r}))}else{var d=e(i,a,n);d!==i&&(l=o.default.cloneElement(l,{children:d}))}}return l};var C=document.createElement("div");t.renderThumbToGhost=function(e,t,a,i){e.innerHTML="";var o=t.host.getComponent(),r=(null==o?void 0:o.renderControl)&&"body"===t.region;try{(0,g.render)((0,l.render)({children:function(e){var n=e.render;return r?n("",{type:"form",wrapWithPanel:!1,mode:o.props.mode,body:[a]}):n(t.region,a)}},{},n.__assign(n.__assign({},i.env),{theme:(null==o?void 0:o.props.theme)||i.env.theme,session:"ghost-thumb"}),""),C)}catch(e){}var s=C.innerHTML||'<div class="wrapper-sm b-a b-light m-b-sm">拖入占位</div>';e.innerHTML=s,(0,g.unmountComponentAtNode)(C),C.innerHTML=""}},9547:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultValue=t.undefinedPipeOut=t.valuePipeOut=t.setSchemaTpl=t.getSchemaTpl=t.getCollapseCate=t.styleTpl=void 0;var n,l,i=a(752),o=a(3570),r=a(6918),s=a(9848),d=a(9822),c=a(1502),p=i.__importDefault(a(8579)),u=i.__importDefault(a(1546)),m=a(6689),h=a(5992),f=a(2759),g={switch:{type:"switch",mode:"horizontal",horizontal:{justify:!0,left:8},inputClassName:"is-inline "},formItemName:{label:"字段名",name:"name",type:"input-text"},formItemMode:{label:"布局",name:"mode",type:"button-group-select",option:"继承",horizontal:{left:2,justify:!0},pipeIn:v(""),options:[{label:"内联",value:"inline"},{label:"水平",value:"horizontal"},{label:"垂直",value:"normal"},{label:"继承",value:""}],pipeOut:function(e){return e||void 0}},formItemInline:{type:"switch",label:"表单项内联",name:"inline",visibleOn:'data.mode != "inline"',pipeIn:v(!1)},formItemSize:{name:"size",label:"控件宽度",type:"select",pipeIn:v("full"),options:[{label:"极小",value:"xs"},{label:"小",value:"sm"},{label:"中",value:"md"},{label:"大",value:"lg"},{label:"占满",value:"full"},{label:"默认",value:""}]},minLength:{name:"minLength",type:"input-number",label:"限制最小数量"},maxLength:{name:"maxLength",type:"input-number",label:"限制最大数量"},label:{label:"标题",name:"label",type:"input-text",pipeIn:function(e){return!1===e?"":e}},labelHide:function(){return b("switch",{name:"label",label:(0,f.tipedLabel)("隐藏标题","隐藏后，水平布局时标题宽度为0"),pipeIn:function(e){return!1===e},pipeOut:function(e){return!0!==e&&""},visibleOn:'__props__.formMode === "horizontal" || data.mode === "horizontal" || data.label === false'})},placeholder:{label:"占位提示",name:"placeholder",type:"input-text",placeholder:"空内容提示占位"},tabs:function(e){return{type:"tabs",tabsMode:"line",className:"editor-prop-config-tabs",linksClassName:"editor-prop-config-tabs-links",contentClassName:"no-border editor-prop-config-tabs-cont hoverShowScrollBar",tabs:e.filter((function(e){return e})).map((function(e){var t,a=i.__assign(i.__assign({},e),{body:Array.isArray(e.body)?(0,p.default)(e.body):[e.body]});return"collapse-group"===(null===(t=a.body[0])||void 0===t?void 0:t.type)&&(a.className=(a.className||"")+" p-none"),a}))}},collapse:function(e){return{type:"wrapper",className:"editor-prop-config-collapse",body:e.filter((function(e){return e})).map((function(e){return i.__assign(i.__assign({type:"collapse",headingClassName:"editor-prop-config-head",bodyClassName:"editor-prop-config-body"},e),{body:(0,p.default)(e.body)})}))}},fieldSet:function(e){return i.__assign(i.__assign({collapsable:!0,collapsed:!1},e),{type:"fieldset",title:e.title,body:(0,p.default)(e.body.filter((function(e){return e})))})},collapseGroup:function(e){var t=e.filter((function(e){return e&&Array.isArray(null==e?void 0:e.body)&&(null==e?void 0:e.body.length)>0})).map((function(e,t){return i.__assign(i.__assign({type:"collapse",headingClassName:"ae-formItemControl-header",bodyClassName:"ae-formItemControl-body"},e),{key:e.key||t.toString(),body:(0,p.default)(e.body)})}));return{type:"collapse-group",expandIconPosition:"right",expandIcon:{type:"icon",icon:"chevron-right"},className:"ae-formItemControl ae-styleControl",activeKey:t.map((function(e,t){return e.key})),body:t}},clearable:{type:"switch",label:"可清除",name:"clearable",inputClassName:"is-inline"},hint:{label:"输入框提示",type:"input-text",name:"hint",description:"当输入框获得焦点的时候显示，用来提示用户输入内容。"},remark:(0,f.remarkTpl)({name:"remark",label:"控件提示",labelRemark:"在输入控件旁展示提示，注意控件宽度需设置，否则提示触发图标将自动换行"}),labelRemark:(0,f.remarkTpl)({name:"labelRemark",label:"标题提示",labelRemark:"在标题旁展示提示"}),value:{type:"ae-formulaControl",label:"默认值",name:"value"},inputType:{label:"输入类型",name:"type",type:"select",creatable:!1,options:[{label:"文本",value:"input-text"},{label:"密码",value:"input-password"},{label:"邮箱",value:"input-email"},{label:"URL",value:"input-url"}]},selectDateType:{label:"日期类型",name:"type",type:"select",creatable:!1,options:[{label:"日期",value:"input-date"},{label:"日期时间",value:"input-datetime"},{label:"时间",value:"input-time"},{label:"月份",value:"input-month"},{label:"季度",value:"input-quarter"},{label:"年份",value:"input-year"}]},selectDateRangeType:{label:"日期类型",name:"type",type:"select",creatable:!1,options:[{label:"日期",value:"input-date-range"},{label:"日期时间",value:"input-datetime-range"},{label:"时间",value:"input-time-range"},{label:"月份",value:"input-month-range"},{label:"季度",value:"input-quarter-range"},{label:"年份",value:"input-year-range"}]},menuTpl:{type:"ae-formulaControl",label:(0,f.tipedLabel)("模板","选项渲染模板，支持JSX，变量使用\\${xx}"),name:"menuTpl"},expression:{type:"input-text",description:"支持 JS 表达式，如：`this.xxx == 1`"},icon:{label:"图标",type:"icon-picker",name:"icon",className:"fix-icon-picker-overflow",placeholder:"点击选择图标",clearable:!0,description:""},size:{label:"控件尺寸",type:"button-group-select",name:"size",clearable:!0,options:[{label:"极小",value:"xs"},{label:"小",value:"sm"},{label:"中",value:"md"},{label:"大",value:"lg"}]},"horizontal-align":{type:"button-group-select",label:"位置",options:[{label:"左边",value:"left",icon:"fa fa-align-left"},{label:"右边",value:"right",icon:"fa fa-align-right"}]},name:{label:"名字",name:"name",type:"input-text",description:"需要联动时才需要，其他组件可以通过这个名字跟当前组件联动",placeholder:"请输入字母或者数字"},reload:{label:"刷新目标组件",name:"reload",asFormItem:!0,component:h.InputComponentName,description:"可以指定操作完成后刷新目标组件，请填写目标组件的 <code>name</code> 属性，多个组件请用<code>,</code>隔开，如果目标组件为表单项，请先填写表单的名字，再用<code>.</code>连接表单项的名字如：<code>xxForm.xxControl</code>。另外如果刷新目标对象设置为 <code>window</code>，则会刷新整个页面。",labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:"设置名字后，当前组件操作完成会触发目标组件（根据设置的名字）的刷新。",placement:"left"}},className:function(e){return i.__assign(i.__assign({type:"ae-classname",name:"className"},e||{}),{label:(0,f.tipedLabel)((null==e?void 0:e.label)||"CSS 类名",'有哪些辅助类 CSS 类名？请前往 <a href="https://baidu.github.io/amis/docs/concepts/style" target="_blank">样式说明</a>，除此之外你可以添加自定义类名，然后在系统配置中添加自定义样式。')})},api:function(e){void 0===e&&(e={});var t=e.name,a=e.label,n=e.value,l=e.description,o=e.sampleBuilder,r=i.__rest(e,["name","label","value","description","sampleBuilder"]);return i.__assign({type:"container",body:[{type:"checkbox",label:a||"API",labelRemark:o?{icon:"",label:"示例",title:"接口返回示例",tooltipClassName:"ae-ApiSample-tooltip",render:function(e){return m.createElement(c.Html,{className:"ae-ApiSample",inline:!1,html:"\n                    <pre><code>".concat(o(e),"</code></pre>\n                    ")})},trigger:"click",className:"m-l-xs",rootClose:!0,placement:"left"}:void 0,option:"高级配置",name:t||"api",mode:"inline",className:"w-full m-b-sm",inputClassName:"pull-right text-sm m-t-sm p-t-none",onChange:function(){},pipeIn:function(e){return e&&"string"!=typeof e},pipeOut:function(e,t){var a=(0,c.buildApi)(t);return e?{method:a.method,url:a.url}:a.url?"".concat(a.method?"".concat(a.method,":"):"").concat(a.url):""}},{name:t||"api",type:"input-text",value:n,placeholder:"http://",description:l,visibleOn:"!this.".concat(t||"api"," || typeof this.").concat(t||"api"," === 'string'"),className:"m-b-none",labelRemark:{}},{type:"combo",name:t||"api",description:l,syncDefaultValue:!1,multiLine:!0,visibleOn:"this.".concat(t||"api"," && typeof this.").concat(t||"api"," !== 'string'"),className:"m-b-none",messages:{validateFailed:"接口配置中存在错误，请仔细检查"},pipeIn:function(e){if("string"==typeof e){var t=e,a="get",n=/^(raw:|external:)?(get|post|put|patch|delete):(.*)$/.exec(t);return n&&(t=n[1]+n[3],a=n[2]),{method:a,url:t}}return e},items:[{label:"发送方式",name:"method",value:"get",type:"select",mode:"horizontal",horizontal:{leftFixed:"sm"},options:[{value:"get",label:"GET"},{value:"post",label:"POST"},{value:"put",label:"PUT"},{value:"patch",label:"PATCH"},{value:"delete",label:"DELETE"}]},{label:"接口地址",type:"input-text",name:"url",placeholder:"http://",required:!0},{type:"switch",label:"数据映射",name:"data",className:"w-full m-b-xs",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{"&":"$$"}:null}},{type:"tpl",visibleOn:"!this.data",inline:!1,className:"text-sm text-muted m-b",tpl:"当没开启数据映射时，发送 API 的时候会发送尽可能多的数据，如果你想自己控制发送的数据，或者需要额外的数据处理，请开启此选项"},{type:"input-kv",syncDefaultValue:!1,name:"data",visibleOn:"this.data",descriptionClassName:"help-block text-xs m-b-none",description:'<p>当没开启数据映射时，发送数据自动切成白名单模式，配置啥发送啥，请绑定数据。如：<code>{"a": "\\${a}", "b": 2}</code></p><p>如果希望在默认的基础上定制，请先添加一个 Key 为 `&` Value 为 `\\$$` 作为第一行。</p><div>当值为 <code>__undefined</code>时，表示删除对应的字段，可以结合<code>{"&": "\\$$"}</code>来达到黑名单效果。</div>'},{label:"发送条件",type:"input-text",name:"sendOn",placeholder:'如：this.type == "123"',description:"用表达式来设置该请求的发送条件"},{type:"switch",label:"是否设置缓存",name:"cache",className:"w-full m-b-xs",description:"设置该请求缓存的有效时间",pipeIn:function(e){return!!e},pipeOut:function(e){return e?3e3:void 0}},{type:"input-number",name:"cache",mode:"inline",min:0,step:500,visibleOn:"this.cache",pipeIn:function(e){return"number"==typeof e?e:0}},{type:"switch",label:"文件下载",name:"responseType",pipeIn:function(e){return"blob"===e},pipeOut:function(e){return e?"blob":void 0},description:"当接口为二进制文件下载时请勾选，并设置 Content-Disposition"},{label:"数据格式",type:"button-group-select",name:"dataType",description:'发送体格式为：<%= data.dataType === "json" ? "application/json" : data.dataType === "form-data" ? "multipart/form-data" : data.dataType === "form" ? "application/x-www-form-urlencoded" : "" %>，当发送内容中存在文件时会自动使用 form-data 格式。',size:"sm",className:"block",mode:"inline",options:[{label:"JSON",value:"json"},{label:"FormData",value:"form-data"},{label:"Form",value:"form"}]},{type:"switch",label:"数据替换",name:"replaceData",description:"默认数据都是追加方式，开启这个后是完全替换"},{type:"switch",label:"返回结果映射",name:"responseData",className:"w-full m-b-xs",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{"&":"$$"}:null}},{type:"tpl",visibleOn:"!this.responseData",inline:!1,className:"text-sm text-muted m-b",tpl:"如果需要对返回结果做额外的数据处理，请开启此选项"},{type:"input-kv",syncDefaultValue:!1,name:"responseData",visibleOn:"this.responseData",descriptionClassName:"help-block text-xs m-b-none"},{title:"自定义适配器",type:"fieldSet",className:"m-b-none",size:"sm",collapsable:!1,collapsedOn:"!this.requestAdaptor && !this.adaptor",body:[{name:"requestAdaptor",type:"js-editor",allowFullscreen:!0,label:"发送适配器",description:"函数签名：(api) => api， 数据在 api.data 中，修改后返回 api 对象。"},{name:"adaptor",type:"js-editor",allowFullscreen:!0,label:"接收适配器",description:"函数签名: (payload, response, api) => payload"}]}]}]},r)},"combo-container":function(e){var t;if((0,o.isObject)(e)){var a="combo"===e.type&&"ae-Combo-items "+(null!==(t=e.itemsWrapperClassName)&&void 0!==t?t:"");return i.__assign(i.__assign({},e),a?{itemsWrapperClassName:a}:{})}return e},status:function(e){return{title:"状态",body:[b("hidden"),(null==e?void 0:e.readonly)?b("readonly"):null,(null==e?void 0:e.disabled)||(null==e?void 0:e.isFormItem)?b("disabled"):null,(null==e?void 0:e.isFormItem)?b("clearValueOnHidden"):null]}},source:function(e){return void 0===e&&(e={}),b("api",i.__assign({name:"source",label:"获取选项接口",description:"可以通过接口获取动态选项，一次拉取全部。",sampleBuilder:function(e){return JSON.stringify({status:0,msg:"",data:{options:[{label:"选项A",value:"a"},{label:"选项B",value:"b"}]}},null,2)}},e))},autoFill:{type:"input-kv",name:"autoFill",label:(0,f.tipedLabel)("自动填充","将当前已选中的选项的某个字段的值，自动填充到表单中某个表单项中，支持数据映射")},apiString:{name:"api",type:"input-text",placeholder:"http://"},required:{type:"switch",name:"required",label:"是否必填",mode:"horizontal",horizontal:{justify:!0,left:8},inputClassName:"is-inline "},description:{name:"description",type:"textarea",label:(0,f.tipedLabel)("描述","表单项控件下方浅色文字描述"),maxRows:2,pipeIn:function(e,t){return e||t.desc||""}},options:{label:"选项 Options",name:"options",type:"combo",multiple:!0,draggable:!0,addButtonText:"新增选项",scaffold:{label:"",value:""},items:[{type:"input-text",name:"label",placeholder:"名称",required:!0},{type:"select",name:"value",pipeIn:function(e){return"string"==typeof e?"text":"boolean"==typeof e?"boolean":"number"==typeof e?"number":"text"},pipeOut:function(e,t){if("text"===e)return String(t);if("number"===e){var a=Number(t);return isNaN(a)?0:a}return"boolean"===e?Boolean(t):""},options:[{label:"文本",value:"text"},{label:"数字",value:"number"},{label:"布尔",value:"boolean"}]},{type:"input-number",name:"value",placeholder:"值",visibleOn:'typeof data.value === "number"',unique:!0},{type:"switch",name:"value",placeholder:"值",visibleOn:'typeof data.value === "boolean"',unique:!0},{type:"input-text",name:"value",placeholder:"值",visibleOn:'typeof data.value === "undefined" || typeof data.value === "string"',unique:!0}]},tree:{label:"选项 Options",name:"options",type:"combo",multiple:!0,draggable:!0,addButtonText:"新增选项",description:"静态数据暂不支持多级，请切换到代码模式，或者采用 source 接口获取。",scaffold:{label:"",value:""},items:[{type:"input-text",name:"label",placeholder:"名称",required:!0},{type:"input-text",name:"value",placeholder:"值",unique:!0}]},leftFixed:{name:"horizontal.leftFixed",type:"button-group-select",visibleOn:"data.horizontal && data.horizontal.leftFixed",label:"宽度",options:[{label:"小",value:"sm"},{label:"中",value:"normal"},{label:"大",value:"lg"}]},leftRate:{name:"horizontal",type:"input-range",visibleOn:"data.horizontal && !data.horizontal.leftFixed",min:1,max:11,step:1,label:(0,f.tipedLabel)("比例","12 等份，标题宽度占比 n/12"),pipeIn:function(e){return e.left||3},pipeOut:function(e){return{left:e,right:12-e}}},horizontal:function(){return[{type:"button-group-select",label:"标题宽度",name:"horizontal",options:[{label:"继承",value:"formHorizontal"},{label:"固宽",value:"leftFixed"},{label:"比例",value:"leftRate"}],pipeIn:function(e){return e?e.leftFixed?"leftFixed":"leftRate":"formHorizontal"},pipeOut:function(e){return{formHorizontal:void 0,leftFixed:{leftFixed:"normal"},leftRate:{left:3,right:9}}[e]},visibleOn:'this.mode == "horizontal" && this.label !== false'},{type:"container",className:"ae-ExtendMore mb-3",visibleOn:'this.mode == "horizontal" && this.horizontal && this.label !== false',body:[b("leftFixed"),b("leftRate")]}]},subFormItemMode:{label:"子表单展示模式",name:"subFormMode",type:"button-group-select",size:"sm",option:"继承",pipeIn:v(""),options:[{label:"继承",value:""},{label:"正常",value:"normal"},{label:"内联",value:"inline"},{label:"水平",value:"horizontal"}]},subFormHorizontalMode:{type:"switch",label:"子表单水平占比设置",name:"subFormHorizontal",onText:"继承",offText:"自定义",inputClassName:"text-sm",visibleOn:'this.subFormMode == "horizontal"',pipeIn:function(e){return!e},pipeOut:function(e,t,a){return e?null:a.formHorizontal||{leftFixed:"normal"}}},subFormHorizontal:{type:"combo",syncDefaultValue:!1,visibleOn:'data.subFormMode == "horizontal" && data.subFormHorizontal',name:"subFormHorizontal",multiLine:!0,pipeIn:function(e){return{leftRate:e&&"number"==typeof e.left?e.left:e&&/\bcol\-(?:xs|sm|md|lg)\-(\d+)\b/.test(e.left)?parseInt(RegExp.$1,10):2,leftFixed:e&&e.leftFixed||""}},pipeOut:function(e){var t=Math.min(11,Math.max(1,e.leftRate||2));return{leftFixed:e.leftFixed||"",left:t,right:12-t}},inputClassName:"no-padder",items:[{name:"leftFixed",type:"button-group-select",label:"左侧宽度",size:"xs",options:[{label:"比率",value:""},{label:"小宽度",value:"sm",visibleOn:"this.leftFixed"},{label:"固定宽度",value:"normal"},{label:"大宽度",value:"lg",visibleOn:"this.leftFixed"}]},{name:"leftRate",type:"input-range",visibleOn:"!this.leftFixed",min:1,max:11,step:1,label:"左右分布调整(n/12)",labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:"一共 12 等份，这里可以设置左侧宽度占比 n/12。",placement:"left"}}]},validations:(n=[{label:"邮箱格式",value:"isEmail"},{label:"Url格式",value:"isUrl"},{label:"数字",value:"isNumeric"},{label:"字母",value:"isAlpha"},{label:"字母和数字",value:"isAlphanumeric"},{label:"整型数字",value:"isInt"},{label:"浮点型数字",value:"isFloat"},{label:"固定长度",value:"isLength"},{label:"最大长度",value:"maxLength"},{label:"最小长度",value:"minLength"},{label:"最大值",value:"maximum"},{label:"最小值",value:"minimum"},{label:"手机号码",value:"isPhoneNumber"},{label:"电话号码",value:"isTelNumber"},{label:"邮编号码",value:"isZipcode"},{label:"身份证号码",value:"isId"},{label:"JSON格式",value:"isJson"},{label:"与指定值相同",value:"equals"},{label:"与指定字段值相同",value:"equalsField"},{label:"自定义正则",value:"matchRegexp"},{label:"自定义正则2",value:"matchRegexp1"},{label:"自定义正则3",value:"matchRegexp2"},{label:"自定义正则4",value:"matchRegexp3"},{label:"自定义正则5",value:"matchRegexp4"}],l=["isEmail","isUrl","isNumeric","isAlpha","isAlphanumeric","isInt","isFloat","isJson","isPhoneNumber","isTelNumber","isZipcode","isId"],{type:"combo",syncDefaultValue:!1,name:"validations",label:"验证规则",addButtonText:"新增规则",multiple:!0,pipeIn:function(e){if("string"==typeof e&&e&&(e=(0,c.str2rules)(e)),!(0,o.isObject)(e))return e;var t=[];return Object.keys(e).forEach((function(a){var n;/^\$\$/.test(a)||t.push(((n={type:a})[a]=Array.isArray(e[a])?e[a][0]:e[a],n))})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var t={};return e.forEach((function(e){var a,i,o=e.type||(a=function(e){return!t[e.value]},(i=r(n,a))?i.value:"")||n[0].value;t[o]=e[o]||!!~l.indexOf(o)||""})),t},items:[{type:"select",unique:!0,name:"type",options:n,columnClassName:"w-sm"},{type:"input-number",name:"isLength",visibleOn:'data.type == "isLength"',placeholder:"设置长度",value:"1"},{type:"input-number",name:"maximum",visibleOn:'data.type == "maximum"',placeholder:"设置最大值"},{type:"input-number",name:"minimum",visibleOn:'data.type == "minimum"',placeholder:"设置最小值"},{type:"input-number",name:"maxLength",visibleOn:'data.type == "maxLength"',placeholder:"设置最大长度值"},{type:"input-number",name:"minLength",visibleOn:'data.type == "minLength"',placeholder:"设置最小长度值"},{type:"input-text",name:"equals",visibleOn:'data.type == "equals"',placeholder:"设置值",value:""},{type:"input-text",name:"equalsField",visibleOn:'data.type == "equalsField"',placeholder:"设置字段名",value:""},{type:"input-text",name:"matchRegexp",visibleOn:'data.type == "matchRegexp"',placeholder:"设置正则规则"},{type:"input-text",name:"matchRegexp1",visibleOn:'data.type == "matchRegexp1"',placeholder:"设置正则规则"},{type:"input-text",name:"matchRegexp2",visibleOn:'data.type == "matchRegexp2"',placeholder:"设置正则规则"},{type:"input-text",name:"matchRegexp3",visibleOn:'data.type == "matchRegexp3"',placeholder:"设置正则规则"},{type:"input-text",name:"matchRegexp4",visibleOn:'data.type == "matchRegexp4"',placeholder:"设置正则规则"}]}),validationErrors:function(){var e=[{label:"邮箱格式",value:"isEmail"},{label:"Url格式",value:"isUrl"},{label:"数字",value:"isNumeric"},{label:"字母",value:"isAlpha"},{label:"字母和数字",value:"isAlphanumeric"},{label:"整型数字",value:"isInt"},{label:"浮点型数字",value:"isFloat"},{label:"固定长度",value:"isLength"},{label:"最大长度",value:"maxLength"},{label:"最小长度",value:"minLength"},{label:"最大值",value:"maximum"},{label:"最小值",value:"minimum"},{label:"JSON格式",value:"isJson"},{label:"手机号码",value:"isPhoneNumber"},{label:"电话号码",value:"isTelNumber"},{label:"邮编号码",value:"isZipcode"},{label:"身份证号码",value:"isId"},{label:"与指定值相同",value:"equals"},{label:"与指定字段值相同",value:"equalsField"},{label:"自定义正则",value:"matchRegexp"},{label:"自定义正则2",value:"matchRegexp1"},{label:"自定义正则3",value:"matchRegexp2"},{label:"自定义正则4",value:"matchRegexp3"},{label:"自定义正则5",value:"matchRegexp4"}],t={isEmail:"Email 格式不正确",isRequired:"这是必填项",isUrl:"Url 格式不正确",isInt:"请输入整形数字",isAlpha:"请输入字母",isNumeric:"请输入数字",isAlphanumeric:"请输入字母或者数字",isFloat:"请输入浮点型数值",isWords:"请输入字母",isUrlPath:"只能输入字母、数字、`-` 和 `_`.",matchRegexp:"格式不正确, 请输入符合规则为 `$1` 的内容。",minLength:"请输入更多的内容，至少输入 $1 个字符。",maxLength:"请控制内容长度, 请不要输入 $1 个字符以上",maximum:"当前输入值超出最大值 $1，请检查",minimum:"当前输入值低于最小值 $1，请检查",isJson:"请检查 Json 格式。",isPhoneNumber:"请输入合法的手机号码",isTelNumber:"请输入合法的电话号码",isZipcode:"请输入合法的邮编地址",isId:"请输入合法的身份证号",isLength:"请输入长度为 $1 的内容",notEmptyString:"请不要全输入空白字符",equalsField:"输入的数据与 $1 值不一致",equals:"输入的数据与 $1 不一致"};return{type:"combo",syncDefaultValue:!1,name:"validationErrors",label:"自定义验证提示",description:"自带提示不满足时，可以自定义。",addButtonText:"新增提示",multiple:!0,pipeIn:function(e){if(!(0,o.isObject)(e))return e;var t=[];return Object.keys(e).forEach((function(a){/^\$\$/.test(a)||t.push({type:a,msg:e[a]})})),t},pipeOut:function(a){if(!Array.isArray(a))return a;var n={};return a.forEach((function(a){var l,i,o=a.type||(l=function(e){return!n[e.value]},(i=r(e,l))?i.value:"")||e[0].value;n[o]=a.msg||t[o]||""})),n},items:[{type:"select",unique:!0,name:"type",options:e,columnClassName:"w-sm"},{type:"input-text",name:"msg",placeholder:"提示信息"},{type:"formula",name:"msg",initSet:!1,formula:"({\n                        isEmail: 'Email 格式不正确',\n                        isRequired: '这是必填项',\n                        isUrl: 'Url 格式不正确',\n                        isInt: '请输入整形数字',\n                        isAlpha: '请输入字母',\n                        isNumeric: '请输入数字',\n                        isAlphanumeric: '请输入字母或者数字',\n                        isFloat: '请输入浮点型数值',\n                        isWords: '请输入字母',\n                        isUrlPath: '只能输入字母、数字、`-` 和 `_`.',\n                        matchRegexp: '格式不正确, 请输入符合规则为 `$1` 的内容。',\n                        minLength: '请输入更多的内容，至少输入 $1 个字符。',\n                        maxLength: '请控制内容长度, 请不要输入 $1 个字符以上',\n                        maximum: '当前输入值超出最大值 $1，请检查',\n                        minimum: '当前输入值低于最小值 $1，请检查',\n                        isJson: '请检查 Json 格式。',\n                        isLength: '请输入长度为 $1 的内容',\n                        notEmptyString: '请不要全输入空白字符',\n                        equalsField: '输入的数据与 $1 值不一致',\n                        equals: '输入的数据与 $1 不一致',\n                        isPhoneNumber: '请输入合法的手机号码',\n                        isTelNumber: '请输入合法的电话号码',\n                        isZipcode: '请输入合法的邮编地址',\n                        isId: '请输入合法的身份证号',\n                    })[data.type] || ''"}]}}(),submitOnChange:{type:"switch",label:"修改即提交",name:"submitOnChange",labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:"设置后，表单中每次有修改都会触发提交",placement:"left"}},validateOnChange:{type:"select",name:"validateOnChange",label:"校验触发",options:[{label:"提交后每次修改即触发",value:""},{label:"修改即触发",value:!0},{label:"提交触发",value:!1}],pipeIn:v(""),pipeOut:function(e){return""===e?void 0:!!e}},initFetch:{type:"group",label:"是否初始加载",visibleOn:"this.initApi",direction:"vertical",className:"m-b-none",labelRemark:{trigger:"click",rootClose:!0,className:"m-l-xs",content:"当配置初始化接口后，组件初始就会拉取接口数据，可以通过以下配置修改。",placement:"left"},body:[{name:"initFetch",type:"radios",inline:!0,onChange:function(){},options:[{label:"是",value:!0},{label:"否",value:!1},{label:"表达式",value:""}]},{name:"initFetchOn",autoComplete:!1,visibleOn:'typeof this.initFetch !== "boolean"',type:"input-text",placeholder:"如：this.id 表示有 id 值时初始加载",className:"m-t-n-sm"}]},disabled:{type:"ae-StatusControl",label:"禁用",mode:"normal",name:"disabled",expressioName:"disabledOn"},readonly:{type:"ae-StatusControl",label:"只读",mode:"normal",name:"readOnly",expressioName:"readOnlyOn"},visible:{type:"ae-StatusControl",label:"可见",mode:"normal",name:"visible",expressioName:"visibleOn"},hidden:{type:"ae-StatusControl",label:"隐藏",mode:"normal",name:"hidden",expressioName:"hiddenOn"},maximum:{type:"input-number",label:"最大值"},minimum:{type:"input-number",label:"最小值"},switchDefaultValue:{type:"switch",label:"默认值设置",name:"value",pipeIn:function(e){return void 0!==e},pipeOut:function(e,t,a){return e?"":void 0},labelRemark:{trigger:["hover","focus"],setting:!0,title:"",content:"不设置时根据 name 获取"}},multiple:function(e){return void 0===e&&(e={}),{type:"ae-Switch-More",mode:"normal",name:"multiple",label:"可多选",value:!1,hiddenOnDefault:!0,formType:"extend",form:{body:e.replace?e.body:i.__spreadArray([b("joinValues"),b("delimiter"),b("extractValue")],[e.body||[]],!1)}}},checkAll:function(){return[b("switch",{label:"可全选",name:"checkAll",value:!1,visibleOn:"data.multiple"}),{type:"container",className:"ae-ExtendMore mb-2",visibleOn:"data.checkAll && data.multiple",body:[b("switch",{label:"默认全选",name:"defaultCheckAll",value:!1}),{type:"input-text",name:"checkAllLabel",label:"选项文案",value:"全选",mode:"row"}]}]},joinValues:function(){return b("switch",{label:(0,f.tipedLabel)("拼接值","开启后将选中的选项 value 的值用连接符拼接起来，作为当前表单项的值"),name:"joinValues",visibleOn:"data.multiple",value:!0})},delimiter:{type:"input-text",name:"delimiter",label:(0,f.tipedLabel)("拼接符","将多个值拼接成一个字符串的连接符号"),visibleOn:"data.multiple && data.joinValues",pipeIn:v(",")},extractValue:{type:"switch",label:(0,f.tipedLabel)("仅提取值","开启后将选中项的 value 封装为数组，关闭后则将整个选项数据封装为数组。"),name:"extractValue",inputClassName:"is-inline",visibleOn:"data.multiple && data.joinValues === false",pipeIn:v(!1)},creatable:function(e){return void 0===e&&(e={}),i.__assign({label:(0,f.tipedLabel)("可创建","配置事件动作可插入或拦截默认交互"),type:"ae-switch-more",mode:"normal",name:"creatable"},e)},addApi:function(){return b("apiControl",{label:"新增接口",name:"addApi",visibleOn:"data.creatable"})},createBtnLabel:{label:"按钮名称",name:"createBtnLabel",type:"input-text",placeholder:"新建"},editable:function(e){return void 0===e&&(e={}),i.__assign({label:(0,f.tipedLabel)("可编辑","配置事件动作可插入或拦截默认交互"),type:"ae-switch-more",mode:"normal",name:"editable"},e)},editApi:function(){return b("apiControl",{label:"编辑接口",name:"editApi",visibleOn:"data.editable"})},removable:function(e){return void 0===e&&(e={}),i.__assign({label:(0,f.tipedLabel)("可删除","配置事件动作可插入或拦截默认交互"),type:"ae-switch-more",mode:"normal",name:"removable"},e)},deleteApi:function(){return b("apiControl",{label:"删除接口",name:"deleteApi",visibleOn:"data.removable"})},ref:function(){return null},imageUrl:{type:"input-text",label:"图片"},backgroundImageUrl:{type:"input-text",label:"图片路径"},fileUrl:{type:"input-text",label:"文件"},markdownBody:{name:"value",type:"editor",language:"markdown",size:"xxl",label:"Markdown 内容",options:{lineNumbers:"off"}},richText:{label:"富文本",type:"input-rich-text",buttons:["paragraphFormat","quote","color","|","bold","italic","underline","strikeThrough","|","formatOL","formatUL","align","|","insertLink","insertImage","insertTable","|","undo","redo","fullscreen"],name:"html",description:'支持使用 <code>\\${xxx}</code> 来获取变量，或者用 lodash.template 语法来写模板逻辑。<a target="_blank" href="/amis/zh-CN/docs/concepts/template">详情</a>',size:"lg"},showCounter:{type:"switch",label:"计数器",name:"showCounter",inputClassName:"is-inline"},borderMode:{name:"borderMode",label:"边框模式",type:"button-group-select",size:"sm",mode:"row",className:"ae-buttonGroupSelect--justify",options:[{label:"全边框",value:"full"},{label:"半边框",value:"half"},{label:"无边框",value:"none"}]},searchable:function(){return b("switch",{label:"可检索",name:"searchable"})},sortable:{type:"switch",label:"可排序",name:"sortable"},selectFirst:{type:"switch",label:"是否默认选择第一个",name:"selectFirst"},hideNodePathLabel:{type:"switch",label:"隐藏选中节点的祖先节点文本信息",name:"hideNodePathLabel"},clearValueOnHidden:function(){return b("switch",{type:"switch",horizontal:{left:8,justify:!0},label:(0,f.tipedLabel)("隐藏时删除字段","当前表单项隐藏时，表单提交数据中会删除该表单项的值"),name:"clearValueOnHidden"})},utc:{type:"switch",label:(0,f.tipedLabel)("UTC转换","开启后，提交数据和展示数据将进行UTC转换；存在跨地域用户的应用建议开启"),name:"utc",inputClassName:"is-inline"},embed:{type:"switch",label:"内嵌模式",name:"embed"},buttonLevel:{label:"按钮样式",type:"select",name:"level",options:[{label:"默认",value:"default",level:"default"},{label:"链接",value:"link",level:"link"},{label:"主色",value:"primary",level:"primary"},{label:"淡色",value:"light",level:"light"},{label:"深色",value:"dark",level:"dark"},{label:"提示",value:"info",level:"info"},{label:"成功",value:"success",level:"success"},{label:"警告",value:"warning",level:"warning"},{label:"严重",value:"danger",level:"danger"},{label:"次要",value:"secondary",level:"secondary"},{label:"加强",value:"enhance",level:"enhance"}],pipeIn:v("default")},uploadType:{label:"上传方式",name:"uploadType",type:"select",value:"fileReceptor",options:[{label:"文件接收器",value:"fileReceptor"},{label:"对象存储",value:"bos"}]},bos:{label:"存储仓库",type:"select",name:"bos",value:"default",options:[{label:"平台默认",value:"default"}]},proxy:{type:"switch",label:"后端代理",name:"proxy",mode:"horizontal",horizontal:{justify:!0,left:8},inputClassName:"is-inline"},optionControl:{label:"数据",mode:"normal",name:"options",type:"ae-optionControl"},badge:{label:"角标",name:"badge",type:"ae-badge"},apiControl:function(e){void 0===e&&(e={});var t=e.name,a=e.label,n=(e.value,e.description),l=e.sampleBuilder,o=i.__rest(e,["name","label","value","description","sampleBuilder"]);return i.__assign({type:"ae-apiControl",label:a,name:t,description:n,mode:"normal",labelRemark:l?{icon:"",label:"示例",title:"接口返回示例",tooltipClassName:"ae-ApiSample-tooltip",render:function(e){return m.createElement(c.Html,{className:"ae-ApiSample",inline:!1,html:"\n                    <pre><code>".concat(l(e),"</code></pre>\n                    ")})},trigger:"click",className:"m-l-xs",rootClose:!0,placement:"left"}:void 0},o)},actionApiControl:function(e){void 0===e&&(e={});var t=e.name,a=e.label,n=(e.value,e.description),l=e.sampleBuilder,o=i.__rest(e,["name","label","value","description","sampleBuilder"]);return i.__assign({type:"ae-actionApiControl",label:a,name:t,description:n,mode:"normal",labelRemark:l?{icon:"",label:"示例",title:"接口返回示例",tooltipClassName:"ae-ApiSample-tooltip",render:function(e){return m.createElement(c.Html,{className:"ae-ApiSample",inline:!1,html:"\n                    <pre><code>".concat(l(e),"</code></pre>\n                    ")})},trigger:"click",className:"m-l-xs",rootClose:!0,placement:"left"}:void 0},o)},validation:function(e){return{title:"校验",body:[i.__assign({type:"ae-validationControl",mode:"normal"},e),b("validateOnChange")]}},validationControl:function(e){return void 0===e&&(e=[]),{type:"ae-validationControl",label:"校验规则",mode:"normal",pipeIn:function(e,t){return d(e,(function(e,a){if("string"==typeof a)e.push(a);else{var n=!1;s(null==a?void 0:a.isShow,(function(e,a){return!i.__spreadArray([],e,!0).includes(null==t?void 0:t.data[a])||(n=!0,!1)})),!n&&s(null==a?void 0:a.isHidden,(function(e,a){var l=i.__spreadArray([],e,!0).includes(null==t?void 0:t.data[a]);return n=!l,!l})),n&&e.push(a.option)}return e}),[])},value:e}},formulaControl:function(e){return void 0===e&&(e={}),i.__assign({type:"ae-formulaControl"},e)},dateShortCutControl:function(e){return void 0===e&&(e={}),i.__assign({type:"ae-DateShortCutControl"},e)},eventControl:function(e){return void 0===e&&(e={}),i.__assign({type:"ae-eventControl",mode:"normal"},e)},"style:formItem":function(e){var t=e.renderer,a=e.schema;return{title:"表单项",key:"formItem",body:[b("formItemMode"),b("labelHide"),b("horizontal"),!1!==(null==t?void 0:t.sizeMutable)?b("formItemSize"):null].concat(a)}},"style:classNames":function(e){var t=e||{},a=t.isFormItem,n=void 0===a||a,l=t.schema,i=void 0===l?[]:l;return{title:"CSS 类名",body:(n?[b("className",{label:"表单项"}),b("className",{label:"标签",name:"labelClassName"}),b("className",{label:"控件",name:"inputClassName"})]:[b("className",{label:"外层"})]).concat(i)}},"style:others":function(e){return void 0===e&&(e=[]),{title:"其他项",body:i.__spreadArray([],e,!0)}},data:{type:"input-kv",name:"data",label:"初始静态数据"},"app-page":{type:"nested-select",label:"选择页面",name:"link",mode:"horizontal",size:"lg",required:!0,options:[]}};function b(e,t){var a=g[e]||{};return"function"==typeof a?a(t):a?t?i.__assign(i.__assign({},a),t):a:null}function v(e,t){return void 0===t&&(t=!0),t?function(t){return void 0===t?e:t}:function(t){return t||e}}t.styleTpl={name:"style",type:"combo",label:"",noBorder:!0,multiLine:!0,items:[{type:"fieldSet",title:"文字",body:[{type:"group",body:[{label:"文字大小",type:"input-text",name:"fontSize"},{label:"文字粗细",name:"fontWeight",type:"select",options:["normal","bold","lighter","bolder"]}]},{type:"group",body:[{label:"文字颜色",type:"input-color",name:"color"},{label:"对齐方式",name:"textAlign",type:"select",options:["left","right","center","justify","justify-all","start","end","match-parent"]}]}]},{type:"fieldSet",title:"背景",body:[{label:"颜色",name:"backgroundColor",type:"input-color"},b("imageUrl",{name:"backgroundImage"})]},{type:"fieldSet",title:"边距",body:[{type:"group",label:"外边距",body:[{label:"上",name:"marginTop",type:"input-text"},{label:"右",name:"marginRight",type:"input-text"},{label:"下",name:"marginBottom",type:"input-text"},{label:"左",name:"marginLeft",type:"input-text"}]},{type:"group",label:"内边距",body:[{label:"上",name:"paddingTop",type:"input-text"},{label:"右",name:"paddingRight",type:"input-text"},{label:"下",name:"paddingBottom",type:"input-text"},{label:"左",name:"paddingLeft",type:"input-text"}]}]},{type:"fieldSet",title:"边框",body:[{type:"group",body:[{label:"样式",name:"borderStyle",type:"select",options:["none","solid","dotted","dashed"]},{label:"颜色",name:"borderColor",type:"input-color"}]},{type:"group",body:[{label:"宽度",name:"borderWidth",type:"input-text"},{label:"圆角宽度",name:"borderRadius",type:"input-text"}]}]},{type:"fieldSet",title:"特效",body:[{label:"透明度",name:"opacity",min:0,max:1,step:.05,type:"input-range",pipeIn:v(1)},{label:"阴影",name:"boxShadow",type:"input-text"}]}]},g["style:common"]=function(e){return e=(e?Array.isArray(e)?e:[e]:[]).map((function(e){return(0,u.default)(e)})),[{header:"布局",key:"layout",body:[{type:"style-display",label:!1,name:"style"}].filter((function(t){return!~e.indexOf(t.type.replace(/^style-/i,""))}))},{header:"文字",key:"font",body:[{type:"style-font",label:!1,name:"style"}]},{header:"内外边距",key:"box-model",body:[{type:"style-box-model",label:!1,name:"style"}]},{header:"背景",key:"background",body:[{type:"style-background",label:!1,name:"style"}]},{header:"边框",key:"border",body:[{type:"style-border",label:!1,name:"style"}]},{header:"阴影",key:"box-shadow",body:[{type:"style-box-shadow",label:!1,name:"style.boxShadow"}]},{header:"其他",key:"other",body:[{label:"透明度",name:"style.opacity",min:0,max:1,step:.05,type:"input-range",pipeIn:v(1),marks:{"0%":"0","50%":"0.5","100%":"1"}},{label:"光标类型",name:"style.cursor",type:"select",mode:"row",menuTpl:{type:"html",html:"<span style='cursor:${value};'>${label}</span><code class='ae-Code'>${value}</code>",className:"ae-selection-code"},pipIn:v("default"),options:[{label:"默认",value:"default"},{label:"自动",value:"auto"},{label:"无指针",value:"none"},{label:"悬浮",value:"pointer"},{label:"帮助",value:"help"},{label:"文本",value:"text"},{label:"单元格",value:"cell"},{label:"交叉指针",value:"crosshair"},{label:"可移动",value:"move"},{label:"禁用",value:"not-allowed"},{label:"可抓取",value:"grab"},{label:"放大",value:"zoom-in"},{label:"缩小",value:"zoom-out"}]}]}].filter((function(t){return!~e.indexOf(t.key)}))},t.getCollapseCate=function(e){},t.getSchemaTpl=b,t.setSchemaTpl=function(e,t){g[e]=t},t.valuePipeOut=function(e){try{if("undefined"===e)return;return JSON.parse(e)}catch(t){return e}},t.undefinedPipeOut=function(e){return Array.isArray(e)?e.length?e:void 0:"string"==typeof e?e||void 0:"object"==typeof e?Object.keys(e).length?e:void 0:e},t.defaultValue=v},6294:(e,t,a)=>{var n,l,i,o,r,s,d,c,p,u,m,h,f,g,b,v,y,_,S,C;Object.defineProperty(t,"__esModule",{value:!0}),t.ValidatorTag=t.getValidator=t.getValidatorsByTag=t.registerValidator=t.ValidationGroup=void 0;var x,w,T,N=a(752),E=[];!function(e){e.Pattern="文本",e.Number="数字",e.Regex="正则",e.Others="其他"}(x=t.ValidationGroup||(t.ValidationGroup={})),function(e){e[e.isDefault=1]="isDefault",e[e.isMore=2]="isMore",e[e.isBuiltIn=3]="isBuiltIn"}(w||(w={})),t.registerValidator=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];E.push.apply(E,e)},t.getValidatorsByTag=function(e){var t={},a={},n={};return E.forEach((function(l){var i=l.tag[e];null==i?null!=(i=l.tag[T.All])&&(i===w.isDefault?t[l.name]=l:i===w.isMore?a[l.name]=l:i===w.isBuiltIn&&(n[l.name]=l)):i===w.isDefault?t[l.name]=l:i===w.isMore?a[l.name]=l:i===w.isBuiltIn&&(n[l.name]=l)})),{defaultValidators:t,moreValidators:a,builtInValidators:n}},t.getValidator=function(e){return E.find((function(t){return t.name===e}))},function(e){e.All="0",e.Text="1",e.MultiSelect="2",e.Check="3",e.Email="4",e.Password="5",e.URL="6",e.Number="7",e.File="8",e.Date="9",e.Code="10"}(T=t.ValidatorTag||(t.ValidatorTag={})),t.registerValidator.apply(void 0,N.__spreadArray([{label:"必填",name:"required",tag:(n={},n[T.Text]=w.isDefault,n[T.File]=w.isDefault,n[T.MultiSelect]=w.isDefault,n[T.Date]=w.isDefault,n[T.Code]=w.isDefault,n[T.Email]=w.isDefault,n[T.Password]=w.isDefault,n[T.URL]=w.isDefault,n)},{label:"邮箱格式",name:"isEmail",group:x.Pattern,message:"Email 格式不正确",tag:(l={},l[T.Email]=w.isBuiltIn,l[T.Text]=w.isMore,l)},{label:"Url格式",name:"isUrl",group:x.Pattern,message:"Url 格式不正确",tag:(i={},i[T.URL]=w.isBuiltIn,i[T.Text]=w.isMore,i)},{label:"字母",name:"isAlpha",group:x.Pattern,message:"请输入字母",tag:(o={},o[T.Text]=w.isMore,o)},{label:"数字",name:"isNumeric",group:x.Number,message:"请输入数字",tag:(r={},r[T.Number]=w.isDefault,r[T.Text]=w.isMore,r)},{label:"字母和数字",name:"isAlphanumeric",group:x.Pattern,message:"请输入字母或者数字",tag:(s={},s[T.Text]=w.isMore,s)},{label:"整型数字",name:"isInt",group:x.Number,message:"请输入整形数字",tag:(d={},d[T.Number]=w.isDefault,d[T.Text]=w.isMore,d)},{label:"浮点型数字",name:"isFloat",group:x.Number,message:"请输入浮点型数值",tag:(c={},c[T.Number]=w.isDefault,c[T.Text]=w.isMore,c)},{label:"固定长度",name:"isLength",group:x.Pattern,message:"请输入长度为 $1 的内容",tag:(p={},p[T.Number]=w.isDefault,p[T.Text]=w.isMore,p),schema:[{type:"input-number",name:"value",label:"字符数",placeholder:"请输入字符个数"}]},{label:"最大长度",name:"maxLength",group:x.Pattern,message:"请控制内容长度, 请不要输入 $1 个字符以上",tag:(u={},u[T.Text]=w.isDefault,u),schema:[{type:"input-number",name:"value",label:"字符数"}]},{label:"最小长度",name:"minLength",group:x.Pattern,message:"请输入更多的内容，至少输入 $1 个字符",tag:(m={},m[T.Text]=w.isDefault,m),schema:[{type:"input-number",name:"value",label:"字符数"}]},{label:"最大值",name:"maximum",group:x.Number,message:"当前输入值超出最大值 $1，请检查",tag:(h={},h[T.Number]=w.isDefault,h[T.Text]=w.isMore,h),schema:[{type:"input-number",name:"value",label:"最大值"}]},{label:"最小值",name:"minimum",group:x.Number,message:"当前输入值低于最小值 $1，请检查",tag:(f={},f[T.Number]=w.isDefault,f[T.Text]=w.isMore,f),schema:[{type:"input-number",name:"value",label:"最小值"}]},{label:"手机号码",name:"isPhoneNumber",group:x.Pattern,message:"请输入合法的手机号码",tag:(g={},g[T.Text]=w.isMore,g)},{label:"电话号码",name:"isTelNumber",group:x.Pattern,message:"请输入合法的电话号码",tag:(b={},b[T.Text]=w.isMore,b)},{label:"邮编号码",name:"isZipcode",group:x.Pattern,message:"请输入合法的邮编地址",tag:(v={},v[T.Text]=w.isMore,v)},{label:"身份证号码",name:"isId",group:x.Pattern,message:"请输入合法的身份证号",tag:(y={},y[T.Text]=w.isMore,y)},{label:"JSON格式",name:"isJson",group:x.Pattern,message:"请检查 Json 格式",tag:(_={},_[T.Text]=w.isMore,_)},{label:"与指定值相同",name:"equals",group:x.Others,message:"输入的数据与 $1 不一致",tag:(S={},S[T.All]=w.isMore,S[T.Password]=w.isDefault,S),schema:[{type:"input-text",name:"value",label:"值内容"}]},{label:"与指定字段值相同",name:"equalsField",group:x.Others,message:"输入的数据与 $1 值不一致",tag:(C={},C[T.All]=w.isMore,C[T.Password]=w.isDefault,C),schema:[{type:"input-text",name:"value",label:"字段名"}]}],Array(5).fill(null).map((function(e,t){var a,n=0===t?"":t;return{label:"自定义正则"+n,name:"matchRegexp"+n,group:x.Regex,message:"格式不正确, 请输入符合规则为 `$1` 的内容。",tag:(a={},a[T.All]=w.isMore,a),schema:[{type:"input-text",name:"value",label:"表达式",placeholder:"请输入Js正则",prefix:"/",suffix:"/"}]}})),!1))},5610:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultDNDMode=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(8425)),o=a(9703),r=function(){function e(e,t){this.dnd=e,this.region=t,this.exchangeX=0,this.exchangeY=0,this.dndContainer=this.dnd.store.getDoc().querySelector('[data-region="'.concat(t.region,'"][data-region-host="').concat(t.id,'"]'))}return e.prototype.enter=function(e,t){var a=this.dnd.dragElement;if(a&&a.closest("[data-region]")===this.dndContainer){var n=Array.isArray(this.region.schema)?this.region.schema:[],l=this.getChild(this.dndContainer,a),r=a.getAttribute("data-editor-id"),s=(0,i.default)(n,(function(e){return e.$$id===r}));~s&&n[s+1]&&(this.dropBeforeId=n[s+1].$$id),this.dndContainer.insertBefore(t,l);var d=a.outerHTML.replace("ae-is-draging","").replace(/\bdata\-editor\-id=(?:'.+?'|".+?")/g,"");t.innerHTML=d}else{var c=this.dnd.manager,p=c.store;(0,o.renderThumbToGhost)(t,this.region,p.dragSchema,c),this.dndContainer.appendChild(t)}},e.prototype.leave=function(e,t){this.dndContainer.removeChild(t)},e.prototype.over=function(e,t){var a,n,o=this.getTarget(e),r=this.dndContainer,s=this.region.schema,d=Array.isArray(s)?s:[],c=e.clientX-this.exchangeX,p=e.clientY-this.exchangeY;if(Math.abs(p),Math.abs(c),o&&!l.animation.animating){var u=o.getAttribute("data-editor-id"),m=this.getChild(r,o),h=(0,i.default)(d,(function(e){return e.$$id===u})),f=Array.prototype.indexOf.call(r.children,t),g=Array.prototype.indexOf.call(r.children,m);~f&&f>g&&(!this.exchangeY||p<0||c<0)?(this.exchangeX=e.clientX,this.exchangeY=e.clientY,this.dropBeforeId=null===(a=d[h])||void 0===a?void 0:a.$$id,f!==g-1&&(l.animation.capture(r),r.insertBefore(t,m),l.animation.animateAll())):~f&&f<g&&(!this.exchangeY||p>0||c>0)&&(this.exchangeX=e.clientX,this.exchangeY=e.clientY,d[h+1]?this.dropBeforeId=null===(n=d[h+1])||void 0===n?void 0:n.$$id:delete this.dropBeforeId,f!==g+1&&(l.animation.capture(r),r.insertBefore(t,m.nextSibling),l.animation.animateAll()))}t.parentNode!==r&&(delete this.dropBeforeId,l.animation.capture(r),r.appendChild(t),l.animation.animateAll())},e.prototype.getDropBeforeId=function(){return this.dropBeforeId},e.prototype.getTarget=function(e){for(var t,a,n=e.target.closest("[data-editor-id]");n;){if((null===(t=n.parentElement)||void 0===t?void 0:t.closest("[data-region]"))===this.dndContainer)return"grid"===n.getAttribute("data-renderer")?n.parentElement:n;n=(null===(a=n.parentElement)||void 0===a?void 0:a.closest("[data-editor-id]"))||null}return null},e.prototype.getChild=function(e,t){for(var a=t;a&&a.parentElement!==e;)a=a.parentElement;return a},e.prototype.dispose=function(){},e}();t.DefaultDNDMode=r},6162:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EditorDNDManager=void 0;var n=a(752),l=n.__importDefault(a(6918)),i=a(2717),o=a(3570),r=a(5610),s=a(8772),d=function(){function e(e,t){this.manager=e,this.store=t,this.toDispose=[],this.dragEnterCount=0,this.lastX=0,this.lastY=0,this.lastMoveAt=0,this.toDispose.push((0,o.reactionWithOldValue)((function(){return"schema"===t.dragType?t.dragId:""}),this.updateDragElements),(0,o.reactionWithOldValue)((function(){return{id:t.dropId,region:t.dropRegion}}),this.updateDropRegion),(0,o.reactionWithOldValue)((function(){return{id:t.planDropId,region:t.planDropRegion}}),this.updatePlanDropRegion)),this.dragGhost=document.createElement("div"),this.dragGhost.classList.add("ae-DragGhost"),this.dragGhost.classList.add("is-ghost")}return e.prototype.createDragImage=function(e,t){var a=document.createElement("div");return a.classList.add("ae-DragImage"),a.innerHTML="<span>".concat(t.label,"</span>"),document.body.appendChild(a),this.dragImage=a,a},e.prototype.disposeDragImage=function(){var e,t=this.dragImage;null===(e=null==t?void 0:t.parentElement)||void 0===e||e.removeChild(t),delete this.dragImage},e.prototype.switchToRegion=function(e,t,a){var n,l,i,o=this.store;if(!t||!a||o.dropId===t&&o.dropRegion===a)return!1;var r=o.getNodeById(t,a),s=r.regionInfo,d=o.dragSchema;if(!1===(null===(n=null==s?void 0:s.accept)||void 0===n?void 0:n.call(s,d)))return!1;var c={mode:o.dragMode,sourceType:o.dragType,sourceId:o.dragId,data:o.dragSchema,targetId:t,targetRegion:a};return!this.manager.trigger("dnd-accept",c).prevented&&(null===(l=this.dndMode)||void 0===l||l.leave(e,this.dragGhost),null===(i=this.dndMode)||void 0===i||i.dispose(),o.setDropId(t,a),this.makeDNDModeInstance(r),this.dndMode.enter(e,this.dragGhost),!0)},e.prototype.makeDNDModeInstance=function(e){var t;if(!e||!(0,i.isAlive)(e))return this.dndMode||null;var a=null===(t=e.regionInfo)||void 0===t?void 0:t.dndMode,n=r.DefaultDNDMode;return"position-h"===a&&(n=s.PositionHDNDMode),this.dndMode=new n(this,e),this.dndMode},e.prototype.startDrag=function(e,t){var a,n=this,l=this.store.getNodeById(e),i=this.store.getDoc().querySelector('[data-editor-id="'.concat(e,'"]'));l&&i?(this.dragElement=i,t.dataTransfer.effectAllowed="move",t.dataTransfer.setDragImage(this.createDragImage(e,l),0,0),t.dataTransfer.setData("dnd/ae-node-".concat(e).toLowerCase(),""),null===(a=t.target)||void 0===a||a.addEventListener("dragend",this.dragEnd),setTimeout((function(){n.store.setDragId(e);var a=l.parent;n.switchToRegion(t,a.id,a.region)}),4)):t.preventDefault()},e.prototype.dragEnter=function(e){var t=this.store;if(this.dragEnterCount++,!t.dragId&&1===this.dragEnterCount)for(var a=e.dataTransfer.types,n=a.length-1;n>=0;n--)if(/^dnd-dom\/(.*)$/.test(a[n])){var l=RegExp.$1,i=document.querySelector(l);if(i){i.addEventListener("dragend",this.dragEnd);var o=i.getAttribute("data-dnd-id"),r=i.getAttribute("data-dnd-type"),s=i.getAttribute("data-dnd-data"),d=s?JSON.parse(s):{type:"tpl",tpl:"Unknown"};t.setDragId(o,"copy",r,d);var c=t.activeContainerId;if(c){var p=t.getNodeById(c);(null==p?void 0:p.childRegions.length)&&this.switchToRegion(e,p.id,p.childRegions[0].region)}break}}},e.prototype.dragOver=function(e){var t=this.store,a=e.target;if(t.dropId&&a){e.preventDefault();var n=e.clientX-this.lastX,l=e.clientY-this.lastY,i=Math.max(Math.abs(n),Math.abs(l)),o=Date.now();if(i<5){var r=a.closest("[data-region][data-region-host]"),s=null==r?void 0:r.getAttribute("data-region-host"),d=null==r?void 0:r.getAttribute("data-region");if(!r||s===t.dropId)return;o-this.lastMoveAt>200&&d&&s&&this.switchToRegion(e,s,d)}else{t.setPlanDropId("",""),this.lastMoveAt=o,this.lastX=e.clientX,this.lastY=e.clientY;var c=a.closest('[data-region][data-region-host="'.concat(t.dropId,'"]')),p=null==c?void 0:c.getAttribute("data-region");p&&p!==t.dropRegion&&this.switchToRegion(e,t.dropId,p),this.dndMode.over(e,this.dragGhost)}}},e.prototype.drop=function(e){return n.__awaiter(this,void 0,void 0,(function(){var e,t,a,i,o,r;return n.__generator(this,(function(n){switch(n.label){case 0:return e=this.store,t=this.dndMode.getDropBeforeId(),"move"!==e.dragMode?[3,1]:(this.manager.move(e.dropId,e.dropRegion,e.dragId,t),[3,4]);case 1:return"copy"!==e.dragMode?[3,4]:(a=e.dragSchema,i=e.dropId,o=e.dropRegion,r=void 0,"subrenderer"!==e.dragType?[3,3]:(null==(r=(0,l.default)(e.subRenderers,(function(t){return t.id===e.dragId})))?void 0:r.scaffoldForm)?[4,this.manager.scaffold(r.scaffoldForm,a)]:[3,3]);case 2:a=n.sent(),n.label=3;case 3:this.manager.addChild(i,o,a,t,r,{id:e.dragId,type:e.dragType,data:e.dragSchema}),n.label=4;case 4:return[2]}}))}))},e.prototype.dragLeave=function(e){this.dragEnterCount--},e.prototype.dragEnd=function(e){var t,a;null===(t=e.target)||void 0===t||t.removeEventListener("dragend",this.dragEnd),null===(a=this.dndMode)||void 0===a||a.leave(e,this.dragGhost),delete this.dndMode,this.dragGhost.innerHTML="",this.store.setDragId(""),this.store.setDropId(""),this.disposeDragImage(),this.dragEnterCount=0},e.prototype.updateDragElements=function(e){e?[].slice.call(this.store.getDoc().querySelectorAll('[data-editor-id="'.concat(e,'"]'))).forEach((function(e){return e.classList.add("ae-is-draging")})):[].slice.call(this.store.getDoc().querySelectorAll(".ae-is-draging")).forEach((function(e){return e.classList.remove("ae-is-draging")}))},e.prototype.updateDropRegion=function(e,t){var a,n;(null==t?void 0:t.id)&&t.region&&(null===(a=this.store.getDoc().querySelector('[data-region="'.concat(t.region,'"][data-region-host="').concat(t.id,'"]')))||void 0===a||a.classList.remove("is-dragenter")),e.id&&e.region&&(null===(n=this.store.getDoc().querySelector('[data-region="'.concat(e.region,'"][data-region-host="').concat(e.id,'"]')))||void 0===n||n.classList.add("is-dragenter"))},e.prototype.updatePlanDropRegion=function(e,t){var a,n;(null==t?void 0:t.id)&&t.region&&(null===(a=this.store.getDoc().querySelector('[data-region="'.concat(t.region,'"][data-region-host="').concat(t.id,'"]')))||void 0===a||a.classList.remove("is-entering")),e.id&&e.region&&(null===(n=this.store.getDoc().querySelector('[data-region="'.concat(e.region,'"][data-region-host="').concat(e.id,'"]')))||void 0===n||n.classList.add("is-entering"))},e.prototype.dispose=function(){this.disposeDragImage(),this.toDispose.forEach((function(e){return e()})),this.toDispose=[]},n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[DragEvent]),n.__metadata("design:returntype",void 0)],e.prototype,"dragEnter",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[DragEvent]),n.__metadata("design:returntype",void 0)],e.prototype,"dragOver",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[DragEvent]),n.__metadata("design:returntype",Promise)],e.prototype,"drop",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[DragEvent]),n.__metadata("design:returntype",void 0)],e.prototype,"dragLeave",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[DragEvent]),n.__metadata("design:returntype",void 0)],e.prototype,"dragEnd",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[String]),n.__metadata("design:returntype",void 0)],e.prototype,"updateDragElements",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object,Object]),n.__metadata("design:returntype",void 0)],e.prototype,"updateDropRegion",null),n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object,Object]),n.__metadata("design:returntype",void 0)],e.prototype,"updatePlanDropRegion",null),e}();t.EditorDNDManager=d},8772:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PositionHDNDMode=void 0;var n=a(752),l=n.__importDefault(a(8425)),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.enter=function(e,t){t.innerHTML="",t.classList.add("use-position"),t.classList.add("is-horizontal");var a=this.dnd.dragElement,n=this.dndContainer.getBoundingClientRect(),i=Array.isArray(this.region.schema)?this.region.schema:[];if(a&&a.closest("[data-region]")===this.dndContainer){var o=a.getAttribute("data-editor-id"),r=(0,l.default)(i,(function(e){return e.$$id===o}));if(~r&&i[r+1]&&(this.dropBeforeId=i[r+1].$$id),a.nextElementSibling){var s=a.nextElementSibling.getBoundingClientRect();t.style.cssText+="top: 0; left: ".concat(s.x-n.x,"px;")}else t.style.cssText+="top: 0; left: 100%;"}else t.style.cssText+="top: 0; left: -999999%;";this.dndContainer.appendChild(t)},t.prototype.leave=function(e,t){t.classList.remove("use-position"),t.classList.remove("is-horizontal")},t.prototype.over=function(e,t){var a,n,l=this.getTarget(e);if(l){if("table"===(null===(a=this.dndContainer)||void 0===a?void 0:a.getAttribute("data-renderer"))){var i=null===(n=l.parentElement)||void 0===n?void 0:n.closest("th[data-editor-id], td[data-editor-id]");i&&this.dndContainer.contains(i)&&(l=i)}var o=this.dndContainer.getBoundingClientRect(),r=(Array.isArray(this.region.schema)&&this.region.schema,l.getBoundingClientRect());l.nextElementSibling&&l.nextElementSibling.hasAttribute("data-editor-id")?(t.style.cssText+="left: ".concat(r.x-o.x,"px;"),this.dropBeforeId=l.getAttribute("data-editor-id")):e.clientX>r.x+r.width/2?(t.style.cssText+="top: 0; left: ".concat(r.right-o.x,"px;"),delete this.dropBeforeId):(t.style.cssText+="left: ".concat(r.x-o.x,"px;"),this.dropBeforeId=l.getAttribute("data-editor-id"))}},t}(a(5610).DefaultDNDMode);t.PositionHDNDMode=i},5951:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.env=void 0;var n=a(752),l=a(9794),i=n.__importDefault(a(2167)),o=a(1502);t.env={updateLocation:function(){},jumpTo:function(){o.toast.info("温馨提示：预览模式下禁止跳转")},fetcher:function(e){var t=e.url,a=e.method,o=e.data,r=e.config;return n.__awaiter(void 0,void 0,void 0,(function(){var e;return n.__generator(this,(function(n){switch(n.label){case 0:return(r=r||{}).url=t,r.withCredentials=!0,r.cancelExecutor&&(r.cancelToken=new i.default.CancelToken(r.cancelExecutor)),r.headers=r.headers||{},r.method=a,r.data=o,"get"===a&&o?r.params=o:o&&o instanceof FormData||!o||"string"==typeof o||o instanceof Blob||o instanceof ArrayBuffer||(o=JSON.stringify(o),r.headers["Content-Type"]="application/json"),[4,(0,i.default)(r)];case 1:return e=n.sent(),[4,(0,l.attachmentAdpator)(e,(function(e){return""}))];case 2:return[2,e=n.sent()]}}))}))},isCancel:function(e){return i.default.isCancel(e)},alert:o.alert,confirm:o.confirm,notify:function(e,t){o.toast[e]?o.toast[e](t,"error"===e?"系统错误":"系统消息"):console.warn("[Notify]",e,t)}}},427:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(9003)),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e,t,a=this.props,o=a.actionConfigItems,r=a.data,s=a.onBulkChange,d=a.render,c=a.actions,p=["component","openPage"].includes(r.actionType),u=p?r.__cmptActionType:r.actionType,m=void 0;return"component"===r.actionType&&(m=null===(t=null===(e=null==c?void 0:c[r.__rendererName])||void 0===e?void 0:e.find((function(e){return e.actionType===u})))||void 0===t?void 0:t.schema),m||(m=n.__assign({},o[u]).schema),m?d("inner",m,{data:r,onChange:function(e,t){var a;s(((a={})[t]=e,a))}}):r.__showSelectCmpt||p?l.default.createElement(l.default.Fragment,null):l.default.createElement("div",{className:(0,i.default)("ae-event-control-action-placeholder",{"no-settings":u})},l.default.createElement("div",{className:"ae-event-control-action-placeholder-img"}),l.default.createElement("span",null,u?"无配置内容":"请选择执行动作"))},t}(l.default.Component);t.default=o},2295:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=[{actionLabel:"页面",actionType:"page",children:[{actionLabel:"打开页面",actionType:"openPage",description:"打开/跳转至指定页面"},{actionLabel:"刷新页面",actionType:"refresh",description:"触发浏览器刷新页面"},{actionLabel:"回退页面",actionType:"goBack",description:"浏览器回退"}]},{actionLabel:"弹框消息",actionType:"form",children:[{actionLabel:"打开弹窗",actionType:"dialog",description:"打开弹框，弹窗内支持复杂的交互设计"},{actionLabel:"关闭弹窗",actionType:"closeDialog",description:"关闭当前弹窗"},{actionLabel:"打开抽屉",actionType:"drawer",description:"打开抽屉，抽屉内支持复杂的交互设计"},{actionLabel:"关闭抽屉",actionType:"closeDrawer",description:"关闭当前抽屉"},{actionLabel:"消息提醒",actionType:"toast",description:"弹出消息提醒"}]},{actionLabel:"表单",actionType:"form",children:[{actionLabel:"提交表单",actionType:"submit",description:"提交表单数据至数据源"},{actionLabel:"清空表单",actionType:"clear",description:"清空表单数据"},{actionLabel:"重置表单",actionType:"reset",description:"重置表单数据"},{actionLabel:"校验表单",actionType:"validate",description:"校验表单数据"}]},{actionLabel:"服务",actionType:"service",children:[{actionLabel:"发送请求",actionType:"ajax",description:"配置并发送API请求"},{actionLabel:"下载文件",actionType:"download",description:"触发下载文件"}]},{actionLabel:"组件",actionType:"cmpt",children:[{actionLabel:"刷新组件",actionType:"reload",description:"请求并重新加载所选组件的数据"},{actionLabel:"显示组件",actionType:"show",description:"显示所选的组件"},{actionLabel:"隐藏组件",actionType:"hidden",description:"隐藏所选的组件"},{actionLabel:"启用组件",actionType:"enabled",description:"启用所选的组件"},{actionLabel:"禁用组件",actionType:"disabled",description:"禁用所选的组件"},{actionLabel:"设置组件数据",actionType:"setValue",description:"修改所选组件的数据值"},{actionLabel:"组件特性动作",actionType:"component",description:"触发所选组件的特性动作"}]},{actionLabel:"其他",actionType:"others",children:[{actionLabel:"复制内容",actionType:"copy",description:"复制文本内容至粘贴板"},{actionLabel:"自定义JS",actionType:"custom",description:"通过JavaScript自定义动作逻辑"}]}]},9554:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BASE_ACTION_PROPS=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689));t.BASE_ACTION_PROPS=["actionType","__actionDesc","preventDefault","stopPropagation","expression","outputVar"];var o=function(e){function a(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(a,e),a.prototype.onChange=function(e){var a=this.props.formStore,l={};Object.keys(a.data).forEach((function(e){n.__spreadArray(n.__spreadArray([],t.BASE_ACTION_PROPS,!0),["componentId","__rendererName","__rendererLabel","__componentTreeSource","__showSelectCmpt"],!1).includes(e)||(l[e]=void 0)})),a.setValues(n.__assign(n.__assign({},l),{args:void 0,__cmptActionType:e.value,__cmptActionDesc:e.description})),this.props.onChange(e.value)},a.prototype.render=function(){var e=this.props,t=e.data,a=e.formStore,n=e.pluginActions[t.__rendererName]||[];return i.default.createElement(l.Select,{value:a.data.__cmptActionType,className:"cmpt-action-select",options:n.map((function(e){return{label:e.actionLabel,value:e.actionType,description:e.description}})),onChange:this.onChange.bind(this),clearable:!1})},a}(i.default.Component);t.default=o},1529:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.COMMON_ACTION_SCHEMA_MAP=t.SUPPORT_DISABLED_CMPTS=t.FORMITEM_CMPTS=t.getComboWrapper=t.IS_DATA_CONTAINER=t.DATA_CONTAINER=void 0;var n=a(752).__importDefault(a(6689)),l=a(9547),i={info:"提示",warning:"警告",success:"成功",error:"错误"};t.DATA_CONTAINER=["form","dialog","drawer","wizard","service","page","app","chart"],t.IS_DATA_CONTAINER="".concat(JSON.stringify(t.DATA_CONTAINER),".includes(__rendererName)"),t.getComboWrapper=function(e,t){return void 0===t&&(t=!1),{type:"combo",name:"args",multiple:t,strictMode:!1,items:Array.isArray(e)?e:[e]}},t.FORMITEM_CMPTS=["button-group-select","button-toolbar","chained-select","chart-radios","checkbox","checkboxes","combo","input-kv","condition-builder","diff-editor","editor","formula","hidden","icon-picker","input-array","input-city","input-color","input-date","input-date-range","input-datetime-range","input-time-range","input-excel","input-file","input-formula","input-group","input-image","input-month-range","input-number","input-quarter-range","input-range","input-rating","input-repeat","input-rich-text","input-sub-form","input-table","input-tag","input-text","input-password","input-email","input-url","native-date","native-time","native-number","input-tree","input-year-range","list-select","location-picker","matrix-checkboxes","nested-select","cascader-select","picker","radios","select","multi-select","switch","tabs-transfer","tabs-transfer-picker","textarea","transfer","transfer-picker","tree-select","uuid"],t.SUPPORT_DISABLED_CMPTS=["button-group","action","button","submit","reset","collapse","container","dropdown-button","flex","flex-item","grid","grid-2d","link","nav","wizard"],t.COMMON_ACTION_SCHEMA_MAP={url:{config:["url","params","blank"],desc:function(e){var t;return n.default.createElement("div",null,"跳转至",n.default.createElement("span",{className:"variable-left"},null===(t=null==e?void 0:e.args)||void 0===t?void 0:t.url))},schema:(0,t.getComboWrapper)([{type:"wrapper",className:"p-none",body:[{label:"页面地址",type:"input-formula",variables:"${variables}",evalMode:!1,variableMode:"tabs",inputMode:"input-group",name:"url",placeholder:"http://",mode:"horizontal",size:"lg",required:!0},{type:"combo",name:"params",label:"页面参数",multiple:!0,mode:"horizontal",items:[{name:"key",placeholder:"参数名",type:"input-text",mode:"inline",size:"xs"},{name:"val",placeholder:"参数值",type:"input-formula",variables:"${variables}",evalMode:!1,variableMode:"tabs",inputMode:"input-group",size:"xs"}]},{type:"switch",name:"blank",label:"新窗口打开",onText:"是",offText:"否",mode:"horizontal",pipeIn:(0,l.defaultValue)(!0)}]}])},custom:{schema:{type:"js-editor",allowFullscreen:!0,required:!0,name:"script",label:"自定义JS",mode:"horizontal",className:"ae-event-control-action-js-editor",value:"/* 自定义JS使用说明： \n * 1.动作执行函数doAction，可以执行所有类型的动作\n * 2.通过上下文对象context可以获取当前组件实例，例如context.props可以获取该组件相关属性\n * 3.事件对象event，在doAction之后执行event.stopPropagation = true;可以阻止后续动作执行\n*/\nconst myMsg = '我是自定义JS';\ndoAction({\n  actionType: 'toast',\n  args: {\n    msg: myMsg\n  }\n});\n"}},toast:{config:["title","msgType","msg","position","timeout","closeButton","showIcon"],desc:function(e){var t,a;return n.default.createElement("div",null,n.default.createElement("span",{className:"variable-right"},i[null===(t=null==e?void 0:e.args)||void 0===t?void 0:t.msgType]||""),"消息提醒：",n.default.createElement("span",{className:"variable-left"},null===(a=null==e?void 0:e.args)||void 0===a?void 0:a.msg))},schema:(0,t.getComboWrapper)({type:"wrapper",className:"p-none",body:[{type:"button-group-select",name:"msgType",label:"消息类型",value:"info",required:!0,mode:"horizontal",options:Object.keys(i).map((function(e){return{label:i[e],value:e,level:"default"}}))},{name:"msg",label:"消息内容",mode:"horizontal",type:"input-formula",variables:"${variables}",evalMode:!1,variableMode:"tabs",inputMode:"input-group",size:"lg",required:!0},{name:"title",type:"input-formula",variables:"${variables}",evalMode:!1,variableMode:"tabs",inputMode:"input-group",label:"标题内容",size:"lg",mode:"horizontal"},{name:"timeout",type:"input-formula",variables:"${variables}",evalMode:!1,variableMode:"tabs",inputMode:"input-group",label:"持续时间(ms)",size:"lg",mode:"horizontal"},{type:"button-group-select",name:"position",value:"top-right",mode:"horizontal",label:"显示位置",options:[{label:"左上",value:"top-left"},{label:"中上",value:"top-center"},{label:"右上",value:"top-right"},{label:"左下",value:"bottom-left"},{label:"中下",value:"bottom-center"},{label:"右下",value:"bottom-right"}]},{type:"switch",name:"closeButton",value:!0,label:"展示关闭按钮",mode:"horizontal"},{type:"switch",name:"showIcon",value:!0,label:"展示图标",mode:"horizontal"}]})},setValue:{config:["value","valueInput"],withComponentId:!0,desc:function(e){return n.default.createElement("div",null,"设置",n.default.createElement("span",{className:"variable-left variable-right"},null==e?void 0:e.__rendererLabel),"的数据")},schema:(0,t.getComboWrapper)({type:"wrapper",className:"p-none",body:[{type:"combo",name:"value",label:"字段赋值",multiple:!0,removable:!0,required:!0,addable:!0,strictMode:!1,canAccessSuperData:!0,mode:"horizontal",items:[{name:"key",type:"input-text",placeholder:"字段名",required:!0},{name:"val",type:"input-formula",placeholder:"字段值",variables:"${variables}",evalMode:!1,variableMode:"tabs",inputMode:"input-group"}],visibleOn:"data.__rendererName && ".concat(t.IS_DATA_CONTAINER)},{type:"combo",name:"value",label:"字段赋值",multiple:!0,removable:!0,required:!0,addable:!0,strictMode:!1,canAccessSuperData:!0,mode:"horizontal",items:[{type:"combo",name:"item",label:!1,renderLabel:!1,multiple:!0,removable:!0,required:!0,addable:!0,strictMode:!1,canAccessSuperData:!0,className:"m-l",mode:"horizontal",items:[{name:"key",type:"input-text",required:!0},{name:"val",type:"input-formula",variables:"${variables}",evalMode:!1,variableMode:"tabs",inputMode:"input-group"}]}],visibleOn:"data.__rendererName && __rendererName === 'combo'"},{name:"valueInput",type:"input-formula",variables:"${variables}",evalMode:!1,variableMode:"tabs",inputMode:"input-group",label:"数据值",size:"lg",mode:"horizontal",visibleOn:"data.__rendererName && !".concat(t.IS_DATA_CONTAINER," && __rendererName !== 'combo'"),required:!0}]})},broadcast:{schema:{type:"wrapper",className:"p-none",body:[{type:"input-text",name:"eventName",label:"广播标识",mode:"horizontal",required:!0,description:"广播事件标识派发出去后，其他组件可以进行监听并作出响应"},{type:"input-text",label:"广播名称",name:"eventLabel",mode:"horizontal",required:!0},{type:"textarea",label:"描述",name:"description",mode:"horizontal",required:!0}]}},copy:{config:["content","copyFormat"],desc:function(e){var t;return n.default.createElement("div",null,"复制内容：",n.default.createElement("span",{className:"variable-left"},null===(t=null==e?void 0:e.args)||void 0===t?void 0:t.content))},schema:(0,t.getComboWrapper)({type:"wrapper",className:"p-none",body:[{name:"content",type:"input-formula",variables:"${variables}",evalMode:!1,variableMode:"tabs",inputMode:"input-group",label:"内容模板",mode:"horizontal",size:"lg",required:!0},{type:"select",name:"copyFormat",mode:"horizontal",value:"text/plain",size:"lg",options:[{label:"纯文本",value:"text/plain"},{label:"富文本",value:"text/html"}],label:"复制格式"}]})},refresh:{desc:function(e){return n.default.createElement("div",null,"刷新页面")}},goBack:{desc:function(e){return n.default.createElement("div",null,"返回上一页")}},alert:{desc:function(e){return n.default.createElement("div",null,"打开提示对话框")}},confirm:{desc:function(e){return n.default.createElement("div",null,"打开确认对话框")}},reload:{withComponentId:!0,desc:function(e){return n.default.createElement("div",null,"刷新",n.default.createElement("span",{className:"variable-left variable-right"},null==e?void 0:e.__rendererLabel),"组件")}},show:{withComponentId:!0,desc:function(e){return n.default.createElement("div",null,"显示",n.default.createElement("span",{className:"variable-left variable-right"},null==e?void 0:e.__rendererLabel),"组件")}},hidden:{withComponentId:!0,desc:function(e){return n.default.createElement("div",null,"隐藏",n.default.createElement("span",{className:"variable-left variable-right"},null==e?void 0:e.__rendererLabel),"组件")}},enabled:{withComponentId:!0,desc:function(e){return n.default.createElement("div",null,"启用",n.default.createElement("span",{className:"variable-left variable-right"},null==e?void 0:e.__rendererLabel),"组件")}},disabled:{withComponentId:!0,desc:function(e){return n.default.createElement("div",null,"禁用",n.default.createElement("span",{className:"variable-left variable-right"},null==e?void 0:e.__rendererLabel),"组件")}},clear:{withComponentId:!0,desc:function(e){return n.default.createElement("div",null,n.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"清空")}},reset:{withComponentId:!0,desc:function(e){return n.default.createElement("div",null,n.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"重置")}},focus:{desc:function(e){return n.default.createElement("div",null,n.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"获取焦点")}},prev:{desc:function(e){return n.default.createElement("div",null,n.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"carousel"===(null==e?void 0:e.__rendererName)?"滚动至上一张":null,"wizard"===(null==e?void 0:e.__rendererName)?"返回前一步":null)}},next:{desc:function(e){return n.default.createElement("div",null,n.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"carousel"===(null==e?void 0:e.__rendererName)?"滚动至下一张":null,"wizard"===(null==e?void 0:e.__rendererName)?"提交当前步骤数据":null)}},submit:{withComponentId:!0,desc:function(e){return n.default.createElement("div",null,n.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"form"===(null==e?void 0:e.__rendererName)?"提交":null,"wizard"===(null==e?void 0:e.__rendererName)?"提交全部数据":null)}},validate:{withComponentId:!0,desc:function(e){return n.default.createElement("div",null,n.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"校验")}},collapse:{desc:function(e){return n.default.createElement("div",null,n.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"收起")}},selectAll:{desc:function(e){return n.default.createElement("div",null,n.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"选中所有选项")}}}},5498:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentTreeByType=t.getActionLabel=t.getEventDesc=t.getEventLabel=t.EventControlRenderer=t.EventControl=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(6405),o=n.__importDefault(a(9003)),r=n.__importDefault(a(35)),s=a(1502),d=a(9794),c=n.__importStar(a(9554)),p=n.__importDefault(a(427)),u=a(1529),m=a(9547),h=function(e){function a(t){var a=e.call(this,t)||this;a.eventPanelSortMap={};var l=t.events,i=t.actionConfigItemsMap,o=t.value,r=t.data,s={},d=l[r.type]||[];return d.forEach((function(e){s[e.eventName]=!0})),a.isUnmount=!1,a.state={onEvent:null!=o?o:a.generateEmptyDefault(d),events:d,eventPanelActive:s,showAcionDialog:!1,actionData:void 0,rawVariables:[],type:"add",actionConfigItems:n.__assign(n.__assign({},u.COMMON_ACTION_SCHEMA_MAP),i)},a}return n.__extends(a,e),a.prototype.componentDidMount=function(){this.loadContextVariables()},a.prototype.componentDidUpdate=function(e,t){var a=this.props,n=a.value,l=a.onChange;n!==e.value&&this.setState({onEvent:n}),t.onEvent!==this.state.onEvent&&l&&l(this.state.onEvent)},a.prototype.componentWillUnmount=function(){this.isUnmount=!0},a.prototype.loadContextVariables=function(){return n.__awaiter(this,void 0,void 0,(function(){var e,t,a;return n.__generator(this,(function(n){switch(n.label){case 0:return(e=this.props.getContextSchemas)?[4,e()]:[3,2];case 1:t=n.sent(),a=null==t?void 0:t.getDataPropsAsOptions(),this.isUnmount||this.setState({rawVariables:a}),n.label=2;case 2:return[2]}}))}))},a.prototype.generateEmptyDefault=function(e){var t={};return e.forEach((function(e){e.defaultShow&&(t["".concat(e.eventName)]={__isBroadcast:!!e.isBroadcast,weight:0,actions:[]})})),Object.keys(t).length?t:{}},a.prototype.addEvent=function(e){var t=this.props.onChange,a=n.__assign({},this.state.onEvent);a["".concat(e.eventName)]||(a["".concat(e.eventName)]={__isBroadcast:!!e.isBroadcast,weight:0,actions:[]},this.setState({onEvent:a}),t&&t(a))},a.prototype.delEvent=function(e){var t=this.props.onChange,a=n.__assign({},this.state.onEvent);delete a[e],this.setState({onEvent:a}),t&&t(a)},a.prototype.addAction=function(e,t){var a=this.props,l=a.addBroadcast,i=a.owner,o=this.state,r=o.onEvent,s=o.eventPanelActive,d=n.__assign({},r),c=n.__assign({},s);"broadcast"===t.actionType&&"function"==typeof l&&l({owner:i,isBroadcast:!0,eventName:t.eventName,eventLabel:t.eventLabel,description:t.description}),c[e]=!0,d[e]={actions:d[e].actions.concat(t),weight:r[e].weight},this.setState({onEvent:d,eventPanelActive:c}),this.initDragging(),this.props.onChange&&this.props.onChange(d)},a.prototype.updateAction=function(e,t,a){this.updateValue(e,t,a)},a.prototype.delAction=function(e,t,a){var l,i=this.state,o=i.onEvent,r=i.eventPanelActive,s=this.props.removeBroadcast,d=n.__assign({},o),c=n.__assign({},r);"broadcast"===t.actionType&&"function"==typeof s&&s(t.eventName),d[e]={actions:d[e].actions.filter((function(e,t){return a!==t})),weight:o[e].weight},d[e].actions.length<1&&(c[e]=!1,this.setState({eventPanelActive:c}),null===(l=this.eventPanelSortMap[e])||void 0===l||l.destroy()),this.setState({onEvent:d}),this.props.onChange&&this.props.onChange(d)},a.prototype.toggleActivePanel=function(e){var t,a=this,n=this.state.eventPanelActive;n[e]=!n[e],n[e]||null===(t=this.eventPanelSortMap[e])||void 0===t||t.destroy(),this.setState({eventPanelActive:n},(function(){a.initDragging()}))},a.prototype.updateWeight=function(e,t){var a=this.state.onEvent,l=n.__assign({},a);l[e]=n.__assign(n.__assign({},l[e]),{weight:t.weight||0}),this.setState({onEvent:l})},a.prototype.updateValue=function(e,t,a){var l=this.state.onEvent,i=n.__assign({},l);i[e]={actions:l[e].actions.map((function(e,l){return l===t?"string"==typeof a?n.__assign(n.__assign({},e),{actionType:a}):a:e})),weight:l[e].weight},this.setState({onEvent:i}),this.props.onChange&&this.props.onChange(i)},a.prototype.submitConfig=function(e,a){var l,i,o,r,s,d,c=this.props,p=(c.actions,c.actionTree),u=n.__assign({},a);if("broadcast"===a.actionType?u.__label="广播-".concat(a.eventLabel):"component"===a.actionType?(u.__isCmptAction=!0,u.__label="联动其他组件",u.actionType=a.__cmptActionType):"openPage"===a.actionType?(u.actionType=a.__cmptActionType,u.__label="url"===u.actionType?"跳转链接":"打开页面"):u.__label=(0,t.getActionLabel)(p,a.actionType),a.addOnArgs&&(a.addOnArgs.forEach((function(e){var t,a;u.args=null!==(a=u.args)&&void 0!==a?a:{},u.args=n.__assign(n.__assign({},u.args),((t={})[e.key]=e.val,t))})),delete u.addOnArgs),["setValue","url","link"].includes(u.actionType)){var m="setValue"===u.actionType?"value":"params";if(Array.isArray(a.args[m]))if(u.args=null!==(o=u.args)&&void 0!==o?o:{},"combo"===u.__rendererName){var h=[];null===(r=a.args)||void 0===r||r[m].forEach((function(e,t){e.item.forEach((function(e){h[t]||(h[t]={}),h[t][e.key]=e.val}))})),u.args=n.__assign(n.__assign({},u.args),((l={})[m]=h,l))}else{var f={};a.args[m].forEach((function(e){f[e.key]=e.val})),u.args=n.__assign(n.__assign({},u.args),((i={})[m]=f,i))}else"setValue"===u.actionType&&(u.args=n.__assign(n.__assign({},u.args),{value:a.args.valueInput}))}else if(["ajax","download"].includes(u.actionType)&&(null===(d=null===(s=u.args)||void 0===s?void 0:s.api)||void 0===d?void 0:d.messages)){var g={};Object.entries(u.args.api).forEach((function(e){var t=e[0],a=e[1];"messages"!==t&&(g[t]=a)})),u.args=n.__assign(n.__assign({},u.args),{api:g,messages:u.args.api.messages})}delete u.config,"add"===e?this.addAction(a.eventKey,u):"update"===e&&this.updateAction(a.eventKey,a.actionIndex,u),this.setState({actionData:void 0}),this.setState({showAcionDialog:!1})},a.prototype.getComponentTreeSource=function(e){if(!e)return[];var a=this.props,n=a.actions,l=a.getComponents,i=this.state.actionConfigItems,o=l&&l()||[];return(0,t.getComponentTreeByType)(o,e,n,i)},a.prototype.renderConfig=function(e){var t=this,a=this.props,l=a.actionTree,i=a.actions,o=a.getContextSchemas,r=this.state,d=r.actionConfigItems,u=r.rawVariables;return[{type:"form",title:"",mode:"normal",wrapperComponent:"div",submitText:"保存",autoFocus:!0,preventEnterSubmit:!0,onSubmit:this.submitConfig.bind(this,e),body:[{type:"grid",className:"h-full",columns:[{body:[{type:"tpl",tpl:"执行动作",className:"action-panel-title",inline:!1},{type:"input-tree",name:"actionType",disabled:!1,options:l,showIcon:!1,className:"action-tree",mode:"normal",labelField:"actionLabel",valueField:"actionType",inputClassName:"no-border action-tree-control",autoFill:{__actionDesc:"${description}"},onChange:function(e,a,l,i){var o,r={},s="";Object.keys(i.data).forEach((function(e){c.BASE_ACTION_PROPS.includes(e)||(r[e]=void 0)})),"openPage"!==e||["url","link"].includes(s)||(s="openPage"),i.setValues(n.__assign(n.__assign({},r),{__componentTreeSource:t.getComponentTreeSource(e),__showSelectCmpt:"component"===e||(null===(o=null==d?void 0:d[e])||void 0===o?void 0:o.withComponentId),__cmptActionType:s,componentId:"",args:{}}))}}],md:3,columnClassName:"left-panel"},{body:[{type:"tpl",tpl:"动作说明",className:"action-panel-title",visibleOn:"data.actionType",inline:!1},{type:"tpl",className:"action-desc",tpl:"${__actionDesc}",visibleOn:"data.actionType"},{type:"tpl",tpl:"基础设置",className:"action-panel-title",visibleOn:"data.actionType",inline:!1},{type:"container",className:"right-panel-container",body:[{type:"tree-select",name:"componentId",label:'${actionType === "submit" || actionType === "clear" || actionType === "reset" || actionType === "validate" ? "选择表单" : "组件名称"}',showIcon:!1,searchable:!0,requiredOn:'data.actionType === "component"',selfDisabledAffectChildren:!1,size:"lg",source:"${__componentTreeSource}",mode:"horizontal",autoFill:{__rendererLabel:"${label}",__rendererName:"${type}",__nodeId:"${id}",__nodeSchema:"${schema}"},visibleOn:"data.__showSelectCmpt",onChange:function(e,a,l,i){return n.__awaiter(t,void 0,void 0,(function(){var e,t,a;return n.__generator(this,(function(l){switch(l.label){case 0:return i.data.__nodeId?[4,null==o?void 0:o(i.data.__nodeId,!0)]:[3,2];case 1:e=l.sent(),t=new s.DataSchema(e||[]),a=(null==t?void 0:t.getDataPropsAsOptions())||[],i.setValueByName("__cmptDataSchema",e),i.setValueByName("__cmptVariables",a),i.setValueByName("__cmptVariablesWithSys",n.__spreadArray([{label:"".concat(i.data.__rendererLabel,"变量"),children:a}],u.filter((function(e){return["页面变量","系统变量"].includes(e.label)})),!0)),l.label=2;case 2:return"setValue"===i.data.actionType&&(i.setValueByName("args.value",void 0),i.setValueByName("args.valueInput",void 0)),i.setValueByName("__cmptActionType",""),[2]}}))}))}},{asFormItem:!0,label:"组件动作",name:"__cmptActionType",mode:"horizontal",required:!0,visibleOn:'data.actionType === "component"',component:c.default,description:"${__cmptActionDesc}",pluginActions:i},{type:"button-group-select",label:"打开模式",name:"__cmptActionType",mode:"horizontal",value:"url",required:!0,pipeIn:(0,m.defaultValue)("url"),options:[{label:"跳转链接",value:"url"},{label:"打开页面",value:"link"}],visibleOn:'data.actionType === "openPage"'},{asFormItem:!0,component:p.default,actionConfigItems:d,actions:i},{type:"tpl",tpl:"高级设置",inline:!1,className:"action-panel-title",visibleOn:"data.actionType"},{name:"expression",title:"",type:"input-formula",variableMode:"tabs",inputMode:"input-group",variables:"${variables}",className:"action-exec-on",label:"执行条件",mode:"horizontal",size:"lg",placeholder:"不设置条件，默认执行该动作",visibleOn:"data.actionType"}]}],columnClassName:"right-panel"}]}],style:{borderStyle:"solid"},className:"action-config-panel"}]},a.prototype.dragRef=function(e){!this.drag&&e?this.initDragging():this.drag&&!e&&this.destroyDragging(),this.drag=e},a.prototype.initDragging=function(){var e=this;this.eventPanelSortMap={};var t=(0,i.findDOMNode)(this),a=this.state,n=a.onEvent,l=a.eventPanelActive,o=Array.prototype.slice.call(t.getElementsByClassName("item-content"));Object.keys(n).filter((function(e){return n[e].actions.length&&l[e]})).forEach((function(t,a){e.eventPanelSortMap[t]||(e.eventPanelSortMap[t]=e.genSortPanel(t,o[a]))}))},a.prototype.genSortPanel=function(e,t){var a=this;return new r.default(t,{group:"eventControlGroup",animation:150,handle:".ae-option-control-item-dragBar",ghostClass:"ae-option-control-item--dragging",onEnd:function(t){if(t.newIndex!==t.oldIndex){var l=t.to;t.newIndex<t.oldIndex&&t.oldIndex<l.childNodes.length-1?l.insertBefore(t.item,l.childNodes[t.oldIndex+1]):t.oldIndex<l.childNodes.length-1?l.insertBefore(t.item,l.childNodes[t.oldIndex]):l.appendChild(t.item);var i=n.__assign({},a.state.onEvent),o=i[e],r=null==o?void 0:o.actions.concat();t.oldIndex>t.newIndex?r=n.__spreadArray(n.__spreadArray(n.__spreadArray(n.__spreadArray([],r.slice(0,t.newIndex),!0),[r[t.oldIndex]],!1),r.slice(t.newIndex,t.oldIndex),!0),r.slice(t.oldIndex+1,r.length),!0):t.oldIndex<t.newIndex&&(r=n.__spreadArray(n.__spreadArray(n.__spreadArray(n.__spreadArray([],0===t.oldIndex?[]:r.slice(0,t.oldIndex),!0),r.slice(t.oldIndex+1,t.newIndex),!0),[r[t.oldIndex]],!1),r.slice(t.newIndex,r.length),!0)),i[e]=n.__assign(n.__assign({},i[e]),{actions:r}),a.setState({onEvent:i})}}})},a.prototype.destroyDragging=function(){var e=this;Object.keys(this.eventPanelSortMap).forEach((function(t){var a;null===(a=e.eventPanelSortMap[t])||void 0===a||a.destroy()}))},a.prototype.getActionType=function(e){return e.__isCmptAction?"component":["url","link"].includes(e.actionType)?"openPage":e.actionType},a.prototype.formatActionInitConfig=function(e){var t,a,l,i,o=n.__assign({},e);if(["setValue","url","link"].includes(e.actionType)&&e.args){var r="setValue"===e.actionType?"value":"params";!o.args&&(o.args={}),Array.isArray(e.args[r])?o.args[r]=e.args[r].reduce((function(e,t,a){return e[a]||(e[a]={}),e[a].item=Object.entries(t).map((function(e){return{key:e[0],val:e[1]}})),e}),[]):"object"==typeof e.args[r]?o.args[r]=Object.keys(e.args[r]).map((function(t){var a;return{key:t,val:null===(a=e.args)||void 0===a?void 0:a[r][t]}})):"setValue"===e.actionType&&"string"==typeof e.args[r]&&(o.args.valueInput=o.args.value,null===(t=o.args)||void 0===t||delete t.value)}else["ajax","download"].includes(e.actionType)&&e.args&&e.args.messages&&(e.args.api.messages=e.args.messages,delete e.args.messages);var s=this.getActionType(e),d=e.componentId?e.actionType:"";if(["url","link"].includes(e.actionType)&&(d=e.actionType),o.args){var c=null===(a=this.getAcionConfig(e))||void 0===a?void 0:a.config;if(c){var p={};o.addOnArgs=[],Object.keys(o.args).forEach((function(e){var t,a,l;c.includes(e)?p=n.__assign(n.__assign({},p),((t={})[e]=null===(l=o.args)||void 0===l?void 0:l[e],t)):o.addOnArgs=n.__spreadArray(n.__spreadArray([],o.addOnArgs,!0),[{key:e,val:null===(a=o.args)||void 0===a?void 0:a[e]}],!1)})),o.args=p}}return n.__assign(n.__assign({},o),{actionType:s,__componentTreeSource:this.getComponentTreeSource(s),__cmptActionType:d,__showSelectCmpt:"component"===s||(null===(i=null===(l=this.state.actionConfigItems)||void 0===l?void 0:l[s])||void 0===i?void 0:i.withComponentId)})},a.prototype.activeActionDialog=function(e){var t,a=this.state,l=a.events,i=a.rawVariables,o=[{label:"事件变量",children:[]}],r=l.find((function(t){return t.eventName===e.actionData.eventKey}));null===(t=null==r?void 0:r.dataSchema)||void 0===t||t.forEach((function(e){var t=new s.DataSchema(e||[]);o[0].children=n.__spreadArray(n.__spreadArray([],o[0].children,!0),t.getDataPropsAsOptions(),!0)}));var d=n.__spreadArray(n.__spreadArray([],o,!0),i,!0);"update"===e.type?e.actionData=n.__assign({eventKey:e.actionData.eventKey,actionIndex:e.actionData.actionIndex,variables:d},this.formatActionInitConfig(e.actionData.action)):e.actionData={eventKey:e.actionData.eventKey,variables:d},this.setState(e)},a.prototype.getAcionConfig=function(e){var t,a,l=this.props.actions,i=this.state.actionConfigItems,o=this.getActionType(e),r=["component","openPage"].includes(o)?e.__cmptActionType:e.actionType;return["component","openPage"].includes(o)&&(a=null===(t=l[e.__rendererName])||void 0===t?void 0:t.find((function(e){return e.actionType===r}))),n.__assign(n.__assign({},a||{}),i[e.actionType])},a.prototype.renderActionDesc=function(e){var t,a=null===(t=this.getAcionConfig(e))||void 0===t?void 0:t.desc;return"function"==typeof a?l.default.createElement("div",{className:"action-control-content"},a(e)):null},a.prototype.render=function(){var e=this,a=this.state,n=a.onEvent,i=a.events,r=a.eventPanelActive,c=a.showAcionDialog,p=a.actionData,u=a.type,m=this.props.showOldEntry,h=Object.keys(n);return l.default.createElement("div",{className:"ae-event-control"},m?l.default.createElement("header",{className:(0,o.default)({"ae-event-control-header":!0})}):null,l.default.createElement("ul",{className:"ae-event-control-content",ref:this.dragRef},h.length?h.map((function(a,d){var c;return l.default.createElement("li",{className:"event-item",key:"content_".concat(d)},l.default.createElement("div",{className:(0,o.default)({"event-item-header":!0,"no-bd-btm":!((null===(c=n[a].actions)||void 0===c?void 0:c.length)&&r[a])})},l.default.createElement(s.TooltipWrapper,{tooltipClassName:"event-item-header-tip",trigger:"hover",placement:"top",tooltip:{children:function(){return l.default.createElement("div",null,(0,t.getEventDesc)(i,a)||a)}}},l.default.createElement("div",null,(0,t.getEventLabel)(i,a)||a)),l.default.createElement("div",{className:"event-item-header-toolbar"},l.default.createElement("div",{onClick:e.activeActionDialog.bind(e,{showAcionDialog:!0,type:"add",actionData:{eventKey:a}})},l.default.createElement(s.Icon,{className:"icon",icon:"add-btn"})),l.default.createElement("div",{onClick:e.delEvent.bind(e,a)},l.default.createElement(s.Icon,{className:"icon",icon:"delete-bold-btn"})),l.default.createElement("div",{onClick:e.toggleActivePanel.bind(e,a)},r[a]?l.default.createElement(s.Icon,{className:"icon",icon:"open-btn-r"}):l.default.createElement(s.Icon,{className:"icon",icon:"close-btn"})))),n[a].actions.length&&r[a]?l.default.createElement("ul",{className:"item-content"},n[a].actions.map((function(t,n){return l.default.createElement("li",{className:"ae-option-control-item",key:n},l.default.createElement("div",{className:"action-control-header"},l.default.createElement("div",{className:"action-control-header-left"},l.default.createElement("div",{className:"ae-option-control-item-dragBar"},l.default.createElement(s.Icon,{icon:"drag-six-circle-btn",className:"icon"})),l.default.createElement("div",{className:"action-item-actiontype"},t.__label||t.actionType)),l.default.createElement("div",{className:"action-control-header-right"},l.default.createElement("div",{onClick:e.activeActionDialog.bind(e,{showAcionDialog:!0,type:"update",actionData:{action:t,eventKey:a,actionIndex:n}})},l.default.createElement(s.Icon,{className:"icon",icon:"edit-full-btn"})),l.default.createElement("div",{onClick:e.delAction.bind(e,a,t,n)},l.default.createElement(s.Icon,{className:"icon",icon:"delete-easy-btn"})))),e.renderActionDesc(t))}))):null)})):l.default.createElement("div",{className:"ae-event-control-placeholder"},"快去创建事件，让你的产品动起来吧")),l.default.createElement("footer",{className:(0,o.default)({"ae-event-control-footer":!0,"no-bd-btm":!h.length})},(0,d.render)({type:"dropdown-button",level:"enhance",label:"添加事件",disabled:!1,className:"block w-full add-event-dropdown",closeOnClick:!0,buttons:i.map((function(t){return{type:"button",actionType:"",label:t.eventLabel,onClick:e.addEvent.bind(e,t)}}))})),c?(0,d.render)({type:"dialog",title:"动作配置",headerClassName:"font-bold",className:"action-config-dialog",closeOnEsc:!0,closeOnOutside:!1,showCloseButton:!0,size:"lg",body:this.renderConfig(u),onClose:function(){e.setState({showAcionDialog:!1})}},{data:p}):null)},n.__decorate([d.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object]),n.__metadata("design:returntype",void 0)],a.prototype,"dragRef",null),a}(l.default.Component);t.EventControl=h;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),n.__decorate([(0,s.FormItem)({type:"ae-eventControl"})],t)}(h);t.EventControlRenderer=f,t.getEventLabel=function(e,t){var a;return null===(a=e.find((function(e){return e.eventName===t})))||void 0===a?void 0:a.eventLabel},t.getEventDesc=function(e,t){var a;return null===(a=e.find((function(e){return e.eventName===t})))||void 0===a?void 0:a.description},t.getActionLabel=function(e,t){var a;return null===(a=(0,d.findTree)(e,(function(e){return e.actionType===t})))||void 0===a?void 0:a.actionLabel},t.getComponentTreeByType=function(e,t,a,l){void 0===e&&(e=[]),void 0===t&&(t=""),void 0===a&&(a={});var i=function(e){return!!Array.isArray(e)&&!!(null==e?void 0:e.find((function(e){return[e.actionType,"component"].includes(t)})))},o=function(e){for(var r,s,d,c,p,m,h=[],f=0,g=e;f<g.length;f++){var b=g[f],v=a[b.type];if(["show","hidden"].includes(t)||["enabled","disabled"].includes(t)&&n.__spreadArray(n.__spreadArray(["form"],u.FORMITEM_CMPTS,!0),u.SUPPORT_DISABLED_CMPTS,!0).includes(b.type)||!["submit","clear","reset","validate"].includes(t)&&b.type&&i(v)||["submit","clear","reset","validate"].includes(t)&&"form"===b.type||("component"===t||(null===(r=l[t])||void 0===r?void 0:r.withComponentId))&&(null===(d=null===(s=l[t])||void 0===s?void 0:s.supportComponents)||void 0===d?void 0:d.includes(b.type))){var y=!("component"!==t||v&&v.length),_=n.__assign(n.__assign({},b),{disabled:y||b.disabled,children:[]});(null===(c=b.children)||void 0===c?void 0:c.length)&&(null===(p=_.children)||void 0===p||p.push.apply(p,o(b.children))),h.push(_)}else if(null===(m=b.children)||void 0===m?void 0:m.length){var S=o(b.children);S.length&&h.push.apply(h,S)}}return h};return o(e)}},935:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getActionConfigItemsMap=t.getOldActionSchema=t.getComboWrapper=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(1502),o=a(341);t.getComboWrapper=function(e,t){return void 0===t&&(t=!1),{type:"combo",name:"args",multiple:t,strictMode:!1,items:Array.isArray(e)?e:[e]}},t.getOldActionSchema=function(e,t){var a=/(?:\/|^)dialog\/.+$/.test(t.path);return{type:"button",label:"配置动作(旧版)",className:"block old-action-btn",tooltip:"温馨提示：添加下方事件动作后，下方事件动作将先于旧版动作执行，建议统一迁移至事件动作机制，帮助您实现更灵活的交互设计",tooltipPlacement:"left",actionType:"dialog",dialog:{type:"dialog",title:"动作",body:{type:"form",body:[{label:"按钮行为",type:"select",name:"actionType",pipeIn:(0,o.defaultValue)(""),options:[{label:"默认",value:""},{label:"弹框",value:"dialog"},{label:"抽出式弹框（Drawer）",value:"drawer"},{label:"发送请求",value:"ajax"},{label:"下载文件",value:"download"},{label:"页面跳转(单页模式)",value:"link"},{label:"页面跳转",value:"url"},{label:"刷新目标",value:"reload"},{label:"复制内容",value:"copy"},{label:"提交",value:"submit"},{label:"重置",value:"reset"},{label:"重置并提交",value:"reset-and-submit"},{label:"确认",value:"confirm"},{label:"取消",value:"cancel"},{label:"跳转下一条",value:"next"},{label:"跳转上一条",value:"prev"}]},{type:"input-text",name:"content",visibleOn:'data.actionType == "copy"',label:"复制内容模板"},{type:"select",name:"copyFormat",options:[{label:"纯文本",value:"text/plain"},{label:"富文本",value:"text/html"}],visibleOn:'data.actionType == "copy"',label:"复制格式"},{type:"input-text",name:"target",visibleOn:'data.actionType == "reload"',label:"指定刷新目标",required:!0},{name:"dialog",pipeIn:(0,o.defaultValue)({title:"弹框标题",body:"<p>对，你刚刚点击了</p>"}),asFormItem:!0,children:function(t){var a=t.value,o=t.onChange;return"dialog"===t.data.actionType?l.default.createElement(i.Button,{size:"sm",level:"danger",className:"m-b",onClick:function(){return e.openSubEditor({title:"配置弹框内容",value:n.__assign({type:"dialog"},a),onChange:function(e){return o(e)}})},block:!0},"配置弹框内容"):null}},{visibleOn:'data.actionType == "drawer"',name:"drawer",pipeIn:(0,o.defaultValue)({title:"弹框标题",body:"<p>对，你刚刚点击了</p>"}),asFormItem:!0,children:function(t){var a=t.value,o=t.onChange;return"drawer"==t.data.actionType?l.default.createElement(i.Button,{size:"sm",level:"danger",className:"m-b",onClick:function(){return e.openSubEditor({title:"配置抽出式弹框内容",value:n.__assign({type:"drawer"},a),onChange:function(e){return o(e)}})},block:!0},"配置抽出式弹框内容"):null}},(0,o.getSchemaTpl)("api",{label:"目标API",visibleOn:'data.actionType == "ajax"'}),{name:"feedback",pipeIn:(0,o.defaultValue)({title:"弹框标题",body:"<p>内容</p>"}),asFormItem:!0,children:function(t){var a=t.onChange,o=t.value;return"ajax"==t.data.actionType?l.default.createElement("div",{className:"m-b"},l.default.createElement(i.Button,{size:"sm",level:o?"danger":"info",onClick:function(){return e.openSubEditor({title:"配置反馈弹框详情",value:n.__assign({type:"dialog"},o),onChange:function(e){return a(e)}})}},"配置反馈弹框内容"),o?l.default.createElement(i.Button,{size:"sm",level:"link",className:"m-l",onClick:function(){return a("")}},"清空设置"):null):null}},{name:"feedback.visibleOn",label:"是否弹出表达式",type:"input-text",visibleOn:"this.feedback",autoComplete:!1,description:"请使用 JS 表达式如：`this.xxx == 1`"},{name:"feedback.skipRestOnCancel",label:"弹框取消是否中断后续操作",type:"switch",mode:"inline",className:"block",visibleOn:"this.feedback"},{name:"feedback.skipRestOnConfirm",label:"弹框确认是否中断后续操作",type:"switch",mode:"inline",className:"block",visibleOn:"this.feedback"},{type:"input-text",label:"目标地址",name:"link",visibleOn:'data.actionType == "link"'},{type:"input-text",label:"目标地址",name:"url",visibleOn:'data.actionType == "url"',placeholder:"http://"},{type:"switch",name:"blank",visibleOn:'data.actionType == "url"',mode:"inline",className:"w-full",label:"是否用新窗口打开",pipeIn:(0,o.defaultValue)(!0)},a?{visibleOn:'data.actionType == "submit" || data.type == "submit"',name:"close",type:"switch",mode:"inline",className:"w-full",pipeIn:(0,o.defaultValue)(!0),label:"是否关闭当前弹框"}:{},{name:"confirmText",type:"textarea",label:"确认文案",description:"点击后会弹出此内容，等用户确认后才进行相应的操作。"},{type:"input-text",name:"reload",label:"刷新目标组件",visibleOn:'data.actionType != "link" && data.actionType != "url"',description:"当前动作完成后，指定目标组件刷新。支持传递数据如：<code>xxx?a=\\${a}&b=\\${b}</code>，多个目标请用英文逗号隔开。"},{type:"input-text",name:"target",visibleOn:'data.actionType != "reload"',label:"指定响应组件",description:"指定动作执行者，默认为当前组件所在的功能性性组件，如果指定则转交给目标组件来处理。"},{type:"js-editor",allowFullscreen:!0,name:"onClick",label:"自定义点击事件",description:"将会传递 event 和 props 两个参数"},{type:"input-text",name:"hotKey",label:"键盘快捷键"}]},onConfirm:function(t){e.panelChangeValue(t[0])}}}},t.getActionConfigItemsMap=function(e){return{ajax:{config:["api"],desc:function(e){var t,a,n,i;return l.default.createElement("div",null,"发送",l.default.createElement("span",{className:"variable-right variable-left"},null===(a=null===(t=null==e?void 0:e.args)||void 0===t?void 0:t.api)||void 0===a?void 0:a.method),"请求：",l.default.createElement("span",{className:"variable-left"},null===(i=null===(n=null==e?void 0:e.args)||void 0===n?void 0:n.api)||void 0===i?void 0:i.url))},schema:{type:"wrapper",style:{padding:"0 0 0 32px"},body:[(0,t.getComboWrapper)((0,o.getSchemaTpl)("actionApiControl",{name:"api"}))]}},download:{config:["api"],schema:{type:"wrapper",style:{padding:"0 0 0 32px"},body:[(0,t.getComboWrapper)((0,o.getSchemaTpl)("actionApiControl",{name:"api"}))]}},dialog:{schema:{name:"dialog",label:"弹框内容",mode:"horizontal",required:!0,pipeIn:(0,o.defaultValue)({title:"弹框标题",body:"<p>对，你刚刚点击了</p>"}),asFormItem:!0,children:function(t){var a=t.value,o=t.onChange;return t.data,l.default.createElement(i.Button,{size:"sm",className:"action-btn-width",onClick:function(){return e.openSubEditor({title:"配置弹框内容",value:n.__assign({type:"dialog"},a),onChange:function(e){return o(e)}})},block:!0},"去配置")}}},drawer:{schema:{name:"drawer",label:"抽屉内容",mode:"horizontal",required:!0,pipeIn:(0,o.defaultValue)({title:"弹框标题",body:"<p>对，你刚刚点击了</p>"}),asFormItem:!0,children:function(t){var a=t.value,o=t.onChange;return t.data,l.default.createElement(i.Button,{size:"sm",className:"action-btn-width",onClick:function(){return e.openSubEditor({title:"配置抽出式弹框内容",value:n.__assign({type:"drawer"},a),onChange:function(e){return o(e)}})},block:!0},"去配置")}}},link:{config:["link","params"],desc:function(e){return l.default.createElement("div",null,"打开",l.default.createElement("span",{className:"variable-left variable-right"},null==e?void 0:e.__pageName),"页面")},schema:(0,t.getComboWrapper)([{type:"wrapper",className:"p-none",body:[(0,o.getSchemaTpl)("app-page"),{type:"combo",name:"params",label:"页面参数",multiple:!0,mode:"horizontal",items:[{name:"key",placeholder:"参数名",type:"input-text",mode:"inline",size:"xs"},{name:"val",placeholder:"参数值",type:"input-formula",variableMode:"tabs",size:"xs",variables:"${variables}"}]}]}])}}}},9942:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=void 0;var n=a(752),l=a(1502);Object.defineProperty(t,"Icon",{enumerable:!0,get:function(){return l.Icon}});var i=n.__importDefault(a(3248)),o=n.__importDefault(a(2078)),r=n.__importDefault(a(8983)),s=n.__importDefault(a(7528)),d=n.__importDefault(a(329)),c=n.__importDefault(a(7545)),p=n.__importDefault(a(4525)),u=n.__importDefault(a(3054)),m=n.__importDefault(a(2109)),h=n.__importDefault(a(3896)),f=n.__importDefault(a(2356));(0,l.registerIcon)("arrow-to-right",i.default),(0,l.registerIcon)("left-arrow-to-left",o.default),(0,l.registerIcon)("top-arrow-to-top",r.default),(0,l.registerIcon)("arrow-to-bottom",s.default),(0,l.registerIcon)("collapse-open",d.default),(0,l.registerIcon)("harmmer",h.default),(0,l.registerIcon)("dialog",f.default);var g=n.__importDefault(a(1957)),b=n.__importDefault(a(145)),v=n.__importDefault(a(5554)),y=n.__importDefault(a(2179)),_=n.__importDefault(a(4201)),S=n.__importDefault(a(3535)),C=n.__importDefault(a(5519)),x=n.__importDefault(a(8978)),w=n.__importDefault(a(1476)),T=n.__importDefault(a(8351)),N=n.__importDefault(a(813)),E=n.__importDefault(a(4028)),O=n.__importDefault(a(4841)),k=n.__importDefault(a(2479)),P=n.__importDefault(a(3508)),I=n.__importDefault(a(6777)),R=n.__importDefault(a(9872)),B=n.__importDefault(a(5093)),A=n.__importDefault(a(7221)),D=n.__importDefault(a(1651)),M=n.__importDefault(a(4740)),j=n.__importDefault(a(8636)),z=n.__importDefault(a(9119)),L=n.__importDefault(a(3909)),F=n.__importDefault(a(8818));(0,l.registerIcon)("drag-btn",y.default),(0,l.registerIcon)("more-btn",b.default),(0,l.registerIcon)("copy-btn",g.default),(0,l.registerIcon)("delete-btn",v.default),(0,l.registerIcon)("up-btn",_.default),(0,l.registerIcon)("clear-btn",S.default),(0,l.registerIcon)("open-btn",k.default),(0,l.registerIcon)("merge-icon",C.default),(0,l.registerIcon)("cancel-icon",x.default),(0,l.registerIcon)("copy-icon",w.default),(0,l.registerIcon)("delete-icon",T.default),(0,l.registerIcon)("fixed-icon",N.default),(0,l.registerIcon)("no-fixed-icon",E.default),(0,l.registerIcon)("editor-shortcut",F.default),(0,l.registerIcon)("display-inline",c.default),(0,l.registerIcon)("display-block",p.default),(0,l.registerIcon)("display-inline-block",u.default),(0,l.registerIcon)("display-flex",m.default),(0,l.registerIcon)("back-up",O.default),(0,l.registerIcon)("down-arrow",k.default),(0,l.registerIcon)("editor-search",P.default),(0,l.registerIcon)("editor-help",I.default),(0,l.registerIcon)("editor-fixed",R.default),(0,l.registerIcon)("editor-no-fixed",B.default),(0,l.registerIcon)("editor-renderer",A.default),(0,l.registerIcon)("editor-outline",D.default),(0,l.registerIcon)("editor-code",M.default),(0,l.registerIcon)("editor-common-config",j.default),(0,l.registerIcon)("editor-double-arrow",z.default),(0,l.registerIcon)("search-clear",L.default);var V=n.__importDefault(a(6403)),$=n.__importDefault(a(3849)),H=n.__importDefault(a(8467)),q=n.__importDefault(a(949)),W=n.__importDefault(a(2105)),U=n.__importDefault(a(1936)),K=n.__importDefault(a(7918));(0,l.registerIcon)("edit-full-btn",V.default),(0,l.registerIcon)("add-btn",$.default),(0,l.registerIcon)("close-btn",H.default),(0,l.registerIcon)("open-btn-r",q.default),(0,l.registerIcon)("delete-easy-btn",W.default),(0,l.registerIcon)("delete-bold-btn",U.default),(0,l.registerIcon)("drag-six-circle-btn",K.default)},341:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ShortcutKey=t.SearchPanel=t.GridPlugin=t.BasicToolbarPlugin=t.AvailableRenderersPlugin=t.IFrameEditor=t.mountInIframe=t.RegionWrapper=t.VRenderer=t.CodeEditor=t.BasicEditor=t.RendererEditor=t.mapReactElement=t.getEditorPlugins=t.unRegisterEditorPlugin=t.registerEditorPlugin=t.defaultValue=t.setSchemaTpl=t.getSchemaTpl=t.tipedLabel=t.BasePlugin=t.utils=t.MiniEditor=t.Editor=void 0;var n=a(752),l=n.__importDefault(a(2296));t.Editor=l.default,a(425),a(4051),a(8162),a(4240),a(397),a(1149),a(6994),a(6662),a(4344),a(5819),a(7368),a(1814),a(2469),a(7409),a(9635),a(6414),a(6537),a(8621),a(3500),a(5498),a(5503),a(770),a(9662),a(9251),a(8878),a(4450),a(8540),a(8474),a(282),a(5707),a(7589),a(4891),a(2165),a(6982),a(7131),a(4894),a(7706),a(6956),a(7452),a(2888),a(8322),a(4189),a(3751),a(8107),a(6083),a(5561),a(4635),a(5225),a(4624),a(6253),a(1506),a(1808),a(6239),a(3274),a(200),a(2053),a(3482),a(8952),a(1803),a(8746),a(6489),a(8803),a(3428),a(7798),a(1143),a(812),a(5922),a(8859),a(2125),a(4715),a(6772),a(5489),a(8087),a(8987),a(6311),a(7681),a(8149),a(9940),a(8332),a(9114),a(9890),a(9352),a(9351),a(6682),a(1533),a(2620),a(8936),a(3914),a(3581),a(4950),a(3852),a(377),a(4659),a(2821),a(1596),a(7717),a(6460),a(4930),a(1838),a(2029),a(1663),a(8863),a(8395),a(9065),a(6469),a(9544),a(9344),a(6062),a(6760),a(8134),a(2585),a(6721),a(9475),a(8835),a(4093),a(9691),a(9596),a(6397),a(4887),a(2629),a(7863),a(8969),a(4610),a(7197),a(419),a(1897),a(821),a(135),a(5218),a(2460),a(5678),a(3345),a(410),a(2398),a(9227),a(6218),a(3470),a(2500),a(7328),a(946),a(8979),a(46),a(1886),a(9268),a(7599),a(4300),a(2022),a(4799),a(4870),a(1509),a(2766),a(3306),a(1800),a(4268),a(2156),a(7991),a(9963);var i=n.__importStar(a(3570));t.utils=i;var o=a(9547);Object.defineProperty(t,"getSchemaTpl",{enumerable:!0,get:function(){return o.getSchemaTpl}}),Object.defineProperty(t,"defaultValue",{enumerable:!0,get:function(){return o.defaultValue}}),Object.defineProperty(t,"setSchemaTpl",{enumerable:!0,get:function(){return o.setSchemaTpl}});var r=a(9756);Object.defineProperty(t,"registerEditorPlugin",{enumerable:!0,get:function(){return r.registerEditorPlugin}}),Object.defineProperty(t,"unRegisterEditorPlugin",{enumerable:!0,get:function(){return r.unRegisterEditorPlugin}}),Object.defineProperty(t,"getEditorPlugins",{enumerable:!0,get:function(){return r.getEditorPlugins}});var s=a(9933);Object.defineProperty(t,"BasePlugin",{enumerable:!0,get:function(){return s.BasePlugin}});var d=a(9672);Object.defineProperty(t,"BasicEditor",{enumerable:!0,get:function(){return d.BasicEditor}}),Object.defineProperty(t,"RendererEditor",{enumerable:!0,get:function(){return d.RendererEditor}});var c=n.__importDefault(a(7279));t.MiniEditor=c.default;var p=n.__importDefault(a(3017));t.CodeEditor=p.default;var u=n.__importDefault(a(1454));t.IFrameEditor=u.default;var m=a(1325);Object.defineProperty(t,"mountInIframe",{enumerable:!0,get:function(){return m.mountInIframe}});var h=a(4450);Object.defineProperty(t,"AvailableRenderersPlugin",{enumerable:!0,get:function(){return h.AvailableRenderersPlugin}});var f=n.__importDefault(a(512));t.SearchPanel=f.default;var g=a(5503);Object.defineProperty(t,"BasicToolbarPlugin",{enumerable:!0,get:function(){return g.BasicToolbarPlugin}});var b=a(5863);Object.defineProperty(t,"VRenderer",{enumerable:!0,get:function(){return b.VRenderer}});var v=a(1548);Object.defineProperty(t,"RegionWrapper",{enumerable:!0,get:function(){return v.RegionWrapper}});var y=a(4887);Object.defineProperty(t,"GridPlugin",{enumerable:!0,get:function(){return y.GridPlugin}});var _=a(9703);Object.defineProperty(t,"mapReactElement",{enumerable:!0,get:function(){return _.mapReactElement}});var S=n.__importDefault(a(8240));t.ShortcutKey=S.default;var C=a(2759);Object.defineProperty(t,"tipedLabel",{enumerable:!0,get:function(){return C.tipedLabel}})},9756:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EditorManager=t.unRegisterEditorPlugin=t.getEditorPlugins=t.registerEditorPlugin=void 0;var n=a(752),l=a(9794),i=a(9933),o=a(3570),r=a(6211),s=a(9703),d=a(5951),c=n.__importDefault(a(3908)),p=a(1502),u=a(5720),m=n.__importDefault(a(8425)),h=a(6162),f=[];t.registerEditorPlugin=function(e){(e.prototype&&e.prototype.isNpmCustomWidget?f.find((function(t){return t.prototype.name===e.prototype.name})):f.find((function(t){return t===e})))?console.warn("注册插件异常，已存在同名插件：",e):f.push(e)},t.getEditorPlugins=function(){return f.concat()},t.unRegisterEditorPlugin=function(e){var t=(0,m.default)(f,(function(t){return t.id===e}));~t&&f.splice(t,1)};var g=function(){function e(e,t,a){var i=this;this.config=e,this.store=t,this.parent=a,this.toDispose=[],this.id=(0,o.guid)(),this.disableHover=!1,this.broadcasts=[],this.pluginEvents={},this.pluginActions={},this.listeners=[],this.lazyPatchSchema=(0,c.default)(this.patchSchema.bind(this),250,{leading:!1,trailing:!0}),this.patching=!1;var p=!!a;this.env=n.__assign(n.__assign(n.__assign({},d.env),e.amisEnv),{theme:e.theme}),this.env.beforeDispatchEvent=this.beforeDispatchEvent.bind(this,this.env.beforeDispatchEvent),this.hackIn=(null==a?void 0:a.hackIn)||s.hackIn,this.plugins=(null==a?void 0:a.plugins)||(e.disableBultinPlugin?[]:f).concat(e.plugins||[]).map((function(e){var t,a=new e(i);return a.order=null!==(t=a.order)&&void 0!==t?t:0,a.rendererName&&(i.pluginEvents[a.rendererName]=a.events||[],i.pluginActions[a.rendererName]=a.actions||[]),a})).sort((function(e,t){return e.order-t.order})),this.hackRenderers(),this.dnd=(null==a?void 0:a.dnd)||new h.EditorDNDManager(this,t),this.dataSchema=(null==a?void 0:a.dataSchema)||new l.DataSchema(e.schemas||[]),this.dataSchema.current.tag="系统变量",p||this.toDispose.push((0,o.reactionWithOldValue)((function(){return t.activeId}),(function(e,t){return n.__awaiter(i,void 0,void 0,(function(){return n.__generator(this,(function(a){switch(a.label){case 0:return this.store.insertId&&this.store.closeInsertPanel(),this.buildJSONSchemaUri(),this.buildToolbars(),[4,this.buildRenderers()];case 1:return a.sent(),this.buildPanels(),this.trigger("active",e?n.__assign(n.__assign({},this.buildEventContext(e)),{active:!0}):{id:t,active:!1}),[2]}}))}))})),(0,r.reaction)((function(){return t.selections.join(",")}),(function(){i.buildPanels()})),(0,r.reaction)((function(){return t.needPatch}),(function(e){e&&i.lazyPatchSchema()})),(0,o.reactionWithOldValue)((function(){return{id:t.hoverId,region:t.hoverRegion}}),(function(e,a){var n,l,i=t.getDoc();e.id&&e.region?null===(n=i.querySelector('[data-region="'.concat(e.region,'"][data-region-host="').concat(e.id,'"]')))||void 0===n||n.classList.add("is-region-active"):(null==a?void 0:a.id)&&(null==a?void 0:a.region)&&(null===(l=i.querySelector('[data-region="'.concat(a.region,'"][data-region-host="').concat(a.id,'"]')))||void 0===l||l.classList.remove("is-region-active"))})))}return e.prototype.dynamicAddPlugin=function(e){var t;if(e)if(this.plugins.some((function(t){return t&&t.name===e})))console.warn("[amis-editor]当前已有".concat(e,"插件"));else{var a=f.find((function(t){return t.prototype&&t.prototype.name===e}));if(a){var n=new a(this);n.order=null!==(t=n.order)&&void 0!==t?t:0,this.plugins.push(n),this.plugins.sort((function(e,t){return e.order-t.order})),this.buildRenderers()}}},e.prototype.buildRenderersAndPanels=function(){var e=this;setTimeout((function(){return n.__awaiter(e,void 0,void 0,(function(){var e,t;return n.__generator(this,(function(a){switch(a.label){case 0:return(e=this.store).activeId||!(null===(t=null==e?void 0:e.schema)||void 0===t?void 0:t.$$id)?[3,2]:[4,this.buildRenderers()];case 1:a.sent(),this.buildPanels(e.schema.$$id),a.label=2;case 2:return[2]}}))}))}),200)},e.prototype.buildEventContext=function(e){var t="string"==typeof e?this.store.getNodeById(e):e,a=this.store.getSchema(t.id);return{node:t,id:t.id,info:t.info,path:t.path,schemaPath:t.schemaPath,schema:a,data:""}},e.prototype.buildJSONSchemaUri=function(){var e=this.store.activeId,t="";if(e){var a=this.buildEventContext(e),n=this.trigger("before-resolve-json-schema",a);if(t=n.context.data,!n.prevented){this.plugins.forEach((function(e){var n;if(!t){var l=null===(n=e.buildJSONSchema)||void 0===n?void 0:n.call(e,a);l&&(t=l)}})),a.data=t;var l=this.trigger("after-resolve-json-schema",a);t=l.data}}this.store.setJSONSchemaUri(t)},e.prototype.buildToolbars=function(){var e=this.store.activeId,t=[];if(e){var a=this.buildEventContext(e);this.plugins.forEach((function(e){var l,i=n.__assign({},a);null===(l=e.buildEditorToolbar)||void 0===l||l.call(e,i,t)})),this.trigger("build-toolbars",n.__assign(n.__assign({},a),{data:t}))}this.store.setActiveToolbars(t.map((function(e){return n.__assign(n.__assign({},e),{order:e.order||0,id:(0,o.guid)()})})))},e.prototype.collectPanels=function(e,t,a){var l=this;void 0===t&&(t=!1),void 0===a&&(a=!1);var i=[];if(e){var o=n.__assign(n.__assign({},this.buildEventContext(e)),{secondFactor:a,data:i,selections:this.store.selections.map((function(e){return l.buildEventContext(e)}))});this.plugins.forEach((function(e){var t;null===(t=e.buildEditorPanel)||void 0===t||t.call(e,o,i)})),t&&this.trigger("build-panels",o),i=o.data||i,o.changeLeftPanelKey&&this.store.changeLeftPanelKey(o.changeLeftPanelKey)}return i},e.prototype.buildPanels=function(e){var t=e||this.store.activeId,a=[];if(t||this.store.selections.length){t=t||this.store.selections[0];var l=this.store.getNodeById(t);a=l?this.collectPanels(l,!0):a}this.store.setPanels(a.map((function(e){return n.__assign(n.__assign({},e),{order:e.order||0})})))},e.prototype.collectRenderers=function(e,t){var a,i,r,s;return void 0===t&&(t=this.store.activeContainerId),n.__awaiter(this,void 0,void 0,(function(){var d,c,p,u,m,h,f,g,b,v,y,_,S;return n.__generator(this,(function(C){switch(C.label){case 0:if(d=[],!(c=t)&&(null===(a=this.store)||void 0===a?void 0:a.schema)&&(c=null===(i=this.store)||void 0===i?void 0:i.schema.$$id),!c)return[2,d];if(!(p=this.store.getNodeById(c)))return[2,d];for(u=this.store.getSchema(c),m={node:p,id:p.id,info:p.info,path:p.path,schemaPath:p.schemaPath,schema:u,region:e},h=[],f=function(e,t){var a=g.plugins[e],i=null===(r=a.buildSubRenderers)||void 0===r?void 0:r.call(a,m,d,(0,l.getRenderers)());i&&(Array.isArray(i)?i:[i]).forEach((function(e){return d.push(n.__assign(n.__assign({},e),{id:(0,o.guid)(),plugin:a,parent:p.info,order:e.order||0}))})),a.asyncUpdateCustomSubRenderersInfo&&h.push(a)},g=this,b=0,v=this.plugins.length;b<v;b++)f(b);if(!h.length)return[3,4];y=0,_=h.length,C.label=1;case 1:return y<_?(S=h[y],[4,null===(s=S.asyncUpdateCustomSubRenderersInfo)||void 0===s?void 0:s.call(S,m,d,(0,l.getRenderers)())]):[3,4];case 2:C.sent(),C.label=3;case 3:return y++,[3,1];case 4:return[2,d.filter((function(e){return!e.disabledRendererPlugin}))]}}))}))},e.prototype.buildRenderers=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t;return n.__generator(this,(function(a){switch(a.label){case 0:return[4,this.collectRenderers(e)];case 1:return t=a.sent(),this.store.setSubRenderers(t),this.store.changeSubRendererRegion(e||""),[2]}}))}))},e.prototype.rebuild=function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(e){switch(e.label){case 0:return[4,this.buildRenderers()];case 1:return e.sent(),this.buildToolbars(),this.buildPanels(),[2]}}))}))},e.prototype.switchToRegion=function(e){this.store.activeId&&this.buildRenderers(e)},e.prototype.showInsertPanel=function(e,t,a,l,i,o){var r,s,d;return void 0===t&&(t=this.store.activeId),void 0===l&&(l="insert"),void 0===i&&(i=""),n.__awaiter(this,void 0,void 0,(function(){var c,p;return n.__generator(this,(function(n){switch(n.label){case 0:return void 0===a&&t&&(c=this.store.getNodeById(t),a=null===(d=null===(s=null===(r=null==c?void 0:c.info)||void 0===r?void 0:r.regions)||void 0===s?void 0:s.find((function(t){return t.key===e})))||void 0===d?void 0:d.preferTag),[4,this.collectRenderers(e,t)];case 1:return p=n.sent(),this.store.setInsertRenderers(p),this.store.setInsertRegion(e,t,a,l,i,o),[2]}}))}))},e.prototype.showReplacePanel=function(e,t){var a=this.store.getNodeById(e),n=null==a?void 0:a.parent;if(a&&n&&n.isRegion&&n.parent){var l=n.parent;this.showInsertPanel(n.region,l.id,t,"replace",a.id)}},e.prototype.showRendererPanel=function(e,t){this.store.showRendererPanel(e,t)},e.prototype.on=function(e,t){this.listeners.push({type:e,fn:t})},e.prototype.off=function(e,t){var a=(0,m.default)(this.listeners,(function(a){return a.type===e&&a.fn===t}));~a&&this.listeners.splice(a,1)},e.prototype.trigger=function(e,t){var a=(0,i.createEvent)(e,t),n=(0,o.camelize)(/^(?:before|after)/.test(e)?e:"on-".concat(e)),l=this.listeners.filter((function(t){return t.type===e}));this.plugins.forEach((function(t){return t[n]&&l.push({type:e,fn:t[n].bind(t)})})),this.config[n]&&l.push({fn:this.config[n],type:e});var r=[];return l.some((function(e){var t=e.fn.call(null,a);return!1===t?(a.preventDefault(),a.stopPropagation()):(null==t?void 0:t.then)?r.push(t):void 0!==t&&a.setData(t),a.stoped})),r.length&&(a.pending=Promise.all(r)),a},e.prototype.addElem=function(e){var t;return n.__awaiter(this,void 0,void 0,(function(){var a,l,i,r,s,d,c,u,m,h,f,g,b,v;return n.__generator(this,(function(n){switch(n.label){case 0:if(!e)return[2];if(a="",(0,o.isString)(e)?a=e.toString():(0,o.isObject)(e)&&(l=e),i=this.store,a&&(r=i.getSubRendererById(a)),!r&&!l)return[2];if(s=i.activeId,!(d=i.getNodeById(s)))return p.toast.warning("请先选择一个元素作为插入的位置。"),[2];if(c=d.parent,u=null,m=null,h=null,i.activeRegion)m=s,h=i.activeRegion;else if(d.schema.columns)m=s,h="columns";else if(d.schema.body)m=s,h="body";else if(c){if(m=c.id,h=c.region,!c.region&&c.schema.body)h="body";else if(!c.region&&!c.schema.body)return p.toast.warning("当前节点不允许追加新组件。"),[2];f=i.getSchemaParentById(s),g=-1,f.some((function(e,t){var a=!1;return e.$$id===s&&(g=t,a=!0),a})),u=null===(t=f[g+1])||void 0===t?void 0:t.$$id}else m=s,h="body";return b=l,!r||l?[3,2]:(b=r.scaffold||{type:r.type},r.scaffoldForm?[4,this.scaffold(r.scaffoldForm,b)]:[3,2]);case 1:b=n.sent(),n.label=2;case 2:return(v=this.addChild(m,h,b,u,r))&&setTimeout((function(){i.setActiveId(v.$$id)}),100),[2]}}))}))},e.prototype.appendSiblingSchema=function(e){var t;return n.__awaiter(this,void 0,void 0,(function(){var a,l,i,o,r,s,d,c,u,m;return n.__generator(this,(function(n){if(!e)return[2];if(a=this.store,l=a.activeId,!(i=a.getNodeById(l)))return p.toast.warning("请先选择一个元素作为插入的位置。"),[2];if(o=i.parent,r=null,s=null,d=null,o){if(s=o.id,d=o.region,!o.region&&o.schema.body)d="body";else if(!o.region&&!o.schema.body)return p.toast.warning("当前节点不允许追加新组件。"),[2];c=a.getSchemaParentById(l),u=-1,c.some((function(e,t){var a=!1;return e.$$id===l&&(u=t,a=!0),a})),r=null===(t=c[u+1])||void 0===t?void 0:t.$$id,(m=this.addChild(s,d,e,r))&&setTimeout((function(){a.setActiveId(m.$$id)}),100)}return[2]}))}))},e.prototype.insert=function(){return n.__awaiter(this,void 0,void 0,(function(){var e,t,a,l,i,o,r;return n.__generator(this,(function(n){switch(n.label){case 0:return e=this.store,(t=e.selectedInsertRendererInfo)?(a=e.insertId,l=e.insertRegion,i=e.insertBeforeId,o=t.scaffold||{type:t.type},t.scaffoldForm?[4,this.scaffold(t.scaffoldForm,o)]:[3,2]):[2];case 1:o=n.sent(),n.label=2;case 2:return(r=this.addChild(a,l,o,i,t))&&(e.closeInsertPanel(),setTimeout((function(){e.setActiveId(r.$$id)}),100)),[2]}}))}))},e.prototype.replace=function(){return n.__awaiter(this,void 0,void 0,(function(){var e,t,a,l,i,o=this;return n.__generator(this,(function(n){switch(n.label){case 0:return e=this.store,(t=e.selectedInsertRendererInfo)?(a=e.insertOrigId,l=t.scaffold||{type:t.type},i=e.insertRegion,t.scaffoldForm?[4,this.scaffold(t.scaffoldForm,l)]:[3,2]):[2];case 1:l=n.sent(),n.label=2;case 2:return this.replaceChild(a,l,t,i)&&(e.closeInsertPanel(),setTimeout((function(){o.rebuild()}),4)),[2]}}))}))},e.prototype.getEditorInfo=function(e,t,a){var l=null,i=a.$$id?this.store.getSchemaPath(a.$$id):"",o={renderer:e,path:t,schemaPath:i,schema:a},r=this.trigger("before-resolve-editor-info",o);return r.prevented?r.context.data:(this.plugins.some((function(t){var r,s=null===(r=t.getRendererInfo)||void 0===r?void 0:r.call(t,o);return!!s&&(l=n.__assign(n.__assign({id:a.$$id},s),{type:a.type,plugin:t,renderer:e,schemaPath:i}),!0)})),this.trigger("after-resolve-editor-info",n.__assign(n.__assign({},o),{data:l})).context.data)},e.prototype.panelChangeValue=function(e,t){var a=this.store,l=n.__assign(n.__assign({},this.buildEventContext(a.activeId)),{value:e,diff:t});this.trigger("before-update",l).prevented||(a.changeValue(e,t),this.trigger("after-update",l))},e.prototype.openSubEditor=function(e){this.store.openSubEditor(e)},e.prototype.openContextMenu=function(e,t,a){var l=this,i=[],o=this.buildEventContext(e),r=n.__assign(n.__assign({},o),{selections:this.store.selections.map((function(e){return l.buildEventContext(e)})),region:t,data:i});(i=this.buildContextMenus(r)).length&&(this.store.setContextId(e),(0,p.openContextMenus)({x:a.x,y:a.y},i,(function(){return l.store.setContextId("")})))},e.prototype.buildContextMenus=function(e){return this.plugins.forEach((function(t){var a;null===(a=t.buildEditorContextMenu)||void 0===a||a.call(t,e,e.data)})),this.trigger("build-context-menus",e),e.data},e.prototype.closeContextMenu=function(){},e.prototype.moveUp=function(){var e,t=this.store;if(t.activeId){var a=t.getNodeById(t.activeId),l=a.parent,i=a.host,o=this.buildEventContext(i),r=n.__assign(n.__assign({},o),{sourceId:a.id,direction:"up",beforeId:null===(e=a.prevSibling)||void 0===e?void 0:e.id,region:l.region});this.trigger("before-move",r).prevented||(t.moveUp(a.id),this.trigger("after-move",r),this.trigger("after-update",r))}},e.prototype.moveDown=function(){var e,t,a=this.store;if(a.activeId){var l=a.getNodeById(a.activeId),i=l.parent,o=l.host,r=this.buildEventContext(o),s=n.__assign(n.__assign({},r),{sourceId:l.id,direction:"up",beforeId:null===(t=null===(e=l.nextSibling)||void 0===e?void 0:e.nextSibling)||void 0===t?void 0:t.id,region:i.region});this.trigger("before-move",s).prevented||(a.moveDown(l.id),this.trigger("after-move",s),this.trigger("after-update",s))}},e.prototype.del=function(e){if(e&&e.length){var t=Array.isArray(e)?e[0]:e,a=n.__assign(n.__assign({},this.buildEventContext(t)),{data:Array.isArray(e)?e.concat():[]});this.trigger("before-delete",a).prevented||(Array.isArray(a.data)&&a.data.length?this.store.delMulti(a.data):this.store.del(t),this.trigger("after-delete",a))}},e.prototype.duplicate=function(e){this.store.duplicate(e)},e.prototype.copy=function(e){var t=this.store.getValueOf(e);this.clipboardData=(0,u.stringify)(t),p.toast.info("配置项已复制")},e.prototype.cut=function(e){this.copy(e),this.del(e)},e.prototype.paste=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){var a;return n.__generator(this,(function(n){return this.clipboardData?(a=(0,o.reGenerateID)((0,u.parse)(this.clipboardData)),t?this.addChild(e,t,a):this.replaceChild(e,a),[2]):((0,p.alert)("剪切板内容为空"),[2])}))}))},e.prototype.emptyRegion=function(e,t){var a=this;this.store.emptyRegion(e,t),setTimeout((function(){a.store.activeId&&a.store.getNodeById(a.store.activeId)||a.store.setActiveId(e)}),100)},e.prototype.addChild=function(e,t,a,l,i,r){var s=this.store,d=-1,c=this.buildEventContext(e);if("id"in a||(a=n.__assign(n.__assign({},a),{id:"u:"+(0,o.guid)()})),l){var p=c.schema[t];Array.isArray(p)&&(d=(0,m.default)(p,(function(e){return(null==e?void 0:e.$$id)===l})))}var u=n.__assign(n.__assign({},c),{beforeId:l,index:d,region:t,data:a,subRenderer:i,dragInfo:r}),h=this.trigger("before-insert",u);if(!h.prevented){var f=s.insertSchema(h);return this.trigger("after-insert",u),f}return null},e.prototype.move=function(e,t,a,l){var i=this.store,o=n.__assign(n.__assign({},this.buildEventContext(e)),{beforeId:l,region:t,sourceId:a}),r=this.trigger("before-move",o);return!r.prevented&&(i.moveSchema(r),this.trigger("after-move",o),!0)},e.prototype.replaceChild=function(e,t,a,l){var i=n.__assign(n.__assign({},this.buildEventContext(e)),{data:t,subRenderer:a,region:l}),o=this.trigger("before-replace",i);return!(o.prevented||!o.context.data||(this.store.replaceChild(e,o.context.data),this.trigger("after-replace",i),0))},e.prototype.setActiveId=function(e){this.store.setActiveId(e)},e.prototype.openConfigPanel=function(e){var t=this.store;t.activeId!==e&&t.setActiveId(e),t.changePanelKey("config")},e.prototype.openCodePanel=function(e){var t=this.store;t.activeId!==e&&t.setActiveId(e),t.changePanelKey("code")},e.prototype.toggleSelection=function(e){var t=this.store,a=t.selections.concat();!a.length&&t.activeId&&a.push(t.activeId);var n=a.indexOf(e);~n?a.splice(n,1):a.push(e),this.setSelection(a,e)},e.prototype.setSelection=function(e,t){var a=this;void 0===t&&(t=e[0]);var l=this.store,i=this.buildEventContext(t),o=n.__assign(n.__assign({},i),{selections:e.map((function(e){return a.buildEventContext(e)})),data:e});this.trigger("selection-change",o).prevented||(1===(e=o.data).length?l.setActiveId(e[0]):l.setSelections(e))},e.prototype.startDrag=function(e,t){t.persist(),this.dnd.startDrag(e,t.nativeEvent)},e.prototype.scaffold=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){var a=this;return n.__generator(this,(function(l){return[2,new Promise((function(l){a.store.openScaffoldForm(n.__assign(n.__assign({},e),{value:e.pipeIn?e.pipeIn(t):t,callback:l}))}))]}))}))},e.prototype.reScaffold=function(e,t,a){return n.__awaiter(this,void 0,void 0,(function(){var l;return n.__generator(this,(function(n){switch(n.label){case 0:return[4,this.scaffold(t,a)];case 1:return l=n.sent(),this.replaceChild(e,l),[2]}}))}))},e.prototype.patchSchema=function(e){var t=this;if(void 0===e&&(e=!1),!this.patching){this.patching=!0;var a=function(n){n.forEach((function(n){n.uniqueChildren&&n.uniqueChildren.length&&a(n.uniqueChildren),n.isRegion||n.patch(t.store,e)}))};a(this.store.root.children),this.patching=!1}},e.prototype.hackRenderers=function(e){var t=this;void 0===e&&(e=(0,l.getRenderers)());var a=[];e.forEach((function(e){t.plugins.filter((function(t){var a;return Array.isArray(null==t?void 0:t.regions)&&t.regions.some((function(a){var n;return a.renderMethod&&(null!==(n=a.rendererName)&&void 0!==n?n:t.rendererName)===e.name}))||t.overrides&&(null!==(a=t.overrideTargetRendererName)&&void 0!==a?a:t.rendererName)===e.name})).forEach((function(t){var n,l,i=null===(n=t.regions)||void 0===n?void 0:n.filter((function(a){var n;return a.renderMethod&&(null!==(n=a.rendererName)&&void 0!==n?n:t.rendererName)===e.name}));(null==i?void 0:i.length)&&a.push({renderer:e,regions:i}),t.overrides&&(null!==(l=t.overrideTargetRendererName)&&void 0!==l?l:t.rendererName)===e.name&&a.push({renderer:e,overrides:t.overrides})}))})),a.forEach((function(e){var a=e.regions,n=e.renderer,l=e.overrides;return t.hackIn(n,a,l)}))},e.prototype.makeWrapper=function(e,t){var a;return(null===(a=this.parent)||void 0===a?void 0:a.makeWrapper)?this.parent.makeWrapper(e,t):(0,s.makeWrapper)(this,e,t)},e.prototype.makeSchemaFormRender=function(e){return(0,s.makeSchemaFormRender)(this,e)},e.prototype.onWidthChangeStart=function(e,t){return this.trigger("width-change-start",n.__assign(n.__assign({},t),{nativeEvent:e}))},e.prototype.onHeightChangeStart=function(e,t){return this.trigger("height-change-start",n.__assign(n.__assign({},t),{nativeEvent:e}))},e.prototype.onSizeChangeStart=function(e,t){return this.trigger("size-change-start",n.__assign(n.__assign({},t),{nativeEvent:e}))},e.prototype.openNodePopOverForm=function(e){var t,a,n,l,i="string"==typeof e?this.store.getNodeById(e):e;if(i&&((null===(a=null===(t=i.info)||void 0===t?void 0:t.plugin)||void 0===a?void 0:a.popOverBody)||(null===(l=null===(n=i.info)||void 0===n?void 0:n.plugin)||void 0===l?void 0:l.popOverBodyCreator))){var o=i.info.plugin,r=this.store,s={body:o.popOverBodyCreator?o.popOverBodyCreator(this.buildEventContext(i)):o.popOverBody,value:r.getValueOf(i.id),callback:this.panelChangeValue,target:function(){return document.querySelector('[data-editor-id="'.concat(i.id,'"]'))}};r.openPopOverForm(s)}},e.prototype.addBroadcast=function(e){this.broadcasts.push(e)},e.prototype.removeBroadcast=function(e){var t=(0,m.default)(this.broadcasts,(function(t){return t.eventName===e}));this.broadcasts.splice(t,1)},e.prototype.getContextSchemas=function(e,t){var a,l,i;return void 0===t&&(t=!1),n.__awaiter(this,void 0,void 0,(function(){var o,r,s,d,c,p,u,m,h,f;return n.__generator(this,(function(n){switch(n.label){case 0:if(!(o="string"==typeof e?this.store.getNodeById(e):e))return[2,[]];for(s=o,d=o;!r&&s;)r=this.dataSchema.hasScope("".concat(s.id,"-").concat(s.type))?this.dataSchema.getScope("".concat(s.id,"-").concat(s.type)):void 0,(null==(s=s.parent)?void 0:s.isRegion)&&(d=s);c=r,n.label=1;case 1:return r?(p=r.id.split("-"),u=p[0],m=p[1],h=this.store.getNodeById(u,m),[4,null===(i=null===(l=null===(a=null==h?void 0:h.info)||void 0===a?void 0:a.plugin)||void 0===l?void 0:l.buildDataSchemas)||void 0===i?void 0:i.call(l,h,d)]):[3,3];case 2:return(f=n.sent())&&(r.removeSchema(f.$id),r.addSchema(f)),r=t?void 0:r.parent,[3,1];case 3:return c&&this.dataSchema.switchTo(c.id),[2,t?this.dataSchema.current.schemas:this.dataSchema.getSchemas()]}}))}))},e.prototype.beforeDispatchEvent=function(e,t,a,n,l,i){var o,r,s;if(null==e||e(t,a,n,l,i),a.props.$$id){var d=this.store.getNodeById(a.props.$$id,a.props.type);null===(s=null===(r=null===(o=null==d?void 0:d.info)||void 0===o?void 0:o.plugin)||void 0===r?void 0:r.rendererBeforeDispatchEvent)||void 0===s||s.call(r,d,t,l)}},e.prototype.dispose=function(){this.toDispose.forEach((function(e){return e()})),this.toDispose=[],this.listeners.splice(0,this.listeners.length),this.broadcasts.splice(0,this.broadcasts.length),this.lazyPatchSchema.cancel(),this.dnd.dispose()},n.__decorate([o.autobind,n.__metadata("design:type",Function),n.__metadata("design:paramtypes",[Object,Object]),n.__metadata("design:returntype",void 0)],e.prototype,"panelChangeValue",null),e}();t.EditorManager=g},6374:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mockValue=void 0;var n=a(752).__importDefault(a(2245));t.mockValue=function(e){var t="data:image/svg+xml,%3C%3Fxml version='1.0' standalone='no'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg t='1631083237695' class='icon' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='2420' xmlns:xlink='http://www.w3.org/1999/xlink' width='1024' height='1024'%3E%3Cdefs%3E%3Cstyle type='text/css'%3E%3C/style%3E%3C/defs%3E%3Cpath d='M959.872 128c0.032 0.032 0.096 0.064 0.128 0.128v767.776c-0.032 0.032-0.064 0.096-0.128 0.128H64.096c-0.032-0.032-0.096-0.064-0.128-0.128V128.128c0.032-0.032 0.064-0.096 0.128-0.128h895.776zM960 64H64C28.8 64 0 92.8 0 128v768c0 35.2 28.8 64 64 64h896c35.2 0 64-28.8 64-64V128c0-35.2-28.8-64-64-64z' p-id='2421' fill='%23bfbfbf'%3E%3C/path%3E%3Cpath d='M832 288c0 53.024-42.976 96-96 96s-96-42.976-96-96 42.976-96 96-96 96 42.976 96 96zM896 832H128V704l224-384 256 320h64l224-192z' p-id='2422' fill='%23bfbfbf'%3E%3C/path%3E%3C/svg%3E";return"date"===e.type||"datetime"===e.type||"time"===e.type||"month"===e.type||"static-date"===e.type||"static-datetime"===e.type||"static-time"===e.type||"static-month"===e.type?(0,n.default)().format("X"):"image"===e.type||"static-image"===e.type?t:"images"===e.type||"static-images"===e.type?[t]:"假数据"}},9933:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BasePlugin=t.createEvent=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=n.__importDefault(a(6918));t.createEvent=function(e,t){var a={context:t,type:e,prevented:!1,stoped:!1,preventDefault:function(){a.prevented=!0},stopPropagation:function(){a.stoped=!0},get data(){return a.context.data},setData:function(e){a.context.data=e}};return a};var o=function(){function e(e){this.manager=e}return e.prototype.getRendererInfo=function(e){var t=e.renderer,a=this;if(e.schema.$$id&&a.name&&a.rendererName&&a.rendererName===t.name)return{name:a.name,regions:a.regions,patchContainers:a.patchContainers,vRendererConfig:a.vRendererConfig,wrapperProps:a.wrapperProps,wrapperResolve:a.wrapperResolve,filterProps:a.filterProps,$schema:a.$schema,renderRenderer:a.renderRenderer,multifactor:a.multifactor,scaffoldForm:a.scaffoldForm,disabledRendererPlugin:a.disabledRendererPlugin,isBaseComponent:a.isBaseComponent,rendererName:a.rendererName}},e.prototype.buildEditorPanel=function(e,t){var a,l,i,o,r=this,s=this.manager.store;if(s.activeId&&!e.selections.length&&(!e.info.hostId&&(r.panelControls||r.panelControlsCreator||r.panelBody||r.panelBodyCreator)&&e.info.plugin===this?t.push({key:"config",icon:r.panelIcon||r.icon||"fa fa-cog",title:r.panelTitle||"设置",render:this.manager.makeSchemaFormRender({definitions:r.panelDefinitions,submitOnChange:r.panelSubmitOnChange,api:r.panelApi,body:r.panelBodyCreator?r.panelBodyCreator(e):r.panelBody,controls:r.panelControlsCreator?r.panelControlsCreator(e):r.panelControls,justify:r.panelJustify,panelById:s.activeId})}):e.info.plugin===this&&e.info.hostId&&((null===(a=r.vRendererConfig)||void 0===a?void 0:a.panelControls)||(null===(l=r.vRendererConfig)||void 0===l?void 0:l.panelControlsCreator)||(null===(i=r.vRendererConfig)||void 0===i?void 0:i.panelBody)||(null===(o=r.vRendererConfig)||void 0===o?void 0:o.panelBodyCreator))&&t.push({key:e.info.multifactor?"vconfig":"config",icon:r.vRendererConfig.panelIcon||"fa fa-cog",title:r.vRendererConfig.panelTitle||"设置",render:this.manager.makeSchemaFormRender({submitOnChange:r.panelSubmitOnChange,api:r.panelApi,definitions:r.vRendererConfig.panelDefinitions,controls:r.vRendererConfig.panelControlsCreator?r.vRendererConfig.panelControlsCreator(e):r.vRendererConfig.panelControls,body:r.vRendererConfig.panelBodyCreator?r.vRendererConfig.panelBodyCreator(e):r.vRendererConfig.panelBody,justify:r.vRendererConfig.panelJustify,panelById:s.activeId})}),e.info.plugin===this&&e.info.multifactor)){var d=e.node.sameIdChild;d&&this.manager.collectPanels(d,!1,!0).forEach((function(e){var a,l;if("code"===e.key){var i=t.some((function(e){return"code"===e.key}));i||t.push(e)}else"renderers"===e.key?(i=t.some((function(e){return"renderers"===e.key})),i||t.push(e)):"outline"===e.key||"commonConfig"===e.key||"page-setting"===e.key||"name-list"===e.key||e.isNotConfigPanel||t.push(n.__assign(n.__assign({},e),{key:"sub-".concat(e.key),icon:(null===(l=null===(a=d.info)||void 0===a?void 0:a.plugin)||void 0===l?void 0:l.icon)||e.icon}))}))}},e.prototype.buildSubRenderers=function(e,t,a){var n=this;return Array.isArray(n.scaffolds)?n.scaffolds.map((function(e){var t,a,l,i,o,r,s,d;return{name:null!==(t=e.name)&&void 0!==t?t:n.name,icon:null!==(a=e.icon)&&void 0!==a?a:n.icon,description:null!==(l=e.description)&&void 0!==l?l:n.description,previewSchema:null!==(i=e.previewSchema)&&void 0!==i?i:n.previewSchema,tags:null!==(o=e.tags)&&void 0!==o?o:n.tags,docLink:null!==(r=e.docLink)&&void 0!==r?r:n.docLink,type:null!==(s=e.type)&&void 0!==s?s:n.type,scaffold:null!==(d=e.scaffold)&&void 0!==d?d:n.scaffold,scaffoldForm:n.scaffoldForm,disabledRendererPlugin:n.disabledRendererPlugin,isBaseComponent:n.isBaseComponent,rendererName:n.rendererName}})):n.name&&n.description?{searchKeywords:n.searchKeywords,name:n.name,icon:n.icon,description:n.description,previewSchema:n.previewSchema,tags:n.tags,docLink:n.docLink,type:n.type,scaffold:n.scaffold,scaffoldForm:n.scaffoldForm,disabledRendererPlugin:n.disabledRendererPlugin,isBaseComponent:n.isBaseComponent,rendererName:n.rendererName}:void 0},e.prototype.buildEditorContextMenu=function(e,t){var a,n,l=this,i=e.id,o=e.schema,r=(e.region,e.info),s=e.selections,d=this;r.plugin!==d||s.length||!(null===(a=d.scaffoldForm)||void 0===a?void 0:a.canRebuild)&&!(null===(n=r.scaffoldForm)||void 0===n?void 0:n.canRebuild)||t.push({label:"快速构建「".concat(r.plugin.name,"」"),disabled:o.$$commonSchema,onSelect:function(){return l.manager.reScaffold(i,r.scaffoldForm||d.scaffoldForm,o)}})},e.prototype.buildEditorToolbar=function(e,t){var a,n,l=this,i=e.id,o=e.schema,r=e.info,s=this;r.plugin===s&&((null===(a=s.scaffoldForm)||void 0===a?void 0:a.canRebuild)||(null===(n=r.scaffoldForm)||void 0===n?void 0:n.canRebuild))&&t.push({iconSvg:"harmmer",tooltip:"快速构建「".concat(r.plugin.name,"」"),placement:"bottom",onClick:function(){return l.manager.reScaffold(i,r.scaffoldForm||s.scaffoldForm,o)}})},e.prototype.renderPlaceholder=function(e,t){return l.default.createElement("div",{key:t,className:"wrapper-sm b-a b-light m-b-sm",children:l.default.createElement("span",{className:"text-muted",children:e})})},e.prototype.getPlugin=function(e){return(0,i.default)(this.manager.plugins,(function(t){return"string"==typeof e?t.rendererName===e:t instanceof e}))},e}();t.BasePlugin=o},2821:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="alert",t.$schema="/schemas/AlertSchema.json",t.name="提示",t.isBaseComponent=!0,t.description="用来做文字特殊提示，分为四类：提示类、成功类、警告类和危险类。可结合 <code>visibleOn</code> 用来做错误信息提示。",t.docLink="/amis/zh-CN/components/alert",t.icon="fa fa-exclamation-circle",t.scaffold={type:"alert",body:{type:"tpl",tpl:"提示内容",inline:!1},level:"info"},t.previewSchema=n.__assign(n.__assign({},t.scaffold),{className:"text-left",showCloseButton:!0}),t.regions=[{key:"body",label:"内容区",placeholder:"提示内容"}],t.notRenderFormZone=!0,t.panelTitle="提示",t.panelJustify=!0,t.panelBodyCreator=function(e){return(0,o.getSchemaTpl)("tabs",[{title:"属性",body:(0,o.getSchemaTpl)("collapseGroup",[{title:"基本",body:[{label:"类型",name:"level",type:"select",options:[{label:"提示",value:"info"},{label:"成功",value:"success"},{label:"警告",value:"warning"},{label:"严重",value:"danger"}]},(0,o.getSchemaTpl)("label",{name:"title"}),(0,o.getSchemaTpl)("switch",{label:"可关闭",name:"showCloseButton"}),{type:"ae-Switch-More",mode:"normal",name:"showIcon",label:"图标",hiddenOnDefault:!e.schema.icon,formType:"extend",form:{body:[(0,o.getSchemaTpl)("icon",{label:"自定义图标"})]}}]},(0,o.getSchemaTpl)("status")])},{title:"外观",body:(0,o.getSchemaTpl)("collapseGroup",[(0,o.getSchemaTpl)("style:classNames",{isFormItem:!1})])}])},t}return n.__extends(t,e),t}(i.BasePlugin);t.AlertPlugin=r,(0,l.registerEditorPlugin)(r)},1509:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnchorNavPlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(9756),o=a(9547),r=a(9933),s=a(5863),d=a(9703),c=n.__importDefault(a(8425)),p=a(1548),u=a(7981),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="anchor-nav",t.$schema="/schemas/AnchorNavSchema.json",t.name="锚点导航",t.isBaseComponent=!0,t.description="锚点导航，在多行内容展示时，可以将内容用锚点导航分组的形式展示，点击导航菜单可以定位到对应内容区域。",t.docLink="/amis/zh-CN/components/anchor-nav",t.tags=["容器"],t.icon="fa fa-link",t.scaffold={type:"anchor-nav",links:[{title:"用户信息",body:"用户信息"},{title:"系统配置信息",body:[{type:"form",body:[{type:"fieldSet",title:"系统配置信息",body:[{type:"input-email",name:"email",placeholder:"请输入邮箱地址",label:"邮箱"}]}]}]},{title:"权限管理",body:[{type:"form",body:[{type:"fieldSet",title:"权限管理",body:[{type:"input-email",name:"email",placeholder:"请输入邮箱地址",label:"邮箱"}]}]}]},{title:"角色管理",body:"角色管理"},{title:"网络配置信息",body:"网络配置信息"}]},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="锚点导航",t.panelBody=[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{name:"links",type:"combo",label:"锚点管理",multiple:!0,draggable:!0,minLength:1,items:[{type:"input-text",name:"title",required:!0}],scaffold:{title:"锚点内容",body:{type:"tpl",tpl:"内容",inline:!1}},addButtonText:"新增锚点",draggableTip:""}]},{title:"外观",body:[(0,o.getSchemaTpl)("className"),(0,o.getSchemaTpl)("className",{name:"linkClassName",label:"导航 CSS 类名"}),(0,o.getSchemaTpl)("className",{name:"sectionClassName",label:"区域内容 CSS 类名"})]}])],t.patchContainers=["anchor-nav.body"],t.vRendererConfig={regions:{body:{key:"body",label:"内容区"}},panelTitle:"内容区域",panelBody:[(0,o.getSchemaTpl)("fieldSet",{title:"常规",body:[{name:"title",label:"标题",type:"input-text",required:!0}]}),(0,o.getSchemaTpl)("fieldSet",{title:"外观",body:[(0,o.getSchemaTpl)("className")]})]},t.wrapperProps={unmountOnExit:!0,mountOnEnter:!0},t.sectionWrapperResolve=function(e){return e.parentElement},t.overrides={render:function(){var e=this,t=this.super();if(!this.renderSection&&this.props.$$editor&&t){var a=this.props.links;return(0,d.mapReactElement)(t,(function(t){var n,i;if(t.type===u.AnchorNavSection&&t.props.$$id){var o=t.props.$$id,r=(0,c.default)(a,(function(e){return e.$$id===o})),d=e.props.$$editor,m=d.plugin;if(~r){var h=null===(i=null===(n=m.vRendererConfig)||void 0===n?void 0:n.regions)||void 0===i?void 0:i.body;return h?l.default.cloneElement(t,{children:l.default.createElement(s.VRenderer,{key:o,type:d.type,plugin:d.plugin,renderer:d.renderer,$schema:"/schemas/SectionSchema.json",hostId:d.id,memberIndex:r,name:"".concat(t.props.title||"锚点内容".concat(r+1)),id:o,draggable:!1,wrapperResolve:m.sectionWrapperResolve,schemaPath:"".concat(d.schemaPath,"/anchor-nav/").concat(r),path:"".concat(e.props.$path,"/").concat(r),data:e.props.data},l.default.createElement(p.RegionWrapper,{key:h.key,preferTag:h.preferTag,name:h.key,label:h.label,regionConfig:h,placeholder:h.placeholder,editorStore:m.manager.store,manager:m.manager,children:t.props.children,wrapperResolve:h.wrapperResolve,rendererName:d.renderer.name}))}):t}}return t}))}return t}},t}return n.__extends(t,e),t}(r.BasePlugin);t.AnchorNavPlugin=m,(0,i.registerEditorPlugin)(m)},1596:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AudioPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="audio",t.$schema="/schemas/AudioSchema.json",t.name="音频",t.isBaseComponent=!0,t.description="音频控件，可以用来播放各种音频文件。",t.tags=["功能"],t.icon="fa fa-music",t.scaffold={type:"audio",autoPlay:!1,src:""},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="音频",t.panelBodyCreator=function(e){var t=/\/field\/\w+$/.test(e.path);return[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[t?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{name:"src",type:"input-text",label:"音频地址",description:"支持获取变量如：<code>\\${audioSrc}</code>"},{type:"select",name:"rates",label:"音频倍速",description:"加速范围在0.1到16之间",multiple:!0,pipeIn:function(e){return Array.isArray(e)?e.join(","):[]},pipeOut:function(e){if(e&&e.length){var t=e.split(",");return t=t.filter((function(e){return Number(e)&&Number(e)>0&&Number(e)<=16})).map((function(e){return Number(Number(e).toFixed(1))})),Array.from(new Set(t))}return[]},options:["0.5","1","1.5","2","2.5","3","3.5","4"]},{name:"controls",type:"select",label:"内部控件",multiple:!0,extractValue:!0,joinValues:!1,options:[{label:"倍速",value:"rates"},{label:"播放",value:"play"},{label:"时间",value:"time"},{label:"进度",value:"process"},{label:"音量",value:"volume"}],pipeIn:(0,o.defaultValue)(["rates","play","time","process","volume"]),labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:"选择倍速后，还需要在常规选择栏中配置倍速",placement:"left"}},(0,o.getSchemaTpl)("switch",{name:"autoPlay",label:"自动播放"}),(0,o.getSchemaTpl)("switch",{name:"loop",label:"循环播放"})]},{title:"外观",body:[(0,o.getSchemaTpl)("className"),(0,o.getSchemaTpl)("switch",{name:"inline",label:"内联模式",pipeIn:(0,o.defaultValue)(!0)})]},{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}])]},t}return n.__extends(t,e),t}(i.BasePlugin);t.AudioPlugin=r,(0,l.registerEditorPlugin)(r)},7717:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="avatar",t.$schema="/schemas/AvatarSchema.json",t.name="头像",t.isBaseComponent=!0,t.icon="fa fa-user",t.description="用户头像",t.docLink="/amis/zh-CN/components/avatar",t.tags=["其他"],t.scaffold={type:"avatar",icon:"fa fa-user"},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="面包屑",t.panelBody=[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{type:"input-text",label:"文字",name:"text"},{type:"select",label:"图片拉伸方式",options:["cover","fill","contain","none","scale-down"]},{type:"radios",name:"shape",inline:!0,value:"circle",label:"形状",options:["circle","square"]},{name:"icon",label:"图标",type:"icon-picker",className:"fix-icon-picker-overflow"},{name:"size",label:"大小",value:40,type:"input-number"}]},{title:"外观",body:[(0,o.getSchemaTpl)("className"),(0,o.getSchemaTpl)("style")]},{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}])],t}return n.__extends(t,e),t}(i.BasePlugin);t.AvatarPlugin=r,(0,l.registerEditorPlugin)(r)},2029:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BreadcrumbPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="breadcrumb",t.$schema="/schemas/BreadcrumbSchema.json",t.disabledRendererPlugin=!0,t.name="面包屑",t.isBaseComponent=!0,t.icon="fa fa-list",t.description="面包屑导航",t.docLink="/amis/zh-CN/components/breadcrumb",t.tags=["其他"],t.scaffold={type:"breadcrumb",items:[{label:"首页",href:"/",icon:"fa fa-home"},{label:"上级页面"},{label:"<b>当前页面</b>"}]},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="面包屑",t.panelBody=[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{label:"分隔符",type:"input-text",name:"separator"},(0,o.getSchemaTpl)("api",{label:"动态数据",name:"source"}),{label:"面包屑",name:"items",type:"combo",multiple:!0,multiLine:!0,draggable:!0,addButtonText:"新增",items:[{type:"input-text",placeholder:"文本",name:"label"},{type:"input-text",name:"href",placeholder:"链接"},{name:"icon",label:"图标",type:"icon-picker",className:"fix-icon-picker-overflow"}]}]},{title:"外观",body:[(0,o.getSchemaTpl)("className"),(0,o.getSchemaTpl)("className",{name:"itemClassName",label:"面包屑的 CSS 类名"}),,(0,o.getSchemaTpl)("className",{name:"separatorClassName",label:"分隔符的 CSS 类名"})]},{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}])],t}return n.__extends(t,e),t}(i.BasePlugin);t.BreadcrumbPlugin=r,(0,l.registerEditorPlugin)(r)},6460:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(2759),s=a(3570),d=a(935),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="button",t.$schema="/schemas/ActionSchema.json",t.name="按钮",t.isBaseComponent=!0,t.description="用来展示一个按钮，你可以配置不同的展示样式，配置不同的点击行为。",t.docLink="/amis/zh-CN/components/button",t.tags=["按钮"],t.icon="fa fa-square",t.scaffold=n.__assign({type:"button",label:"按钮"},r.BUTTON_DEFAULT_ACTION),t.previewSchema={type:"button",label:"按钮"},t.panelTitle="按钮",t.events=[{eventName:"click",eventLabel:"点击",description:"点击时触发",defaultShow:!0},{eventName:"mouseenter",eventLabel:"鼠标移入",description:"鼠标移入时触发"},{eventName:"mouseleave",eventLabel:"鼠标移出",description:"鼠标移出时触发"}],t.actions=[],t.panelJustify=!0,t.panelBodyCreator=function(e){var a,l,i=/(?:\/|^)dialog\/.+$/.test(e.path),c=/(?:\/|^)drawer\/.+$/.test(e.path),p=/^button-group\/.+$/.test(e.path);return(0,o.getSchemaTpl)("tabs",[{title:"属性",body:(0,o.getSchemaTpl)("collapseGroup",[{title:"基本",body:[{label:"名称",type:"input-text",name:"label"},{label:"类型",type:"button-group-select",name:"type",size:"sm",options:[{label:"按钮",value:"button"},{label:"提交",value:"submit"},{label:"重置",value:"reset"}]},(0,o.getSchemaTpl)("switch",{name:"close",label:"是否关闭",clearValueOnHidden:!0,labelRemark:"指定此次操作完后关闭当前 ".concat(i?"dialog":"drawer"),hidden:!i&&!c,pipeIn:(0,o.defaultValue)(!1)}),{type:"ae-switch-more",mode:"normal",formType:"extend",label:(0,r.tipedLabel)("二次确认","点击后先询问用户，由手动确认后再执行动作，避免误触。可用<code>\\${xxx}</code>取值。"),form:{body:[{name:"confirmText",type:"input-text",label:"确认内容"}]}},{type:"ae-switch-more",formType:"extend",mode:"normal",label:"气泡提示",hidden:p,form:{body:[{type:"input-text",name:"tooltip",label:(0,r.tipedLabel)("正常提示","正常状态下的提示内容，不填则不弹出提示。可用<code>\\${xxx}</code>取值。")},{type:"input-text",name:"disabledTip",label:(0,r.tipedLabel)("禁用提示","禁用状态下的提示内容，不填则弹出正常提示。可用<code>\\${xxx}</code>取值。"),clearValueOnHidden:!0,visibleOn:'data.tooltipTrigger !== "focus"'},{type:"button-group-select",name:"tooltipTrigger",label:"触发方式",size:"sm",options:[{label:"鼠标悬浮",value:"hover"},{label:"聚焦",value:"focus"}],pipeIn:(0,o.defaultValue)("hover")},{type:"button-group-select",name:"tooltipPlacement",label:"提示位置",size:"sm",options:[{label:"上",value:"top"},{label:"右",value:"right"},{label:"下",value:"bottom"},{label:"左",value:"left"}],pipeIn:(0,o.defaultValue)("bottom")}]}},(0,o.getSchemaTpl)("icon",{label:"左侧图标"}),(0,o.getSchemaTpl)("icon",{name:"rightIcon",label:"右侧图标"})]},(0,o.getSchemaTpl)("status",{disabled:!0})])},{title:"外观",body:(0,o.getSchemaTpl)("collapseGroup",[{title:"基本",body:[(0,o.getSchemaTpl)("buttonLevel",{label:"样式",name:"level",hidden:p}),(0,o.getSchemaTpl)("buttonLevel",{label:"高亮样式",name:"activeLevel",hidden:p,visibleOn:"data.active"}),(0,o.getSchemaTpl)("switch",{name:"block",label:"块状显示",hidden:p}),(0,o.getSchemaTpl)("size",{label:"尺寸",hidden:p})]},(0,o.getSchemaTpl)("style:classNames",{isFormItem:!1,schema:[(0,o.getSchemaTpl)("className",{name:"iconClassName",label:"左侧图标",visibleOn:"this.icon"}),(0,o.getSchemaTpl)("className",{name:"rightIconClassName",label:"右侧图标",visibleOn:"this.rightIcon"})]})])},{title:"事件",className:"p-none",body:!1!==(null===(l=null===(a=t.manager)||void 0===a?void 0:a.config.actionOptions)||void 0===l?void 0:l.showOldEntry)&&(e.schema.actionType||["submit","reset"].includes(e.schema.type))?[(0,o.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,s.getEventControlConfig)(t.manager,e))),(0,d.getOldActionSchema)(t.manager,e)]:[(0,o.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,s.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t.prototype.filterProps=function(e){return e.disabled=!1,e},t.prototype.getRendererInfo=function(e){var t=e.renderer,a=e.schema,n=this;if(a.$$id&&n.name&&n.rendererName&&n.rendererName===t.name)return{name:a.label?a.label:n.name,regions:n.regions,patchContainers:n.patchContainers,vRendererConfig:n.vRendererConfig,wrapperProps:n.wrapperProps,wrapperResolve:n.wrapperResolve,filterProps:n.filterProps,$schema:n.$schema,renderRenderer:n.renderRenderer}},t}(i.BasePlugin);t.ButtonPlugin=c,(0,l.registerEditorPlugin)(c)},4930:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonGroupPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(2759),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="button-group",t.$schema="/schemas/ButtonGroupSchema.json",t.name="按钮组",t.isBaseComponent=!0,t.description="用来展示多个按钮，视觉上会作为一个整体呈现。",t.tags=["按钮"],t.icon="fa fa-object-group",t.docLink="/amis/zh-CN/components/button-group",t.scaffold={type:"button-group",buttons:[n.__assign({type:"button",label:"按钮1"},r.BUTTON_DEFAULT_ACTION),n.__assign({type:"button",label:"按钮2"},r.BUTTON_DEFAULT_ACTION)]},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="按钮组",t.panelJustify=!0,t.panelBodyCreator=function(e){return(0,r.formItemControl)({common:{replace:!0,body:[{type:"button-group-select",name:"vertical",label:"布局方向",value:!1,options:[{label:"水平",value:!1},{label:"垂直",value:!0}]},{type:"switch",name:"tiled",label:"平铺模式",inputClassName:"is-inline",value:!1}]},option:{title:"按钮管理",replace:!0,body:[{name:"buttons",mode:"normal",type:"combo",label:"",multiple:!0,addable:!0,minLength:1,draggable:!0,draggableTip:"",editable:!1,visibleOn:"this.buttons && this.buttons.length",items:[{type:"tpl",inline:!1,tpl:'<span class="label label-default"><% if (data.type === "button-group") { %> 按钮组 <% } else { %><%= data.label %><% if (data.icon) { %><i class="<%= data.icon %>"/><% }%><% } %></span>'}],addButtonText:"新增按钮",scaffold:{type:"button",label:"按钮"}}]},status:{replace:!0,body:[(0,o.getSchemaTpl)("hidden")]},style:{replace:!0,body:[(0,o.getSchemaTpl)("size"),(0,o.getSchemaTpl)("className"),(0,o.getSchemaTpl)("className",{label:"按钮 CSS 类名",name:"btnClassName"})]},validation:{hidden:!0},event:{hidden:!0}},e)},t.regions=[{key:"buttons",label:"子按钮",renderMethod:"render",preferTag:"按钮",insertPosition:"inner"}],t}return n.__extends(t,e),t}(i.BasePlugin);t.ButtonGroupPlugin=s,(0,l.registerEditorPlugin)(s)},1838:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonToolbarPlugin=void 0;var n=a(752),l=a(9933),i=a(9547),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="button-toolbar",t.$schema="/schemas/ButtonToolbarSchema.json",t.name="按钮工具栏",t.isBaseComponent=!0,t.description="可以用来放置多个按钮或者按钮组，按钮之间会存在一定的间隔",t.tags=["按钮"],t.icon="fa fa-ellipsis-h",t.disabledRendererPlugin=!0,t.scaffold={type:"button-toolbar",buttons:[{type:"button",label:"按钮1"},{type:"button",label:"按钮2"}]},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="按钮工具栏",t.panelBody=[(0,i.getSchemaTpl)("tabs",[{title:"常规",body:[{name:"buttons",type:"combo",label:"按钮管理",multiple:!0,addable:!0,draggable:!0,draggableTip:"可排序、可移除、如要编辑请在预览区选中编辑",editable:!1,visibleOn:"this.buttons && this.buttons.length",items:[{type:"tpl",inline:!1,className:"p-t-xs",tpl:'<span class="label label-default"><% if (data.type === "button-group") { %> 按钮组 <% } else { %><%= data.label %><% if (data.icon) { %><i class="<%= data.icon %>"/><% }%><% } %></span>'}],addButtonText:"新增按钮",scaffold:{type:"button",label:"按钮"}}]},{title:"外观",body:[(0,i.getSchemaTpl)("className")]},{title:"显隐",body:[(0,i.getSchemaTpl)("ref"),(0,i.getSchemaTpl)("visible")]}])],t}return n.__extends(t,e),t}(l.BasePlugin);t.ButtonToolbarPlugin=o},6062:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CRUDPlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(1712)),o=n.__importDefault(a(9591)),r=n.__importDefault(a(6689)),s=a(9756),d=a(9933),c=a(9547),p=a(3570),u=a(9794),m=a(2717),h=a(9794),f=function(e){return"tpl"===e?"input-text":"status"===e||"mapping"===e?"select":"input-".concat(e)},g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="crud",t.$schema="/schemas/CRUDSchema.json",t.order=-1e3,t.name="增删改查",t.isBaseComponent=!0,t.description="用来实现对数据的增删改查，支持三种模式展示：table、cards和list. 负责数据的拉取，分页，单条操作，批量操作，排序，快速编辑等等功能。集成查询条件。",t.docLink="/amis/zh-CN/components/crud",t.tags=["功能"],t.icon="fa fa-table",t.scaffold={type:"crud",syncLocation:!1,api:"",columns:[{name:"id",label:"ID",type:"text"},{name:"engine",label:"渲染引擎",type:"text"}],bulkActions:[],itemActions:[]},t.sampleBuilder=function(e){var t={items:[],total:0};if(Array.isArray(null==e?void 0:e.columns)){var a={};e.columns.forEach((function(e){(null==e?void 0:e.name)&&(0,u.setVariable)(a,e.name,"sample")})),t.items.push(a)}return JSON.stringify({status:0,msg:"",data:t},null,2)},t.btnSchemas={create:{label:"新增",type:"button",actionType:"dialog",level:"primary",dialog:{title:"新增",body:{type:"form",api:"xxx/create",body:[]}}},update:{label:"编辑",type:"button",actionType:"dialog",level:"link",dialog:{title:"编辑",body:{type:"form",api:"xxx/update",body:[]}}},view:{label:"查看",type:"button",actionType:"dialog",level:"link",dialog:{title:"查看详情",body:{type:"form",api:"xxx/update",body:[]}}},delete:{type:"button",label:"删除",actionType:"ajax",level:"link",className:"text-danger",confirmText:"确定要删除？",api:"delete:/xxx/delete"},bulkDelete:{type:"button",level:"danger",label:"批量删除",actionType:"ajax",confirmText:"确定要删除？",api:"/xxx/batch-delete"},bulkUpdate:{type:"button",label:"批量编辑",actionType:"dialog",dialog:{title:"批量编辑",size:"md",body:{type:"form",api:"/xxx/bacth-edit",body:[{label:"字段1",text:"字段1",type:"input-text"}]}}},filter:{title:"查询条件",body:[{type:"input-text",name:"keywords",label:"关键字"}]}},t.scaffoldForm={title:"增删改查快速开始-CRUD",body:[(0,c.getSchemaTpl)("api",{label:"接口地址",sampleBuilder:function(e){return JSON.stringify({status:0,msg:"",data:[{id:1,name:"Jack"},{id:2,name:"Rose"}]},null,2)}}),{type:"button",label:"格式校验并自动生成列配置",className:"m-t-xs m-b-xs",onClick:function(e,a){return n.__awaiter(t,void 0,void 0,(function(){var e,t,i,o,r,s,d,c;return n.__generator(this,(function(n){switch(n.label){case 0:return e=a.data,t=(0,m.getEnv)(window.editorStore).schemaFilter,i=e.api,t&&(i=t({api:e.api}).api),[4,a.env.fetcher(i,e)];case 1:return o=n.sent(),r=[],(null==(s=(null===(d=o.data)||void 0===d?void 0:d.rows)||(null===(c=o.data)||void 0===c?void 0:c.items))?void 0:s.length)?(Object.keys(s[0]).forEach((function(e){s[0][e],r.push({label:e,type:"text",name:e})})),a.formStore.setValues({columns:r}),a.formStore.setValues({filterSettingSource:r.map((function(e){return e.name}))})):l.toast.warning("API返回格式不正确，请点击接口地址右侧示例的问号查看示例"),[2]}}))}))}},{name:"features",label:"启用功能",type:"checkboxes",joinValues:!1,extractValue:!0,itemClassName:"max-w-lg",options:[{label:"新增",value:"create"},{label:"查询",value:"filter"},{label:"批量删除",value:"bulkDelete"},{label:"批量修改",value:"bulkUpdate"},{label:"操作栏-编辑",value:"update"},{label:"操作栏-查看详情",value:"view"},{label:"操作栏-删除",value:"delete"}]},{type:"group",body:[{columnRatio:10,type:"checkboxes",label:"启用的查询字段",name:"filterEnabledList",joinValues:!1,source:"${filterSettingSource}"},{columnRatio:2,type:"input-number",label:"每列显示几个字段",value:3,name:"filterColumnCount"}],visibleOn:'data.features && data.features.includes("filter")'},{name:"columns",type:"input-table",label:!1,addable:!0,removable:!0,needConfirm:!1,columns:[{type:"input-text",name:"label",label:"标题"},{type:"input-text",name:"name",label:"绑定字段名"},{type:"select",name:"type",label:"类型",value:"text",options:[{value:"text",label:"纯文本"},{value:"tpl",label:"模板"},{value:"image",label:"图片"},{value:"date",label:"日期"},{value:"progress",label:"进度"},{value:"status",label:"状态"},{value:"mapping",label:"映射"},{value:"operation",label:"操作栏"}]}]}],pipeOut:function(e){var a=(0,o.default)(e),l=a.features,r={type:"operation",label:"操作",buttons:[]},s=["update","view","delete"],d=(0,i.default)(l,"length");a.bulkActions=[],a.api=(0,h.normalizeApi)(a.api),d&&l.forEach((function(l){var i,d;if(s.includes(l)){var c=void 0;"update"===l?(c=(0,o.default)(t.btnSchemas.update)).dialog.body.body=e.columns.filter((function(e){var t=e.type;return"progress"!==t&&"operation"!==t})).map((function(e){var t=e.type,a=n.__rest(e,["type"]);return n.__assign(n.__assign({},a),{type:f(t)})})):"view"===l?(c=(0,o.default)(t.btnSchemas.view)).dialog.body.body=e.columns.map((function(e){e.type;var t=n.__rest(e,["type"]);return n.__assign(n.__assign({},t),{type:"static"})})):"delete"===l&&((c=(0,o.default)(t.btnSchemas.delete)).api=(null===(i=a.api)||void 0===i?void 0:i.method.match(/^(post|delete)$/i))?a.api:n.__assign(n.__assign({},a.api),{method:"post"})),t.addItem(r.buttons,c)}else{if("bulkUpdate"===l&&t.addItem(a.bulkActions,(0,o.default)(t.btnSchemas.bulkUpdate)),"bulkDelete"===l&&t.addItem(a.bulkActions,(0,o.default)(t.btnSchemas.bulkDelete)),"create"===l){var p=t.btnSchemas.create;p.dialog.body={type:"form",api:(null===(d=a.api)||void 0===d?void 0:d.method.match(/^(post|put)$/i))?a.api:n.__assign(n.__assign({},a.api),{method:"post"}),body:a.columns.map((function(e){var t=e.type;return{type:f(t),name:e.name,label:e.label}}))},a.headerToolbar=[p,"bulkActions"]}var u=Object.keys(a.filter||{});"filter"!==l||u.length||a.filterEnabledList&&(a.filter={title:"查询条件"},a.filter.columnCount=e.filterColumnCount,a.filter.mode="horizontal",a.filter.body=a.filterEnabledList.map((function(e){return{type:"input-text",label:e.label,name:e.value}})))}}));var c=a.columns.find((function(e){return"operation"===e.type}));return d&&!c&&a.columns.push(r),a},canRebuild:!0},t.multifactor=!0,t.previewSchema={syncLocation:!1,type:"crud",className:"text-left",bodyClassName:"m-b-none",affixHeader:!1,data:{items:[{a:1,b:2},{a:3,b:4},{a:5,b:6}]},source:"${items}",columns:[{label:"A",name:"a"},{label:"B",name:"b"},{type:"operation",label:"操作",buttons:[{icon:"fa fa-eye",type:"button"},{icon:"fa fa-edit",type:"button"}]}]},t.panelTitle="增删改查",t.panelBodyCreator=function(e){t.manager.store;var a=e.id;return(0,c.getSchemaTpl)("tabs",[{title:"常规",body:[(0,c.getSchemaTpl)("switch",{name:"filter",label:"启用查询条件",pipeIn:function(e){return!!e},pipeOut:function(e,a){return e?t.oldFilter||(0,p.JSONPipeIn)({title:"查询条件",body:[{type:"input-text",name:"keywords",label:"关键字"}]}):(t.oldFilter=a,null)}}),{type:"divider"},{label:"批量操作",name:"bulkActions",type:"combo",hiddenOn:"data.pickerMode && data.multiple",inputClassName:"ae-BulkActions-control",multiple:!0,draggable:!0,draggableTip:"",scaffold:{label:"按钮",type:"button"},labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"通过此可以管理批量操作按钮，只有设置了批量操作按钮才会出现选择框，可在外观中配置批量操作按钮位置。",placement:"left"},items:[{type:"tpl",tpl:'<span class="label label-success">${label}</span>',columnClassName:"p-t-xs"},{columnClassName:"p-t-xs col-edit",children:function(e){var n=e.index;return r.default.createElement("button",{onClick:t.handleBulkActionEdit.bind(t,a,n),"data-tooltip":"修改","data-position":"bottom",className:"text-muted"},r.default.createElement("i",{className:"fa fa-pencil"}))}}]},{type:"divider"},{label:"单条操作",name:"itemActions",type:"combo",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"设置后，当鼠标悬停行数据上，会出现该操作按钮，同时顶部操作栏也会显示该按钮，勾选成员时与批量按钮智能切换。",placement:"left"},hiddenOn:'this.mode && this.mode !== "table" || this.pickerMode',inputClassName:"ae-BulkActions-control",multiple:!0,draggable:!0,scaffold:{label:"按钮",type:"button"},items:[{type:"tpl",tpl:'<span class="label label-success">${label}</span>',columnClassName:"p-t-xs"},{type:"checkbox",className:"text-xs",option:"悬停隐藏",name:"hiddenOnHover"},{columnClassName:"p-t-xs col-edit",children:function(e){var n=e.index;return r.default.createElement("button",{onClick:t.handleItemActionEdit.bind(t,a,n),"data-tooltip":"修改","data-position":"bottom",className:"text-muted"},r.default.createElement("i",{className:"fa fa-pencil"}))}}]},{type:"divider",hiddenOn:'this.mode && this.mode !== "table" || this.pickerMode'},(0,c.getSchemaTpl)("switch",{name:"syncLocation",label:"同步地址栏",pipeIn:(0,c.defaultValue)(!0),labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"开启后会把查询条件数据和分页信息同步到地址栏中，页面中出现多个时，建议只保留一个同步地址栏，否则会相互影响。",placement:"left"}}),{label:"默认参数",type:"input-kv",name:"defaultParams",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"可以用来设置默认参数，比如 <code>perPage:20</code>",placement:"left"}},{type:"divider"},(0,c.getSchemaTpl)("switch",{name:"keepItemSelectionOnPageChange",label:"保留条目选择",visbileOn:"this.bulkActions && this.bulkActions.length || this.itemActions && this.itemActions.length",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"默认分页、搜索后，用户选择条目会被清空，开启此选项后会保留用户选择，可以实现跨页面批量操作。",placement:"left"}}),{name:"labelTpl",type:"input-text",label:"单条描述模板",visibleOn:"this.keepItemSelectionOnPageChange",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"开启【保留条目选择】后会把所有已选择条目列出来，此选项可以用来定制条目展示文案。",placement:"left"}},{name:"primaryField",label:"指定主键",type:"input-text",pipeIn:(0,c.defaultValue)("id"),description:"默认<code>id</code>，用于批量操作获取行级数据"}]},{title:"接口",body:[(0,c.getSchemaTpl)("api",{label:"数据拉取接口",sampleBuilder:function(){var t,a,n={items:[],total:0},l=null!==(a=null===(t=null==e?void 0:e.schema)||void 0===t?void 0:t.columns)&&void 0!==a?a:[],i={};return l.forEach((function(e){e.name&&(0,u.setVariable)(i,e.name,"sample")})),n.items.push(i),JSON.stringify({status:0,msg:"",data:n},null,2)}}),{name:"initFetch",type:"radios",label:"是否初始拉取",pipeIn:function(e){return"boolean"==typeof e&&e||"boolean"!=typeof e&&""},inline:!0,onChange:function(){},options:[{label:"是",value:!0},{label:"否",value:!1},{label:"表达式",value:""}]},{name:"initFetch",autoComplete:!1,visibleOn:'typeof this.initFetch !== "boolean"',type:"input-text",placeholder:"用 JS 表达式来决定",className:"m-t-n-sm"},(0,c.getSchemaTpl)("switch",{name:"loadDataOnce",label:"一次性拉取",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"开启后，数据只会在初始的时候拉取，后续分页、排序不再请求接口，都由前端直接完成。",placement:"left"}}),(0,c.getSchemaTpl)("switch",{label:"开启定时刷新",name:"interval",visibleOn:"data.api",pipeIn:function(e){return!!e},pipeOut:function(e){return e?3e3:void 0}}),{name:"interval",type:"input-number",visibleOn:'typeof data.interval === "number"',step:500,className:"m-t-n-sm",description:"设置后将自动定时刷新，单位 ms"},(0,c.getSchemaTpl)("switch",{name:"silentPolling",label:"静默刷新",visibleOn:"!!data.interval",description:"设置自动定时刷新时是否显示loading"}),{name:"stopAutoRefreshWhen",label:"停止定时刷新检测表达式",type:"input-text",visibleOn:"!!data.interval",description:"定时刷新一旦设置会一直刷新，除非给出表达式，条件满足后则不刷新了。"},(0,c.getSchemaTpl)("switch",{name:"stopAutoRefreshWhenModalIsOpen",label:"当有弹框时关闭自动刷新",visibleOn:"!!data.interval",description:"弹框打开关闭自动刷新，关闭弹框又恢复"}),{type:"divider"},(0,c.getSchemaTpl)("switch",{name:"draggable",label:"是否可拖拽排序"}),(0,c.getSchemaTpl)("api",{label:"顺序保存接口",name:"saveOrderApi",visibleOn:"data.draggable"}),{type:"divider"},(0,c.getSchemaTpl)("api",{label:"快速保存接口",name:"quickSaveApi",description:"当 column 中设置了快速编辑后将使用此接口批量保存数据。"}),{type:"divider"},(0,c.getSchemaTpl)("api",{label:"快速保存单条接口",name:"quickSaveItemApi",description:"当 column 中设置了快速编辑且设置了立即保存，将使用此接口保存数据。"}),{type:"divider"},{label:"默认消息提示",type:"combo",name:"messages",multiLine:!0,description:"覆盖默认消息提示，但如果 api 返回 msg 则会优先使用这个 msg",items:[{label:"获取成功提示",type:"input-text",name:"fetchSuccess"},{label:"获取失败提示",type:"input-text",name:"fetchFailed"},{label:"保存顺序成功提示",type:"input-text",name:"saveOrderSuccess"},{label:"保存顺序失败提示",type:"input-text",name:"saveOrderFailed"},{label:"快速保存成功提示",type:"input-text",name:"quickSaveSuccess"},{label:"快速保存失败提示",type:"input-text",name:"quickSaveFailed"}]}]},{title:"外观",body:[{label:"内容展示模式",name:"mode",type:"button-group-select",size:"xs",pipeIn:function(e,t){var a;return null!==(a="grid"===e?"cards":e)&&void 0!==a?a:"table"},onChange:function(e,t,a,n){var l,i,r,s,d,c,p=null===(i=null===(l=null==n?void 0:n.data)||void 0===l?void 0:l.headerToolbar)||void 0===i?void 0:i.some((function(e){return"columns-toggler"===e.type})),u=(0,o.default)(null===(r=null==n?void 0:n.data)||void 0===r?void 0:r.headerToolbar);"table"!==e&&"table"===t&&(c=(null==u?void 0:u.find((function(e){return"columns-toggler"===e.type})))||{type:"columns-toggler",align:"right"},n.setValues({__headerHasColumnsToggler:p})),u="table"===e?u:null==u?void 0:u.filter((function(e){return"columns-toggler"!==e.type})),"table"===e?((null===(s=null==n?void 0:n.data)||void 0===s?void 0:s.__headerHasColumnsToggler)&&!p&&(null==u||u.push((null===(d=null==n?void 0:n.data)||void 0===d?void 0:d.__cacheColumnsToggler)||{type:"columns-toggler",align:"right"})),n.setValues({headerToolbar:u,columns:n.data.__columns||[{label:"ID",name:"id"},{label:"列信息",name:"name"}],__headerHasColumnsToggler:p,__card:n.data.card||n.data.__card,__listItem:n.data.listItem||n.data.__listItem}),n.deleteValueByName("card"),n.deleteValueByName("listItem")):"cards"===e?("table"===t&&n.setValues({__cacheColumnsToggler:c}),n.setValues({headerToolbar:u,card:n.data.__card||{type:"card",header:{title:"标题",subTitle:"副标题"},body:[{name:"a",label:"A"},{name:"b",label:"B"}],actions:[{label:"详情",type:"button"}]},__columns:n.data.columns||n.data.__columns,__listItem:n.data.listItem||n.data.__listItem}),n.deleteValueByName("columns"),n.deleteValueByName("listItem")):("table"===t&&n.setValues({__cacheColumnsToggler:c}),n.setValues({headerToolbar:u,listItem:n.data.__listItem||{body:[{type:"tpl",tpl:"简单的展示数据：$a $b"}],actions:[{icon:"fa fa-eye",type:"button"}]},__columns:n.data.columns||n.data.__columns,__card:n.data.card||n.data.__card}),n.deleteValueByName("columns"),n.deleteValueByName("card"))},options:[{value:"table",label:"表格"},{value:"cards",label:"卡片"},{value:"list",label:"列表"}]},{name:"headerToolbar",type:"combo",draggable:!0,draggableTip:"",descrition:"非内建内容请在预览区选中后编辑",label:"顶部工具栏配置",pipeIn:function(e){return Array.isArray(e)||(e=e?[e]:["bulkActions"]),e.map((function(e){var t=e.type;return"string"==typeof e&&~["bulkActions","bulk-actions","pagination","statistics","switch-per-page","filter-toggler","load-more","export-csv","export-excel"].indexOf(e)?e={type:t="bulkActions"===e?"bulk-actions":e}:"string"==typeof e&&(t="tpl",e="string"==typeof e?{type:"tpl",tpl:e}:e),n.__assign({type:t},e)}))},pipeOut:function(e){return Array.isArray(e)?e.map((function(e){return"button"===e.type?(0,p.JSONPipeIn)(n.__assign({label:"按钮",type:"button"},e)):"tpl"===e.type?(0,p.JSONPipeIn)(n.__assign({type:"tpl",tpl:"内容"},e)):e})):[]},scaffold:{type:"tpl",tpl:"内容"},multiple:!0,items:[{type:"select",name:"type",columnClassName:"w-ssm",options:[{value:"bulk-actions",label:"操作栏"},{value:"pagination",label:"分页"},{value:"statistics",label:"统计数据"},{value:"switch-per-page",label:"切换页码"},{value:"load-more",label:"加载更多"},{value:"export-csv",label:"导出 CSV"},{value:"export-excel",label:"导出 Excel"},{value:"columns-toggler",label:"列选择器",visibleOn:'!this.mode || this.mode === "table"'},{value:"filter-toggler",label:"查询条件切换"},{value:"drag-toggler",label:"拖拽切换"},{value:"check-all",label:"全选",hiddenOn:'!this.mode || this.mode === "table"'},{value:"tpl",label:"文本"},{value:"button",label:"按钮"}]},{name:"align",placeholder:"对齐方式",type:"select",size:"xs",options:[{label:"左对齐",value:"left"},{label:"右对齐",value:"right"}]}]},{name:"footerToolbar",type:"combo",draggable:!0,draggableTip:"",descrition:"非内建内容请在预览区选中后编辑",label:"底部工具栏配置",pipeIn:function(e){return Array.isArray(e)||(e=e?[e]:["statistics","pagination"]),e.map((function(e){var t=e.type;return"string"==typeof e&&~["bulkActions","bulk-actions","pagination","statistics","switch-per-page","filter-toggler","load-more","export-csv","export-excel"].indexOf(e)?e={type:t="bulkActions"===e?"bulk-actions":e}:"string"==typeof e&&(t="tpl",e="string"==typeof e?{type:"tpl",tpl:e}:e),n.__assign({type:t},e)}))},pipeOut:function(e){return Array.isArray(e)?e.map((function(e){return"button"===e.type?(0,p.JSONPipeIn)(n.__assign({label:"按钮",type:"button"},e)):"tpl"===e.type?(0,p.JSONPipeIn)(n.__assign({type:"tpl",tpl:"内容"},e)):e})):[]},scaffold:{type:"tpl",tpl:"内容"},multiple:!0,items:[{type:"select",name:"type",columnClassName:"w-ssm",options:[{value:"bulk-actions",label:"操作栏"},{value:"pagination",label:"分页"},{value:"statistics",label:"统计数据"},{value:"switch-per-page",label:"切换页码"},{value:"load-more",label:"加载更多"},{value:"export-csv",label:"导出 CSV"},{value:"export-excel",label:"导出 Excel"},{value:"columns-toggler",label:"列选择器",hiddenOn:'["grid", "cards", "list"].indexOf(this.mode)'},{value:"filter-toggler",label:"查询条件切换"},{value:"drag-toggler",label:"拖拽切换"},{value:"check-all",label:"全选",hiddenOn:'!this.mode || this.mode === "table"'},{value:"tpl",label:"文本"},{value:"button",label:"按钮"}]},{name:"align",placeholder:"对齐方式",size:"xs",type:"select",options:[{label:"左对齐",value:"left"},{label:"右对齐",value:"right"}]},{type:"remark",content:"详情请在预览区域选中后进行编辑。",trigger:["click"],rootClose:!0,placement:"left",visibleOn:'!~["bulkActions", "drag-toggler", "check-all", "bulk-actions", "pagination", "statistics", "switch-per-page", "filter-toggler", "load-more", "export-csv", "export-excel"].indexOf(this.type)',columnClassName:"no-grow w-3x p-t-xs",className:"m-l-none"}]},(0,c.getSchemaTpl)("switch",{name:"filterTogglable",label:"是否可显隐查询条件",visibleOn:"data.filter"}),(0,c.getSchemaTpl)("switch",{name:"filterDefaultVisible",label:"查询条件默认是否可见",visibleOn:"data.filter && data.filterTogglable",pipeIn:(0,c.defaultValue)(!0)}),(0,c.getSchemaTpl)("switch",{name:"hideQuickSaveBtn",label:"隐藏顶部快速保存提示"}),(0,c.getSchemaTpl)("switch",{name:"alwaysShowPagination",label:"是否总是显示分页"}),(0,c.getSchemaTpl)("switch",{name:"hideCheckToggler",label:"隐藏选择按钮",visibleOn:"data.checkOnItemClick"}),(0,c.getSchemaTpl)("className"),(0,c.getSchemaTpl)("className",{name:"bodyClassName",label:"内容 CSS 类名"})]},{title:"其他",body:[(0,c.getSchemaTpl)("ref"),{name:"source",label:"数据源",type:"input-text",description:"不填写，默认读取接口返回的 items 或者 rows 属性，如果是别的，请在此设置，如： <code>\\${xxxx}</code>"},{name:"perPage",label:"每页数量",type:"input-number"},(0,c.getSchemaTpl)("switch",{name:"keepItemSelectionOnPageChange",label:"翻页时保留选择"}),{name:"maxKeepItemSelectionLength",label:"最大选择数量",type:"input-number",mode:"inline",className:"block"},{name:"pageField",label:"页码字段名",type:"input-text",pipeIn:(0,c.defaultValue)("page")},{name:"perPageField",label:"分页步长字段名",type:"input-text",pipeIn:(0,c.defaultValue)("perPage")},{name:"orderField",label:"排序权重字段",type:"input-text",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"设置用来确定位置的字段名，设置后新的顺序将被赋值到该字段中。",placement:"left"}},{name:"perPageAvailable",label:"切换每页数",type:"input-array",hiddenOn:"data.loadDataOnce",items:{type:"input-number",required:!0},value:[10]},(0,c.getSchemaTpl)("name"),{name:"itemCheckableOn",type:"input-text",label:"配置单条可选中的表达式",description:"请使用 js 表达式，不设置的话每条都可选中。",visibleOn:"data.bulkActions && data.bulkActions.length || data.pickerMode"},(0,c.getSchemaTpl)("switch",{name:"checkOnItemClick",label:"开启单条点击整个区域选中",visibleOn:"data.bulkActions && data.bulkActions.length || data.pickerMode"}),(0,c.getSchemaTpl)("switch",{name:"autoJumpToTopOnPagerChange",label:"自动跳顶部",description:"当切分页的时候，是否自动跳顶部"}),(0,c.getSchemaTpl)("switch",{name:"syncResponse2Query",label:"同步查询条件",description:"查询后将返回的数据同步到查询条件上"})]}])},t.wrapperProps={affixHeader:!1},t}return n.__extends(t,e),t.prototype.addItem=function(e,t){e.find((function(e){return e.label===t.label}))||e.push(t)},t.prototype.handleBulkActionEdit=function(e,t){var a=this.manager.store,n=a.getSchema(e),l=null==n?void 0:n.bulkActions[t];l&&l.$$id&&a.setActiveId(l.$$id)},t.prototype.handleItemActionEdit=function(e,t){var a=this.manager.store,n=a.getSchema(e),l=null==n?void 0:n.itemActions[t];l&&l.$$id&&a.setActiveId(l.$$id)},t.prototype.buildSubRenderers=function(e,t){var a=this;if(a.name&&a.description)return{name:a.name,icon:a.icon,description:a.description,previewSchema:a.previewSchema,tags:a.tags,docLink:a.docLink,type:a.type,scaffold:a.scaffold,disabledRendererPlugin:a.disabledRendererPlugin,isBaseComponent:a.isBaseComponent,scaffoldForm:this.scaffoldForm,rendererName:a.rendererName}},t.prototype.getRendererInfo=function(t){var a=e.prototype.getRendererInfo.call(this,t);return a&&(a.scaffoldForm=this.scaffoldForm),a},t.prototype.renderEditableComponents=function(e){var t=e.render,a=e.bulkActions,l=e.itemActions,i=[];return Array.isArray(a)&&a.length&&i.push(r.default.createElement("div",{key:"bulkActions",className:"ae-EditableRender"},r.default.createElement("div",{className:"ae-EditableRender-title"},"批量操作"),r.default.createElement("div",{className:"ae-EditableRender-body"},a.map((function(e){return t("bulk-action",n.__assign({type:"button",size:"sm"},e),{key:e.$$id})}))))),Array.isArray(l)&&l.length&&i.push(r.default.createElement("div",{key:"itemActions",className:"ae-EditableRender"},r.default.createElement("div",{className:"ae-EditableRender-title"},"单条操作"),r.default.createElement("div",{className:"ae-EditableRender-body"},l.map((function(e){return t("bulk-action",n.__assign({type:"button",size:"sm"},e),{key:e.$$id})}))))),i.length?r.default.createElement("div",{className:"ae-EditableRenderers"},r.default.createElement("div",{className:"ae-EditableRenderers-tip"},"「增删改查」编辑辅助区"),i):null},t.prototype.renderRenderer=function(e){var t=e.$$editor.renderer;return r.default.createElement("div",{className:"ae-CRUDEditor"},this.renderEditableComponents(e),r.default.createElement(t.component,n.__assign({},e)))},t.prototype.filterProps=function(e){return e.pickerMode&&(e.options=e.data.options),e},t.prototype.afterUpdate=function(e){var t,a=this,n=e.context;n.info.plugin===this&&(null===(t=n.diff)||void 0===t?void 0:t.some((function(e){var t;return"mode"===(null===(t=e.path)||void 0===t?void 0:t.join("."))})))&&setTimeout((function(){a.manager.buildPanels(),a.manager.buildToolbars()}),20)},t.prototype.buildDataSchemas=function(e,t){var a,l;return n.__awaiter(this,void 0,void 0,(function(){var t;return n.__generator(this,(function(n){return t=e.children.find((function(e){return!!~["table","table2","cards","list"].indexOf(e.type)})),(null===(l=null===(a=null==t?void 0:t.info)||void 0===a?void 0:a.plugin)||void 0===l?void 0:l.buildDataSchemas)?[2,t.info.plugin.buildDataSchemas(t)]:[2]}))}))},t}(d.BasePlugin);t.CRUDPlugin=g,(0,s.registerEditorPlugin)(g)},1663:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardPlugin=void 0;var n=a(752),l=a(7981),i=n.__importDefault(a(6689)),o=a(9756),r=a(9933),s=a(9547),d=n.__importDefault(a(8579)),c=a(5863),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="card",t.$schema="/schemas/CardSchema.json",t.name="卡片",t.isBaseComponent=!0,t.description="展示单个卡片。",t.docLink="/amis/zh-CN/components/card",t.tags=["展示"],t.icon="",t.scaffold={type:"card",header:{title:"标题",subTitle:"副标题"},body:"内容",actions:[{type:"button",label:"按钮",actionType:"dialog",dialog:{title:"标题",body:"内容"}}]},t.previewSchema=n.__assign({},t.scaffold),t.regions=[{key:"body",label:"内容区",renderMethod:"renderBody",preferTag:"展示"},{key:"actions",label:"按钮组",renderMethod:"renderActions",wrapperResolve:function(e){return e},preferTag:"按钮"}],t.panelTitle="卡片",t.panelBodyCreator=function(e){return[(0,s.getSchemaTpl)("tabs",[{title:"常规",body:(0,d.default)([{children:i.default.createElement(l.Button,{size:"sm",className:"m-b-sm",level:"info",block:!0,onClick:function(){return t.manager.showRendererPanel("按钮","请从左侧组件面板中点击添加按钮元素")}},"新增按钮")},{children:i.default.createElement("div",null,i.default.createElement(l.Button,{block:!0,level:"primary",size:"sm",onClick:function(){return t.manager.showRendererPanel("展示","请从左侧组件面板中点击添加内容元素")}},"新增内容"))},{type:"divider"},{name:"header.title",type:"input-text",label:"标题",description:"支持模板语法如： <code>\\${xxx}</code>"},{name:"header.subTitle",type:"input-text",label:"副标题",description:"支持模板语法如： <code>\\${xxx}</code>"},{name:"header.avatar",type:"input-text",label:"图片地址",description:"支持模板语法如： <code>\\${xxx}</code>"},{name:"header.desc",type:"textarea",label:"描述",description:"支持模板语法如： <code>\\${xxx}</code>"},{name:"header.highlight",type:"input-text",label:"是否高亮表达式",description:"如： <code>this.isOwner</code>"}])},{title:"外观",body:[{type:"input-range",name:"actionsCount",pipeIn:(0,s.defaultValue)(4),min:1,max:10,step:1,label:"卡片一行最多能放按钮个数"},(0,s.getSchemaTpl)("className",{name:"titleClassName",label:"标题 CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"highlightClassName",label:"高亮 CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"subTitleClassName",label:"副标题 CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"descClassName",label:"描述 CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"avatarClassName",label:"图片外层 CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"imageClassName",label:"图片 CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"bodyClassName",label:"内容区 CSS 类名"}),(0,s.getSchemaTpl)("className")]},{title:"显隐",body:[(0,s.getSchemaTpl)("ref"),(0,s.getSchemaTpl)("visible")]}])]},t.fieldWrapperResolve=function(e){return e},t.overrides={renderFeild:function(e,t,a,n){var l=this.super(e,t,a,n),o=this.props.$$editor;if(!o||!t.$$id)return l;var r=o.plugin,s=t.$$id;return i.default.createElement(c.VRenderer,{type:o.type,plugin:o.plugin,renderer:o.renderer,multifactor:!0,key:s,$schema:"/schemas/CardBodyField.json",hostId:o.id,memberIndex:a,name:"".concat("字段".concat(a+1)),id:s,draggable:!1,wrapperResolve:r.fieldWrapperResolve,schemaPath:"".concat(o.schemaPath,"/body/").concat(a),path:"".concat(this.props.$path,"/").concat(a),data:this.props.data},l)}},t.vRendererConfig={panelTitle:"字段",panelBodyCreator:function(e){return[(0,s.getSchemaTpl)("label"),(0,s.getSchemaTpl)("className",{name:"labelClassName",label:"Label CSS 类名",visibleOn:"this.label"})]}},t}return n.__extends(t,e),t.prototype.beforeInsert=function(e){var t,a,l,i,o=e.context;o.info.plugin!==this&&(null===(t=o.node.sameIdChild)||void 0===t?void 0:t.info.plugin)!==this||"body"!==o.region||(o.data=n.__assign(n.__assign({},o.data),{label:null!==(i=null!==(a=o.data.label)&&void 0!==a?a:null===(l=o.subRenderer)||void 0===l?void 0:l.name)&&void 0!==i?i:"列名称"}))},t}(r.BasePlugin);t.CardPlugin=p,(0,o.registerEditorPlugin)(p)},8863:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardsPlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(9756),r=a(9933),s=a(9547),d=a(3570),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="cards",t.$schema="/schemas/CardsSchema.json",t.name="卡片列表",t.isBaseComponent=!0,t.description="功能类似于表格，但是用一个个小卡片来展示数据。当前组件需要配置数据源，不自带数据拉取，请优先使用 「CRUD」 组件。",t.docLink="/amis/zh-CN/components/cards",t.tags=["展示"],t.icon="fa fa-window-maximize",t.scaffold={type:"cards",data:{items:[{a:1,b:2},{a:3,b:4}]},columnsCount:2,card:{type:"card",className:"m-b-none",header:{title:"标题",subTitle:"副标题"},body:[{name:"a",label:"A"},{name:"b",label:"B"}],actions:[{label:"详情",type:"button"}]}},t.previewSchema=n.__assign(n.__assign({},t.scaffold),{className:"text-left "}),t.panelTitle="卡片集",t.panelBodyCreator=function(e){var a="crud"===e.schema.type;return[(0,s.getSchemaTpl)("tabs",[{title:"常规",body:[{children:i.default.createElement("div",{className:"m-b"},i.default.createElement(l.Button,{level:"success",size:"sm",block:!0,onClick:t.editDetail.bind(t,e.id)},"配置单项信息"))},{type:"divider"},{name:"title",type:"input-text",label:"标题"},{name:"href",type:"input-text",label:"打开外部链接"},a?null:{name:"source",type:"input-text",label:"数据源",pipeIn:(0,s.defaultValue)("${items}"),description:"绑定当前环境变量",test:!a},{name:"placeholder",value:"暂无数据",type:"input-text",label:"无数据提示"}]},{title:"外观",body:[(0,s.getSchemaTpl)("switch",{name:"showHeader",label:"是否显示头部",pipeIn:(0,s.defaultValue)(!0)}),(0,s.getSchemaTpl)("switch",{name:"showFooter",label:"是否显示底部",pipeIn:(0,s.defaultValue)(!0)}),(0,s.getSchemaTpl)("className",{label:"CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"headerClassName",label:"头部 CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"footerClassName",label:"底部 CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"itemsClassName",label:"内容 CSS 类名"}),(0,s.getSchemaTpl)("className",{pipeIn:(0,s.defaultValue)("Grid-col--sm6 Grid-col--md4 Grid-col--lg3"),name:"itemClassName",label:"卡片 CSS 类名"}),{name:"columnsCount",type:"input-range",visibleOn:"!this.leftFixed",min:0,max:12,step:1,label:"每行显示个数",description:"不设置时，由卡片 CSS 类名决定"},(0,s.getSchemaTpl)("switch",{name:"masonryLayout",label:"启用瀑布流"})]},{title:"显隐",body:[(0,s.getSchemaTpl)("ref"),(0,s.getSchemaTpl)("visible")]}])]},t}return n.__extends(t,e),t.prototype.editDetail=function(e){var t=this.manager,a=t.store,l=a.getNodeById(e),i=a.getValueOf(e);l&&i&&this.manager.openSubEditor({title:"配置成员渲染器",value:n.__assign({type:"card"},i.card),slot:{type:"container",body:"$$"},typeMutable:!1,onChange:function(e){e=n.__assign(n.__assign({},i),{card:e}),t.panelChangeValue(e,(0,d.diff)(i,e))},data:{item:"mocked data",index:0}})},t.prototype.buildEditorToolbar=function(e,t){var a=e.id,n=e.info,l=e.schema;("cards"===n.renderer.name||"crud"===n.renderer.name&&"cards"===l.mode)&&t.push({icon:"fa fa-expand",order:100,tooltip:"配置成员渲染器",onClick:this.editDetail.bind(this,a)})},t.prototype.buildEditorContextMenu=function(e,t){var a=e.id,n=e.schema,l=(e.region,e.info);e.selections.length||(null==l?void 0:l.plugin)!==this||("cards"===l.renderer.name||"crud"===l.renderer.name&&"cards"===n.mode)&&t.push("|",{label:"配置成员渲染器",onSelect:this.editDetail.bind(this,a)})},t.prototype.filterProps=function(e){var t=n.__assign(n.__assign({},e.defaultData),e.data),a=Array.isArray(e.value)?e.value:"string"==typeof e.source?(0,l.resolveVariable)(e.source,t):(0,l.resolveVariable)("items",t);Array.isArray(a)&&a.length||(e.value=(0,d.repeatArray)({id:666,title:"假数据",description:"假数据",a:"假数据",b:"假数据"},1).map((function(e,t){return n.__assign(n.__assign({},e),{id:t+1})})));var i=e.$schema,o=n.__rest(e,["$schema"]);return n.__assign(n.__assign({},(0,d.JSONPipeOut)(o)),{$schema:i})},t.prototype.getRendererInfo=function(t){var a,l=this,i=t.renderer,o=t.schema;return o.$$id||"crud"!==(null===(a=o.$$editor)||void 0===a?void 0:a.renderer.name)||"cards"!==i.name?e.prototype.getRendererInfo.call(this,t):n.__assign(n.__assign({},{id:o.$$editor.id}),{name:l.name,regions:l.regions,patchContainers:l.patchContainers,vRendererConfig:l.vRendererConfig,wrapperProps:l.wrapperProps,wrapperResolve:l.wrapperResolve,filterProps:l.filterProps,$schema:l.$schema,renderRenderer:l.renderRenderer})},t}(r.BasePlugin);t.CardsPlugin=c,(0,o.registerEditorPlugin)(c)},8395:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CarouselPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(6374),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="carousel",t.$schema="/schemas/CarouselSchema.json",t.name="轮播图",t.isBaseComponent=!0,t.description="用来渲染轮播图，可以配置每一页的内容（不只是图片），可以配置过渡动画。",t.docLink="/amis/zh-CN/components/carousel",t.tags=["展示"],t.icon="fa fa-images",t.scaffold={type:"carousel",options:[{image:(0,r.mockValue)({type:"image"})},{html:'<div style="width: 100%; height: 300px; background: #e3e3e3; text-align: center; line-height: 300px;">carousel data</div>'},{image:(0,r.mockValue)({type:"image"})}]},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="轮播图",t.panelBodyCreator=function(e){var t=/\/field\/\w+$/.test(e.path);return[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[t?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{type:"formula",name:"__mode",autoSet:!1,formula:"!this.name && !this.source && Array.isArray(this.options) ? 2 : 1"},{label:"数据源",name:"__mode",type:"button-group-select",size:"xs",mode:"inline",className:"w-full",options:[{label:"关联字段",value:1},{label:"静态设置",value:2}]},{label:"字段名",name:"name",type:"input-text",description:"设置字段名，关联当前数据作用域中的数据。",visibleOn:"this.__mode == 1"},{type:"combo",name:"options",visibleOn:"this.__mode == 2",label:"轮播选项内容",multiple:!0,multiLine:!0,addable:!0,removable:!0,typeSwitchable:!1,conditions:[{label:"图片",test:'this.type === "image"',items:[(0,o.getSchemaTpl)("imageUrl",{name:"content"}),{type:"input-text",label:"图片标题",name:"title",visibleOn:'this.type == "image"'},(0,o.getSchemaTpl)("className",{label:"图片标题类名",name:"titleClassName",visibleOn:'this.type == "image"'}),{type:"textarea",label:"图片描述",name:"description",visibleOn:'this.type == "image"'},(0,o.getSchemaTpl)("className",{label:"图片描述类名",name:"descriptionClassName",visibleOn:'this.type == "image"'}),{type:"input-text",label:"打开外部链接",name:"href",visibleOn:'this.type == "image"'}],scaffold:{type:"input-image",image:""}},{label:"HTML",test:'this.type === "html"',items:[(0,o.getSchemaTpl)("richText",{label:"内容",name:"content"})],scaffold:{type:"html",content:"<p>html 片段</p>"}}],pipeIn:function(e){return Array.isArray(e)&&e.length?e.map((function(e){return e&&e.hasOwnProperty("html")?{type:"html",content:e.html}:{type:"image",content:e.image,title:e.title,titleClassName:e.titleClassName,description:e.description,descriptionClassName:e.descriptionClassName}})):[]},pipeOut:function(e,t,a){return Array.isArray(e)&&e.length?e.map((function(e){return"html"===e.type?{html:e.content}:{image:e.content,title:e.title,titleClassName:e.titleClassName,description:e.description,descriptionClassName:e.descriptionClassName}})):[]}}]},{title:"外观",body:[{name:"auto",type:"switch",mode:"inline",className:"w-full",label:"自动轮播",pipeIn:(0,o.defaultValue)(!0)},{name:"interval",type:"input-range",label:"动画间隔",min:1,max:100,step:1,unit:"s",pipeIn:function(e){return(null!=e?e:3e3)/1e3},pipeOut:function(e,t,a){return 1e3*e}},{name:"duration",type:"input-range",label:"动画时长",min:100,max:2e3,step:10,pipeIn:(0,o.defaultValue)(500),unit:"ms"},{name:"animation",label:"动画效果",type:"button-group-select",mode:"inline",className:"w-full",size:"sm",pipeIn:(0,o.defaultValue)("fade"),options:[{label:"fade",value:"fade"},{label:"slide",value:"slide"}]},{name:"controlsTheme",label:"控制按钮主题",type:"button-group-select",size:"sm",pipeIn:(0,o.defaultValue)("light"),mode:"inline",className:"w-full",options:[{label:"light",value:"light"},{label:"dark",value:"dark"}]},{name:"controls",label:"控制显示",type:"button-group-select",size:"sm",mode:"inline",className:"w-full",pipeIn:(0,o.defaultValue)("dots,arrows"),multiple:!0,options:[{label:"底部圆点",value:"dots"},{label:"左右箭头",value:"arrows"}]},{name:"width",type:"input-text",label:"宽度",validations:"isNumeric",addOn:{type:"button",label:"px"}},{name:"height",type:"input-text",label:"高度",validations:"isNumeric",addOn:{type:"button",label:"px"}},(0,o.getSchemaTpl)("className")]},{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}])]},t}return n.__extends(t,e),t.prototype.filterProps=function(e){return e.auto=!1,e},t.prototype.buildEditorToolbar=function(e,t){if(e.info.plugin===this&&"carousel"===e.info.renderer.name&&!e.info.hostId){var a=e.node;t.push({level:"secondary",icon:"fa fa-chevron-left",tooltip:"上个卡片",onClick:function(){var e,t=a.getComponent();null===(e=null==t?void 0:t.prev)||void 0===e||e.call(t)}}),t.push({level:"secondary",icon:"fa fa-chevron-right",tooltip:"下个卡片",onClick:function(){var e,t=a.getComponent();null===(e=null==t?void 0:t.next)||void 0===e||e.call(t)}})}},t}(i.BasePlugin);t.CarouselPlugin=s,(0,l.registerEditorPlugin)(s)},9065:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChartPlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(9756),r=a(9933),s=a(9547),d=a(3570),c=n.__importDefault(a(3017)),p=function(e){var t=e.value,a=e.onChange;return i.default.createElement("div",{className:"ae-JsonEditor"},i.default.createElement(c.default,{value:t,onChange:a}))},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="chart",t.$schema="/schemas/ChartSchema.json",t.name="图表",t.isBaseComponent=!0,t.description="用来渲染图表，基于 echarts 图表库，理论上 echarts 所有图表类型都支持。",t.docLink="/amis/zh-CN/components/chart",t.tags=["展示"],t.icon="fa fa-pie-chart",t.scaffold={type:"chart",config:{xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[820,932,901,934,1290,1330,1320],type:"line"}]},replaceChartOption:!0},t.previewSchema=n.__assign({},t.scaffold),t.actions=[{actionType:"reload",actionLabel:"重新加载",description:"触发组件数据刷新并重新渲染"},{actionType:"setValue",actionLabel:"更新数据",description:"触发组件数据更新"}],t.panelTitle="图表",t.panelBodyCreator=function(e){return[(0,s.getSchemaTpl)("tabs",[{title:"常规",body:[(0,s.getSchemaTpl)("api",{label:"接口拉取",description:"接口可以返回配置，或者数据，建议返回数据可映射到 Echarts 配置中"}),(0,s.getSchemaTpl)("switch",{label:"初始是否拉取",name:"initFetch",visibleOn:"data.api",pipeIn:(0,s.defaultValue)(!0)}),{name:"interval",label:"定时刷新间隔",type:"input-number",step:500,visibleOn:"data.api",description:"设置后将自动定时刷新，最小3000, 单位 ms"},{name:"config",asFormItem:!0,component:p,label:"Echarts 配置",description:"支持数据映射，可将接口返回的数据填充进来"},{name:"clickAction",asFormItem:!0,children:function(a){var n=a.onChange,o=a.value;return i.default.createElement("div",{className:"m-b"},i.default.createElement(l.Button,{size:"sm",level:o?"danger":"info",onClick:t.editDrillDown.bind(t,e.id)},"配置 DrillDown"),o?i.default.createElement(l.Button,{size:"sm",level:"link",className:"m-l",onClick:function(){return n("")}},"删除 DrillDown"):null)}},{name:"dataFilter",type:"js-editor",allowFullscreen:!0,label:"数据加工",size:"lg",description:"\n              如果后端没有直接返回 Echart 配置，可以自己写一段函数来包装。\n              <p>签名：(config, echarts, data) => config</p>\n              <p>参数说明</p>\n              <ul>\n              <li><code>config</code> 原始数据</li>\n              <li><code>echarts</code> echarts 对象</li>\n              <li><code>data</code> 如果配置了数据接口，接口返回的数据通过此变量传入</li>\n              </ul>\n              <p>示例</p>\n              <pre>debugger; // 可以浏览器中断点调试\n\n// 查看原始数据\nconsole.log(config)\n\n// 返回新的结果 \nreturn {}</pre>\n              "},(0,s.getSchemaTpl)("switch",{label:"Chart 配置完全替换",name:"replaceChartOption",labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:"默认为追加模式，新的配置会跟旧的配置合并，如果勾选将直接完全覆盖。",placement:"left"}})]},{title:"外观",body:[(0,s.getSchemaTpl)("className")]},{title:"显隐",body:[(0,s.getSchemaTpl)("visible")]},{title:"其他",body:[(0,s.getSchemaTpl)("name")]}])]},t}return n.__extends(t,e),t.prototype.editDrillDown=function(e){var t=this.manager,a=t.store,l=a.getNodeById(e),i=a.getValueOf(e),o=i.clickAction&&i.clickAction.dialog||{title:"标题",body:["<p>内容 <code>${value|json}</code></p>"]};l&&i&&this.manager.openSubEditor({title:"配置 DrillDown 详情",value:n.__assign({type:"container"},o),slot:{type:"container",body:"$$"},typeMutable:!1,onChange:function(e){e=n.__assign(n.__assign({},i),{clickAction:{actionType:"dialog",dialog:e}}),t.panelChangeValue(e,(0,d.diff)(i,e))}})},t}(r.BasePlugin);t.ChartPlugin=u,(0,o.registerEditorPlugin)(u)},7991:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CodeViewPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="code",t.$schema="/schemas/CodeSchema.json",t.name="代码高亮",t.isBaseComponent=!0,t.icon="fa fa-code",t.description="代码高亮",t.docLink="/amis/zh-CN/components/code",t.tags=["展示"],t.scaffold={type:"code",language:"html",value:"<div>html</div>"},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="代码高亮",t.panelBody=[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{type:"input-text",label:"名称",name:"name"},{type:"editor",label:"固定值",allowFullscreen:!0,name:"value"}]},{title:"外观",body:[(0,o.getSchemaTpl)("className")]},{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}])],t}return n.__extends(t,e),t}(i.BasePlugin);t.CodeViewPlugin=r,(0,l.registerEditorPlugin)(r)},6469:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsePlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(2759),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="collapse",t.$schema="/schemas/CollapseSchema.json",t.name="折叠器",t.isBaseComponent=!0,t.description="折叠器，可以将内容区展开或隐藏，保持页面的整洁",t.docLink="/amis/zh-CN/components/collapse",t.tags=["展示"],t.icon="fa fa-window-minimize",t.scaffold={type:"collapse",header:"标题",body:[{type:"tpl",tpl:"内容",inline:!1}]},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="折叠器",t.panelJustify=!0,t.panelBodyCreator=function(e){var t,a;return(0,o.getSchemaTpl)("tabs",[{title:"属性",body:(0,o.getSchemaTpl)("collapseGroup",[{title:"基本",body:[{name:"header",label:"标题",type:"input-text",pipeIn:(0,o.defaultValue)((null===(t=null==e?void 0:e.schema)||void 0===t?void 0:t.title)||(null===(a=null==e?void 0:e.schema)||void 0===a?void 0:a.header)||""),onChange:function(e,t,a,n){n.setValueByName("header",e),n.setValueByName("title",void 0)}},{name:"collapseHeader",label:(0,r.tipedLabel)("展开标题","折叠器处于展开状态时的标题"),type:"input-text"},{name:"headerPosition",label:"标题位置",type:"button-group-select",size:"sm",pipeIn:(0,o.defaultValue)("top"),options:[{label:"顶部",value:"top",icon:"fa fa-arrow-up"},{label:"底部",value:"bottom",icon:"fa fa-arrow-down"}]},{name:"showArrow",label:"显示图标",mode:"row",inputClassName:"inline-flex justify-between flex-row-reverse",type:"switch",pipeIn:(0,o.defaultValue)(!0)},(0,o.getSchemaTpl)("switch",{name:"collapsable",label:"可折叠",pipeIn:(0,o.defaultValue)(!0)})]},(0,o.getSchemaTpl)("status",{disabled:!0})])},{title:"外观",body:(0,o.getSchemaTpl)("collapseGroup",[(0,o.getSchemaTpl)("style:classNames",{isFormItem:!1,schema:[(0,o.getSchemaTpl)("className",{name:"headingClassName",label:"标题类名"}),(0,o.getSchemaTpl)("className",{name:"bodyClassName",label:"内容类名"})]})])}])},t.regions=[{key:"body",label:"内容区"}],t}return n.__extends(t,e),t}(i.BasePlugin);t.CollapsePlugin=s,(0,l.registerEditorPlugin)(s)},9544:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CollapseGroupPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(2759),s=a(3570),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="collapse-group",t.$schema="/schemas/CollapseGroupSchema.json",t.name="折叠面板",t.isBaseComponent=!0,t.description="折叠面板，当信息量较大且分类较多时，可使用折叠面板进行分类收纳。",t.tags=["展示","容器"],t.icon="fa fa-align-justify",t.scaffold={type:"collapse-group",activeKey:["1"],body:[{type:"collapse",key:"1",active:!0,header:"标题1",body:[{type:"tpl",tpl:"这里是内容1",inline:!1}]},{type:"collapse",key:"2",header:"标题2",body:[{type:"tpl",tpl:"这里是内容1",inline:!1}]}]},t.previewSchema=n.__assign({},t.scaffold),t.activeKeyData=[],t.panelTitle="折叠面板",t.panelJustify=!0,t.panelBodyCreator=function(e){return[(0,o.getSchemaTpl)("tabs",[{title:"属性",body:(0,o.getSchemaTpl)("collapseGroup",[{title:"基本",body:[{name:"expandIconPosition",label:"图标位置",type:"button-group-select",pipeIn:(0,o.defaultValue)("left"),options:[{label:"左边",value:"left",icon:"fa fa-align-left"},{label:"右边",value:"right",icon:"fa fa-align-right"}]},{type:"ae-switch-more",label:"自定义图标",bulk:!0,mode:"normal",value:!1,formType:"extend",autoFocus:!1,form:{body:[{label:"图标",name:"expandIcon",type:"icon-picker",className:"fix-icon-picker-overflow",pipeIn:function(e){return null==e?void 0:e.icon},pipeOut:function(e){return{type:"icon",vendor:"",icon:e}}}]},pipeIn:function(e){if("string"==typeof e&&e.length)return{character:e}},pipeOut:function(e){if((0,s.isObject)(e))return"string"==typeof e.character?e.character:void 0}},{name:"accordion",label:(0,r.tipedLabel)("手风琴模式","手风琴模式，只允许单个面板展开"),mode:"row",inputClassName:"inline-flex justify-between flex-row-reverse",type:"switch",pipeIn:(0,o.defaultValue)(!1)},(0,o.getSchemaTpl)("combo-container",{name:"body",type:"combo",label:"面板管理",mode:"normal",multiple:!0,addable:!0,columnClassName:"w-20",addButtonText:"新增折叠器",minLength:1,draggable:!0,draggableTip:"",placeholder:"请添加折叠器",items:[{type:"container",columnClassName:"flex-none",body:(0,r.tipedLabel)([{name:"active",type:"checkbox"}],"默认展开此面板")},{name:"header",placeholder:"标题",type:"input-text"}],onChange:function(e,t,a,n){var l=e.reduce((function(e,t){return!0===t.active&&e.push(t.key),e}),[]);n.setValues({activeKey:l})},pipeOut:function(e,t,a){var n=e.map((function(e){return e.key}));return e.forEach((function(t){if(!t.key){var a=function(e,t){for(var a=1;a<=t;a++)if(!e.includes(String(a)))return String(a)}(n,e.length);t.key=a,t.header="标题".concat(a)}})),e},scaffold:{type:"collapse",header:"标题",body:[{type:"tpl",tpl:"内容",inline:!1}],key:""}})]}])},{title:"外观",body:(0,o.getSchemaTpl)("collapseGroup",[(0,o.getSchemaTpl)("style:classNames",{isFormItem:!1})])}])]},t.regions=[{key:"body",label:"内容区",renderMethod:"render",insertPosition:"inner"}],t}return n.__extends(t,e),t}(i.BasePlugin);t.CollapseGroupPlugin=d,(0,l.registerEditorPlugin)(d)},9344:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="container",t.$schema="/schemas/ContainerSchema.json",t.name="容器",t.isBaseComponent=!0,t.description="一个简单的容器，可以将多个渲染器放置在一起。",t.tags=["容器"],t.icon="fa fa-square-o",t.scaffold={type:"container",body:"内容"},t.previewSchema=n.__assign({},t.scaffold),t.regions=[{key:"body",label:"内容区"}],t.panelTitle="容器",t.panelJustify=!0,t.panelBodyCreator=function(e){return(0,o.getSchemaTpl)("tabs",[{title:"属性",body:(0,o.getSchemaTpl)("collapseGroup",[{title:"常用",body:[{name:"wrapperComponent",label:"容器标签",type:"input-text",options:["article","aside","code","div","footer","header","p","section"],pipeIn:(0,o.defaultValue)("div"),validations:{isAlphanumeric:!0,matchRegexp:"/^(?!.*script).*$/"},validationErrors:{isAlpha:"HTML标签不合法，请重新输入",matchRegexp:"HTML标签不合法，请重新输入"},validateOnChange:!1}]}])},{title:"外观",className:"p-none",body:(0,o.getSchemaTpl)("collapseGroup",n.__spreadArray(n.__spreadArray([],(0,o.getSchemaTpl)("style:common"),!0),[{title:"CSS 类名",body:[(0,o.getSchemaTpl)("className",{label:"外层CSS类名"}),(0,o.getSchemaTpl)("className",{name:"bodyClassName",label:"内容区CSS类名"})]}],!1))}])},t}return n.__extends(t,e),t}(i.BasePlugin);t.ContainerPlugin=r,(0,l.registerEditorPlugin)(r)},6760:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="custom",t.$schema="/schemas/CustomSchema.json",t.name="自定义代码",t.isBaseComponent=!0,t.description="通过内嵌代码来实现功能",t.tags=["功能"],t.icon="fa fa-gears",t.docLink="/amis/zh-CN/components/custom",t.scaffold={type:"custom",html:"<div><h2>hello, world!</h2></div>",onMount:"\n      const button = document.createElement('button');\n      button.innerText = '点击修改姓名';\n      button.onclick = event => {\n        event.preventDefault();\n      };\n      dom.appendChild(button);"},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="自定义代码",t.panelBody=[(0,o.getSchemaTpl)("fieldSet",{title:"HTML 内容",body:[{label:"HTML 内容",name:"html",type:"editor",allowFullscreen:!0}]}),(0,o.getSchemaTpl)("fieldSet",{title:"onMount",body:[{name:"onMount",type:"editor",allowFullscreen:!0,size:"xxl",label:"onMount 代码",options:{lineNumbers:"off",glyphMargin:!1,lineDecorationsWidth:0,lineNumbersMinChars:0}}]}),(0,o.getSchemaTpl)("fieldSet",{title:"onUpdate",body:[{name:"onUpdate",type:"editor",allowFullscreen:!0,size:"xxl",label:"onUpdate 代码"}]}),(0,o.getSchemaTpl)("fieldSet",{title:"onUnmount",body:[{name:"onUnmount",type:"editor",allowFullscreen:!0,size:"xxl",label:"onUnmount 代码"}]})],t}return n.__extends(t,e),t.prototype.buildSubRenderers=function(t,a){var n=e.prototype.buildSubRenderers.apply(this,arguments);return n.scaffold.onMount="\n        const button = document.createElement('button');\n        button.innerText = '点击修改姓名ddd';\n        button.onclick = event => {\n          onChange('new name');\n          event.preventDefault();\n        };\n        dom.appendChild(button);",n},t}(i.BasePlugin);t.CustomPlugin=r,(0,l.registerEditorPlugin)(r)},8134:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=n.__importDefault(a(5599)),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="custom",t.$schema="/schemas/CustomSchema.json",t.name="自定义容器",t.isBaseComponent=!0,t.disabledRendererPlugin=!0,t.description="通过自定义代码来实现容器组件",t.docLink="/amis/zh-CN/components/custom",t.tags=["功能","容器"],t.icon="fa fa-gears",t.scaffold={type:"custom",html:'<div>\n<h2>hello, world!</h2>\n<div id="customBox">自定义容器区域</div>\n</div>',onMount:"this.renderChild('body', props.body, document.getElementById('customBox'));",body:[{type:"tpl",tpl:"<p>自定义容器区域</p>"}]},t.previewSchema=n.__assign({},t.scaffold),t.regions=[{key:"body",label:"内容区"}],t.panelTitle="自定义代码",t.panelBody=[(0,o.getSchemaTpl)("fieldSet",{title:"HTML 内容",body:[{label:"HTML 内容",name:"html",type:"editor",allowFullscreen:!0}]}),(0,o.getSchemaTpl)("fieldSet",{title:"onMount",body:[{name:"onMount",type:"editor",allowFullscreen:!0,size:"xxl",label:"onMount 代码",options:{lineNumbers:"off",glyphMargin:!1,lineDecorationsWidth:0,lineNumbersMinChars:0}}]}),(0,o.getSchemaTpl)("fieldSet",{title:"onUpdate",body:[{name:"onUpdate",type:"editor",allowFullscreen:!0,size:"xxl",label:"onUpdate 代码"}]}),(0,o.getSchemaTpl)("fieldSet",{title:"onUnmount",body:[{name:"onUnmount",type:"editor",allowFullscreen:!0,size:"xxl",label:"onUnmount 代码"}]})],t}return n.__extends(t,e),t.prototype.getRendererInfo=function(e){var t=this,a=e.renderer,n=e.schema;if(n.$$id&&t.name&&t.rendererName&&t.rendererName===a.name){var l=t.regions;return!l&&n&&n.body&&(0,r.default)(n.body)&&(l=[{key:"body",label:"自定义容器区"}]),{name:t.name,regions:l,patchContainers:t.patchContainers,vRendererConfig:t.vRendererConfig,wrapperProps:t.wrapperProps,wrapperResolve:t.wrapperResolve,filterProps:t.filterProps,$schema:t.$schema,renderRenderer:t.renderRenderer,multifactor:t.multifactor,scaffoldForm:t.scaffoldForm,disabledRendererPlugin:t.disabledRendererPlugin,isBaseComponent:t.isBaseComponent,rendererName:t.rendererName}}},t}(i.BasePlugin);t.CustomPlugin=s,(0,l.registerEditorPlugin)(s)},2585:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DatePlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="date",t.$schema="/schemas/DateSchema.json",t.name="日期展示",t.isBaseComponent=!0,t.description="主要用来关联字段名做日期展示，支持各种格式如：X（时间戳），YYYY-MM-DD HH:mm:ss。",t.tags=["展示"],t.icon="fa fa-calendar",t.scaffold={type:"date",value:Math.round(Date.now()/1e3)},t.previewSchema=n.__assign(n.__assign({},t.scaffold),{format:"YYYY-MM-DD",value:Math.round(Date.now()/1e3)}),t.panelTitle="日期展示",t.panelBodyCreator=function(e){return[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{type:"input-date",name:"value",label:"日期数值"},{type:"input-text",name:"format",label:"显示日期格式",description:"请参考 moment 中的格式用法。",pipeIn:(0,o.defaultValue)("YYYY-MM-DD")},{type:"input-text",name:"valueFormat",label:"数据日期格式",description:"请参考 moment 中的格式用法。",pipeIn:(0,o.defaultValue)("X")},{name:"placeholder",type:"input-text",pipeIn:(0,o.defaultValue)("-"),label:"占位符"}]},{title:"外观",body:[(0,o.getSchemaTpl)("className")]},{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}])]},t}return n.__extends(t,e),t}(i.BasePlugin);t.DatePlugin=r,(0,l.registerEditorPlugin)(r)},6721:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DatetimePlugin=void 0;var n=a(752),l=a(9756),i=a(9547),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="datetime",t.scaffold={type:"datetime",value:Math.round(Date.now()/1e3)},t.name="日期时间展示",t.isBaseComponent=!0,t.previewSchema=n.__assign(n.__assign({},t.scaffold),{format:"YYYY-MM-DD HH:mm:ss",value:Math.round(Date.now()/1e3)}),t.panelBodyCreator=function(e){return[(0,i.getSchemaTpl)("tabs",[{title:"常规",body:[{type:"input-datetime",name:"value",label:"日期时间数值"},{type:"input-text",name:"format",label:"显示日期时间格式",description:"请参考 moment 中的格式用法。",pipeIn:(0,i.defaultValue)("YYYY-MM-DD HH:mm:ss")},{type:"input-text",name:"valueFormat",label:"数据日期格式",description:"请参考 moment 中的格式用法。",pipeIn:(0,i.defaultValue)("X")},{name:"placeholder",type:"input-text",pipeIn:(0,i.defaultValue)("-"),label:"占位符"}]},{title:"外观",body:[(0,i.getSchemaTpl)("className")]},{title:"显隐",body:[(0,i.getSchemaTpl)("ref"),(0,i.getSchemaTpl)("visible")]}])]},t}return n.__extends(t,e),t}(a(2585).DatePlugin);t.DatetimePlugin=o,(0,l.registerEditorPlugin)(o)},9475:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InlineModal=t.DialogPlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(9756),o=a(9933),r=a(9547),s=a(3570),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="dialog",t.$schema="/schemas/DialogSchema.json",t.name="弹框",t.isBaseComponent=!0,t.wrapperProps={wrapperComponent:c,onClose:s.noop,show:!0},t.regions=[{key:"body",label:"内容区",renderMethod:"renderBody",renderMethodOverride:function(e,t){return function(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];var l=this.props.$$editor,i=this.super.apply(this,a);return l&&"body"===a[1]?t(this,i,e,l,l.plugin.manager):i}}},{key:"actions",label:"按钮组",renderMethod:"renderFooter",wrapperResolve:function(e){return e}}],t.events=[{eventName:"confirm",eventLabel:"确认",description:"确认"},{eventName:"cancel",eventLabel:"取消",description:"取消"}],t.actions=[{actionType:"confirm",actionLabel:"确认",description:"确认操作"},{actionType:"cancel",actionLabel:"取消",description:"取消操作"},{actionType:"setValue",actionLabel:"更新数据",description:"触发组件数据更新"}],t.panelTitle="弹框",t.panelBodyCreator=function(e){return(0,r.getSchemaTpl)("tabs",[{title:"常规",body:[{label:"标题",type:"input-text",name:"title"},(0,r.getSchemaTpl)("switch",{label:"数据映射",name:"data",className:"block m-b-xs",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{"&":"$$"}:null}}),{type:"tpl",visibleOn:"!this.data",tpl:'<p class="text-sm text-muted">当没开启数据映射时，弹框中默认会拥有触发打开弹框按钮所在环境的所有数据。</p>'},{type:"input-kv",syncDefaultValue:!1,name:"data",visibleOn:"this.data",descriptionClassName:"help-block text-xs m-b-none",description:'<p>当开启数据映射时，弹框中的数据只会包含设置的部分，请绑定数据。如：<code>{"a": "\\${a}", "b": 2}</code></p><p>如果希望在默认的基础上定制，请先添加一个 Key 为 `&` Value 为 `\\$$` 作为第一行。</p><div>当值为 <code>__undefined</code>时，表示删除对应的字段，可以结合<code>{"&": "\\$$"}</code>来达到黑名单效果。</div>',messages:{validateFailed:"数据映射中存在错误，请仔细检查"}},(0,r.getSchemaTpl)("switch",{label:"按 Esc 关闭弹框",name:"closeOnEsc",value:!1}),(0,r.getSchemaTpl)("switch",{label:"点击弹框外区域关闭弹框",name:"closeOnOutside",value:!1})]},{title:"外观",body:[{label:"尺寸",type:"button-group-select",name:"size",size:"sm",className:"block",pipeIn:(0,r.defaultValue)(""),options:[{label:"小",value:"sm"},{label:"默认",value:""},{label:"中",value:"md"},{label:"大",value:"lg"},{label:"超大",value:"xl"}]},(0,r.getSchemaTpl)("switch",{label:"是否显示关闭按钮",name:"showCloseButton",value:!0}),(0,r.getSchemaTpl)("className",{name:"headerClassName",label:"顶部 CSS 类名"}),(0,r.getSchemaTpl)("className",{name:"bodyClassName",label:"内容 CSS 类名"})]},{title:"事件",className:"p-none",body:[(0,r.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,s.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t.prototype.buildSubRenderers=function(){},t}(o.BasePlugin);t.DialogPlugin=d,(0,i.registerEditorPlugin)(d);var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.componentDidMount=function(){},t.prototype.render=function(){var e=this.props.children;return l.default.createElement("div",{className:"ae-InlineModel"},e)},t}(l.default.Component);t.InlineModal=c},8835:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DividerPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="divider",t.$schema="/schemas/DividerSchema.json",t.name="分隔线",t.isBaseComponent=!0,t.icon="fa fa-minus",t.description="用来展示一个分割线，可用来做视觉上的隔离。",t.scaffold={type:"divider"},t.previewSchema={type:"divider",className:"m-t-none m-b-none"},t.panelTitle="分隔线",t.panelBody=(0,o.getSchemaTpl)("tabs",[{title:"外观",body:[(0,o.getSchemaTpl)("className")]},{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}]),t}return n.__extends(t,e),t}(i.BasePlugin);t.DividerPlugin=r,(0,l.registerEditorPlugin)(r)},4093:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DrawerPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(3570),s=a(9475),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="drawer",t.$schema="/schemas/DrawerSchema.json",t.name="抽屉式弹框",t.isBaseComponent=!0,t.wrapperProps={wrapperComponent:s.InlineModal,onClose:r.noop,resizable:!1,show:!0},t.regions=[{key:"body",label:"内容区",renderMethod:"renderBody",renderMethodOverride:function(e,t){return function(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];var l=this.props.$$editor,i=this.super.apply(this,a);return l&&"body"===a[1]?t(this,i,e,l,l.plugin.manager):i}}},{key:"actions",label:"按钮组",renderMethod:"renderFooter",wrapperResolve:function(e){return e}}],t.events=[{eventName:"confirm",eventLabel:"确认",description:"确认"},{eventName:"cancel",eventLabel:"取消",description:"取消"}],t.actions=[{actionType:"confirm",actionLabel:"确认",description:"确认操作"},{actionType:"cancel",actionLabel:"取消",description:"取消操作"},{actionType:"setValue",actionLabel:"更新数据",description:"触发组件数据更新"}],t.panelTitle="弹框",t.panelBodyCreator=function(e){return(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{label:"标题",type:"input-text",name:"title"},{type:"divider"},{label:"位置",type:"button-group-select",name:"position",value:"right",size:"sm",mode:"inline",className:"block",options:[{label:"左",value:"left"},{label:"上",value:"top"},{label:"右",value:"right"},{label:"下",value:"bottom"}],description:"定义弹框从什么位置呼出"},(0,o.getSchemaTpl)("switch",{label:"数据映射",name:"data",className:"m-b-xs",pipeIn:function(e){return!!e},pipeOut:function(e){return e?{"&":"$$"}:null}}),{type:"tpl",visibleOn:"!this.data",tpl:'<p class="text-sm text-muted">当没开启数据映射时，弹框中默认会拥有触发打开弹框按钮所在环境的所有数据。</p>'},{type:"input-kv",syncDefaultValue:!1,name:"data",visibleOn:"this.data",descriptionClassName:"help-block text-xs m-b-none",description:'<p>当开启数据映射时，弹框中的数据只会包含设置的部分，请绑定数据。如：<code>{"a": "\\${a}", "b": 2}</code></p><p>如果希望在默认的基础上定制，请先添加一个 Key 为 `&` Value 为 `\\$$` 作为第一行。</p><div>当值为 <code>__undefined</code>时，表示删除对应的字段，可以结合<code>{"&": "\\$$"}</code>来达到黑名单效果。</div>'},(0,o.getSchemaTpl)("switch",{name:"closeOnOutside",label:"点击外部关闭弹框"}),(0,o.getSchemaTpl)("switch",{label:"按 Esc 可关闭",name:"closeOnEsc"})]},{title:"外观",body:[{label:"尺寸",type:"button-group-select",name:"size",size:"sm",mode:"inline",className:"block",options:[{label:"超小",value:"xs"},{label:"小",value:"sm"},{label:"中",value:"md"},{label:"大",value:"lg"},{label:"超大",value:"xl"}]},(0,o.getSchemaTpl)("switch",{name:"overlay",label:"是否显示蒙层",pipeIn:(0,o.defaultValue)(!0)}),(0,o.getSchemaTpl)("switch",{name:"resizable",label:"可拉拽",description:"定义弹框是否可拉拽调整大小",pipeIn:(0,o.defaultValue)(!1)}),(0,o.getSchemaTpl)("className"),(0,o.getSchemaTpl)("className",{label:"bodyClassName 类名",name:"bodyClassName"})]},{title:"事件",className:"p-none",body:[(0,o.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,r.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t.prototype.buildSubRenderers=function(){},t}(i.BasePlugin);t.DrawerPlugin=d,(0,l.registerEditorPlugin)(d)},9691:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DropDownButtonPlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(9756),r=a(9933),s=a(9547),d=a(3570),c=a(2759),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="dropdown-button",t.$schema="/schemas/DropdownButtonSchema.json",t.name="下拉按钮",t.isBaseComponent=!0,t.description="下拉按钮，更多的按钮通过点击后展示开来。",t.tags=["按钮"],t.icon="fa fa-chevron-down",t.docLink="/amis/zh-CN/components/dropdown-button",t.scaffold={type:"dropdown-button",label:"下拉按钮",buttons:[n.__assign({type:"button",label:"按钮1"},c.BUTTON_DEFAULT_ACTION),n.__assign({type:"button",label:"按钮2"},c.BUTTON_DEFAULT_ACTION)]},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="下拉按钮",t.panelBodyCreator=function(e){return(0,c.formItemControl)({common:{replace:!0,body:[{children:i.default.createElement(l.Button,{level:"info",size:"sm",className:"m-b-sm",block:!0,onClick:t.editDetail.bind(t,e.id)},"配置下拉按钮集合")},{label:"名称",type:"input-text",name:"label"},{type:"button-group-select",name:"trigger",label:"触发方式",size:"sm",options:[{label:"点击",value:"click"},{label:"鼠标经过",value:"hover"}],pipeIn:(0,s.defaultValue)("click")},(0,s.getSchemaTpl)("switch",{name:"closeOnOutside",label:"点击外部关闭",pipeIn:(0,s.defaultValue)(!0)}),(0,s.getSchemaTpl)("switch",{name:"closeOnClick",label:"点击内容关闭"})]},status:{replace:!0,body:[(0,s.getSchemaTpl)("disabled"),(0,s.getSchemaTpl)("visible")]},validation:{hidden:!0},style:{replace:!0,body:[(0,s.getSchemaTpl)("size",{pipeIn:(0,s.defaultValue)("md")}),(0,s.getSchemaTpl)("switch",{name:"block",label:"块状显示"}),(0,s.getSchemaTpl)("buttonLevel",{label:"展示样式",name:"level"}),{type:"button-group-select",name:"align",label:"菜单对齐方式",size:"sm",options:[{label:"左对齐",value:"left"},{label:"右对齐",value:"right"}],pipeIn:(0,s.defaultValue)("left")},(0,s.getSchemaTpl)("switch",{label:"只显示 icon",name:"iconOnly"}),(0,s.getSchemaTpl)("switch",{label:"默认是否打开",name:"defaultIsOpened"}),(0,s.getSchemaTpl)("switch",{label:"隐藏下拉图标",name:"hideCaret"}),(0,s.getSchemaTpl)("icon"),(0,s.getSchemaTpl)("icon",{name:"rightIcon",label:"右侧图标"}),(0,s.getSchemaTpl)("className",{name:"className",label:"外层 CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"btnClassName",label:"按钮 CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"menuClassName",label:"下拉菜单 CSS 类名"})]},event:{hidden:!1}},e)},t}return n.__extends(t,e),t.prototype.buildEditorToolbar=function(e,t){var a=e.id;"dropdown-button"===e.info.renderer.name&&t.push({icon:"fa fa-expand",order:100,tooltip:"配置下拉按钮集合",onClick:this.editDetail.bind(this,a)})},t.prototype.editDetail=function(e){var t=this.manager,a=t.store,l=a.getNodeById(e),i=a.getValueOf(e);l&&i&&this.manager.openSubEditor({title:"配置下拉按钮集合",value:i.buttons,slot:{type:"button-group",buttons:"$$",block:!0},onChange:function(e){e=n.__assign(n.__assign({},i),{buttons:e}),t.panelChangeValue(e,(0,d.diff)(i,e))}})},t.prototype.buildEditorContextMenu=function(e,t){var a=e.id,n=(e.schema,e.region,e.info);e.selections.length||(null==n?void 0:n.plugin)!==this||"dropdown-button"===n.renderer.name&&t.push("|",{label:"配置下拉按钮集合",onSelect:this.editDetail.bind(this,a)})},t.prototype.filterProps=function(e){return e.trigger="click",e},t}(r.BasePlugin);t.DropDownButtonPlugin=p,(0,o.registerEditorPlugin)(p)},9596:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EachPlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(9756),r=a(9933),s=a(9547),d=a(3570),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="each",t.$schema="/schemas/EachSchema.json",t.name="循环 Each",t.isBaseComponent=!0,t.description="功能渲染器，可以基于现有变量循环输出渲染器。",t.tags=["功能"],t.icon="fa fa-repeat",t.scaffold={type:"each",name:"arr",items:{type:"tpl",tpl:"<%= data.index + 1 %>. 内容：<%= data.item %>",inline:!1}},t.previewSchema=n.__assign(n.__assign({},t.scaffold),{value:["a","b","c"]}),t.panelTitle="循环",t.panelBodyCreator=function(e){return[{type:"input-text",name:"name",label:"关联字段",placeholder:"varname",description:"如果所在容器有下发 value 则不需要配置，如果没有请配置变量名，支持多层级如：a.b，表示关联a对象下的b属性。目标变量可以是数组，也可以是对象。"},{children:i.default.createElement(l.Button,{size:"sm",level:"danger",className:"m-b",block:!0,onClick:t.editDetail.bind(t,e.id)},"配置成员渲染器")},{name:"placeholder",type:"input-text",label:"占位符",pipeIn:(0,s.defaultValue)("暂无内容"),description:"当没有关联变量，或者目标变量不是数组或者对象时显示此占位信息"},(0,s.getSchemaTpl)("className")]},t}return n.__extends(t,e),t.prototype.filterProps=function(e){return(e=(0,d.JSONPipeOut)(e)).value||(e.value=[{item:"mocked data"}]),e},t.prototype.buildEditorToolbar=function(e,t){var a=e.id;"each"===e.info.renderer.name&&t.push({icon:"fa fa-expand",order:100,tooltip:"配置成员渲染器",onClick:this.editDetail.bind(this,a)})},t.prototype.buildEditorContextMenu=function(e,t){var a=e.id,n=(e.schema,e.region,e.info);e.selections.length||(null==n?void 0:n.plugin)!==this||"each"===n.renderer.name&&t.push("|",{label:"配置成员渲染器",onSelect:this.editDetail.bind(this,a)})},t.prototype.editDetail=function(e){var t=this.manager,a=t.store,l=a.getNodeById(e),i=a.getValueOf(e);l&&i&&this.manager.openSubEditor({title:"配置成员渲染器",value:i.items,slot:{type:"container",body:"$$"},typeMutable:!0,onChange:function(e){e=n.__assign(n.__assign({},i),{items:e}),t.panelChangeValue(e,(0,d.diff)(i,e))},data:{item:"mocked data",index:0}})},t}(r.BasePlugin);t.EachPlugin=c,(0,o.registerEditorPlugin)(c)},5707:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorRendererPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.order=-9999,t.rendererName="error",t.name="Error",t.isBaseComponent=!0,t}return n.__extends(t,e),t}(a(9933).BasePlugin);t.ErrorRendererPlugin=i,(0,l.registerEditorPlugin)(i)},6397:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FlexPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="flex",t.$schema="/schemas/FlexSchema.json",t.disabledRendererPlugin=!0,t.name="Flex 布局",t.isBaseComponent=!0,t.icon="fa fa-columns",t.description="flex 布局",t.docLink="/amis/zh-CN/components/flex",t.tags=["容器"],t.scaffold={type:"flex",items:[{type:"wrapper",body:"第一列"},{type:"wrapper",body:"第二列"},{type:"wrapper",body:"第三列"}]},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="Flex",t.panelBody=[(0,o.getSchemaTpl)("tabs",[{title:"属性",className:"p-none",body:[(0,o.getSchemaTpl)("collapseGroup",[{title:"布局",body:[{name:"justify",type:"select",value:"center",label:"子节点水平分布方式",menuTpl:"<div class='flex justify-between'><span>${label}</span><span class='text-muted text-sm'>${value}</span></div>",options:[{label:"起始端对齐",value:"flex-start"},{label:"居中对齐",value:"center"},{label:"末尾端对齐",value:"flex-end"},{label:"均匀分布（首尾留空）",value:"space-around"},{label:"均匀分布（首尾对齐）",value:"space-between"},{label:"均匀分布（元素等间距）",value:"space-evenly"},{label:"均匀分布（自动拉伸）",value:"stretch"}]},{name:"alignItems",type:"select",value:"center",label:"子节点垂直方向位置",menuTpl:"<div class='flex justify-between'><span>${label}</span><span class='text-muted text-sm'>${value}</span></div>",options:[{label:"起始端对齐",value:"flex-start"},{label:"居中对齐",value:"center"},{label:"末尾端对齐",value:"flex-end"},{label:"基线对齐",value:"baseline"},{label:"自动拉伸",value:"stretch"}]},{name:"direction",type:"button-group-select",size:"sm",label:"布局方向",value:"row",mode:"row",options:[{label:"水平",value:"row"},{label:"垂直",value:"column"}]}]},{title:"子节点管理",body:[{name:"items",label:!1,type:"combo",scaffold:{type:"wrapper",body:"子节点内容"},minLength:2,multiple:!0,draggableTip:"",items:[{type:"tpl",tpl:'<span class="label label-default">子节点${index | plus}</span>'}]}]}])]},{title:"外观",className:"p-none",body:(0,o.getSchemaTpl)("collapseGroup",n.__spreadArray(n.__spreadArray([],(0,o.getSchemaTpl)("style:common",["display"]),!0),[{title:"CSS 类名",body:[(0,o.getSchemaTpl)("className",{label:"外层CSS类名"})]}],!1))},{title:"状态",body:[(0,o.getSchemaTpl)("visible"),(0,o.getSchemaTpl)("disabled")]}])],t.regions=[{key:"items",label:"子节点集合",renderMethod:"render",dndMode:"position-h"}],t}return n.__extends(t,e),t.prototype.afterResolveJsonSchema=function(e){var t,a,n=null===(t=e.context.node.parent)||void 0===t?void 0:t.host;(null===(a=null==n?void 0:n.info)||void 0===a?void 0:a.plugin)===this&&e.setData("/schemas/FlexColumn.json")},t}(i.BasePlugin);t.FlexPlugin=r,(0,l.registerEditorPlugin)(r)},4891:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonGroupControlPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(2759),r=a(9547),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="button-group-select",t.$schema="/schemas/ButtonGroupControlSchema.json",t.name="按钮点选",t.isBaseComponent=!0,t.icon="fa fa-object-group",t.description="用来展示多个按钮，视觉上会作为一个整体呈现，同时可以作为表单项选项选择器来用。",t.docLink="/amis/zh-CN/components/button-group",t.tags=["按钮"],t.scaffold={type:"button-group-select",name:"a",options:[{label:"选项1",value:"a"},{label:"选项2",value:"b"}]},t.previewSchema={type:"form",wrapWithPanel:!1,mode:"horizontal",body:n.__assign(n.__assign({},t.scaffold),{value:"a",label:"按钮点选",description:"按钮点选可以当选项用。"})},t.notRenderFormZone=!0,t.panelTitle="按钮点选",t.events=[{eventName:"change",eventLabel:"值变化",description:"选中值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清除选中值"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"reload",actionLabel:"重新加载",description:"触发组件数据刷新并重新渲染"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelJustify=!0,t.panelBodyCreator=function(e){return(0,o.formItemControl)({common:{replace:!0,body:[(0,r.getSchemaTpl)("formItemName",{required:!0}),(0,r.getSchemaTpl)("label"),(0,r.getSchemaTpl)("value"),(0,r.getSchemaTpl)("multiple"),(0,r.getSchemaTpl)("extractValue")]},option:{title:"按钮管理",body:[(0,r.getSchemaTpl)("optionControl"),(0,r.getSchemaTpl)("autoFill")]},style:{body:[(0,r.getSchemaTpl)("size"),(0,r.getSchemaTpl)("buttonLevel",{label:"按钮样式",name:"btnLevel"}),{type:"button-group-select",name:"vertical",label:"布局方向",value:!1,options:[{label:"水平",value:!1},{label:"垂直",value:!0}]},{type:"switch",name:"tiled",label:"平铺模式",value:!1},(0,r.getSchemaTpl)("buttonLevel",{label:"按钮选中样式",name:"btnActiveLevel"})]},status:{}},e)},t}return n.__extends(t,e),t}(i.BasePlugin);t.ButtonGroupControlPlugin=s,(0,l.registerEditorPlugin)(s)},2165:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonToolbarControlPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(2759),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="button-toolbar",t.$schema="/schemas/ButtonToolbarControlSchema.json",t.name="按钮工具栏",t.isBaseComponent=!0,t.icon="fa fa-ellipsis-h",t.description="可以用来放置多个按钮或者按钮组，按钮之间会存在一定的间隔",t.docLink="/amis/zh-CN/components/form/button-toolbar",t.tags=["表单项","按钮"],t.scaffold={type:"button-toolbar",buttons:[n.__assign({type:"button",label:"按钮1"},r.BUTTON_DEFAULT_ACTION),n.__assign({type:"button",label:"按钮2"},r.BUTTON_DEFAULT_ACTION)]},t.previewSchema={type:"form",wrapWithPanel:!1,mode:"horizontal",body:n.__assign(n.__assign({},t.scaffold),{label:"按钮工具栏"})},t.regions=[{key:"buttons",label:"按钮集合",preferTag:"按钮",renderMethod:"renderButtons"}],t.notRenderFormZone=!0,t.panelTitle="工具栏",t.panelBodyCreator=function(e){return(0,r.formItemControl)({common:{replace:!0,body:[(0,o.getSchemaTpl)("formItemName",{required:!0}),(0,o.getSchemaTpl)("label"),(0,o.getSchemaTpl)("value"),(0,o.getSchemaTpl)("remark"),(0,o.getSchemaTpl)("labelRemark"),(0,o.getSchemaTpl)("description")]},option:{title:"按钮管理",replace:!0,body:[{name:"buttons",type:"combo",label:"",multiple:!0,addable:!0,minLength:1,draggable:!0,draggableTip:"",editable:!1,visibleOn:"this.buttons && this.buttons.length",items:[{type:"tpl",inline:!1,tpl:'<span class="label label-default"><% if (data.type === "button-group") { %> 按钮组 <% } else { %><%= data.label %><% if (data.icon) { %><i class="<%= data.icon %>"/><% }%><% } %></span>'}],addButtonText:"新增按钮",scaffold:{type:"button",label:"按钮"}}]},event:{hidden:!1}},e)},t}return n.__extends(t,e),t}(i.BasePlugin);t.ButtonToolbarControlPlugin=s,(0,l.registerEditorPlugin)(s)},6982:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChainedSelectControlPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="chained-select",t.$schema="/schemas/ChainedSelectControlSchema.json",t.name="级联下拉框",t.isBaseComponent=!0,t.icon="fa fa-th-list",t.description="通过<code>source</code>拉取选项，只要有返回结果，就可以无限级别增加",t.docLink="/amis/zh-CN/components/form/chain-select",t.tags=["表单项"],t.scaffold={type:"chained-select",label:"级联选择",name:"chained-select"},t.previewSchema={type:"form",className:"text-left",wrapWithPanel:!1,mode:"horizontal",body:n.__assign({},t.scaffold)},t.events=[{eventName:"change",eventLabel:"值变化",description:"选中值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清除选中值"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"reload",actionLabel:"重新加载",description:"触发组件数据刷新并重新渲染"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelTitle="级联选择",t.panelBody=[(0,o.getSchemaTpl)("switchDefaultValue"),{type:"input-text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"',description:"请填入选项 Options 中 value 值"},(0,o.getSchemaTpl)("api",{name:"source",label:"获取选项接口",description:"<div>可用变量说明</div><ul>\n                                <li><code>value</code>当前值</li>\n                                <li><code>level</code>拉取级别，从 <code>1</code>开始。</li>\n                                <li><code>parentId</code>上一层选中的 <code>value</code> 值</li>\n                                <li><code>parent</code>上一层选中选项，包含 <code>label</code> 和 <code>value</code> 的值。</li>\n                            </ul>"}),(0,o.getSchemaTpl)("joinValues",{visibleOn:!0}),(0,o.getSchemaTpl)("delimiter",{visibleOn:"data.joinValues"}),(0,o.getSchemaTpl)("extractValue")],t}return n.__extends(t,e),t}(i.BasePlugin);t.ChainedSelectControlPlugin=r,(0,l.registerEditorPlugin)(r)},7131:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=a(9933),r=a(6294),s=a(2759),d=a(3570);(0,l.setSchemaTpl)("option",{name:"option",type:"input-text",label:(0,s.tipedLabel)("说明","选项说明")});var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="checkbox",t.$schema="/schemas/CheckboxControlSchema.json",t.name="勾选框",t.isBaseComponent=!0,t.icon="fa fa-check-square-o",t.description="勾选框",t.docLink="/amis/zh-CN/components/form/checkbox",t.tags=["表单项"],t.scaffold={type:"checkbox",option:"勾选框",name:"checkbox"},t.previewSchema={type:"form",className:"text-left",wrapWithPanel:!1,mode:"horizontal",body:[n.__assign(n.__assign({value:!0},t.scaffold),{label:"勾选表单"})]},t.notRenderFormZone=!0,t.panelTitle="勾选框",t.panelJustify=!0,t.events=[{eventName:"change",eventLabel:"值变化",description:"选中状态变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中状态"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清除选中值"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelBodyCreator=function(e){return(0,l.getSchemaTpl)("tabs",[{title:"属性",body:(0,l.getSchemaTpl)("collapseGroup",[{title:"基本",body:[(0,l.getSchemaTpl)("formItemName",{required:!0}),(0,l.getSchemaTpl)("label"),(0,l.getSchemaTpl)("option"),(0,l.getSchemaTpl)("switch",{name:"value",label:"默认勾选",pipeIn:function(e,t){var a,n;return e===(null===(n=null===(a=null==t?void 0:t.data)||void 0===a?void 0:a.trueValue)||void 0===n||n)},pipeOut:function(e,t,a){var n=a.trueValue,l=void 0===n||n,i=a.falseValue;return e?l:void 0!==i&&i}}),{type:"ae-Switch-More",hiddenOnDefault:!1,mode:"normal",label:"值格式",formType:"extend",form:{body:[{type:"input-text",label:"勾选值",name:"trueValue",pipeIn:(0,l.defaultValue)(!0),pipeOut:l.valuePipeOut},{type:"input-text",label:"未勾选值",name:"falseValue",pipeIn:(0,l.defaultValue)(!1),pipeOut:l.valuePipeOut}]}},(0,l.getSchemaTpl)("labelRemark"),(0,l.getSchemaTpl)("remark"),(0,l.getSchemaTpl)("description")]},(0,l.getSchemaTpl)("status",{isFormItem:!0}),(0,l.getSchemaTpl)("validation",{tag:r.ValidatorTag.MultiSelect})])},{title:"外观",body:[(0,l.getSchemaTpl)("collapseGroup",[(0,l.getSchemaTpl)("style:formItem",{renderer:e.info.renderer}),(0,l.getSchemaTpl)("style:classNames")])]},{title:"事件",className:"p-none",body:[(0,l.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,d.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(o.BasePlugin);t.CheckboxControlPlugin=c,(0,i.registerEditorPlugin)(c)},4894:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxesControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=a(9933),r=a(6294),s=a(3570),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="checkboxes",t.$schema="/schemas/CheckboxesControlSchema.json",t.order=-470,t.name="复选框",t.isBaseComponent=!0,t.icon="fa fa-check-square",t.description="通过<code>options</code>配置多个勾选框，也可以通过<code>source</code>拉取选项",t.docLink="/amis/zh-CN/components/form/checkboxes",t.tags=["表单项"],t.scaffold={type:"checkboxes",label:"复选框",name:"checkboxes",multiple:!0,options:[{label:"选项A",value:"A"},{label:"选项B",value:"B"}]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({value:"A"},t.scaffold)]},t.notRenderFormZone=!0,t.panelTitle="复选框",t.events=[{eventName:"change",eventLabel:"值变化",description:"选中值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清除选中值"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"reload",actionLabel:"重新加载",description:"触发组件数据刷新并重新渲染"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelJustify=!0,t.panelBodyCreator=function(e){var a=e.info.renderer;return(0,l.getSchemaTpl)("tabs",[{title:"属性",body:(0,l.getSchemaTpl)("collapseGroup",[{title:"基本",body:[(0,l.getSchemaTpl)("formItemName",{required:!0}),(0,l.getSchemaTpl)("label"),[(0,l.getSchemaTpl)("switch",{label:"可全选",name:"checkAll",value:!1,visibleOn:"data.multiple",onChange:function(e,t,a,n){e||n.setValueByName("defaultCheckAll",!1)}}),{type:"container",className:"ae-ExtendMore mb-2",visibleOn:"data.checkAll",body:[(0,l.getSchemaTpl)("switch",{label:"默认全选",name:"defaultCheckAll",value:!1})]}],(0,l.getSchemaTpl)("joinValues",{visibleOn:!0}),(0,l.getSchemaTpl)("delimiter",{visibleOn:"data.joinValues === true"}),(0,l.getSchemaTpl)("extractValue"),(0,l.getSchemaTpl)("labelRemark"),(0,l.getSchemaTpl)("remark"),(0,l.getSchemaTpl)("description")]},{title:"选项",body:[(0,l.getSchemaTpl)("optionControl",{multiple:!0}),(0,l.getSchemaTpl)("value",{visibleOn:"!!this.options"}),(0,l.getSchemaTpl)("creatable",{formType:"extend",hiddenOnDefault:!0,form:{body:[(0,l.getSchemaTpl)("createBtnLabel"),(0,l.getSchemaTpl)("addApi")]}}),(0,l.getSchemaTpl)("editable",{formType:"extend",hiddenOnDefault:!0,form:{body:[(0,l.getSchemaTpl)("editApi")]}}),(0,l.getSchemaTpl)("removable",{formType:"extend",hiddenOnDefault:!0,form:{body:[(0,l.getSchemaTpl)("deleteApi")]}})]},(0,l.getSchemaTpl)("status",{isFormItem:!0}),(0,l.getSchemaTpl)("validation",{tag:r.ValidatorTag.MultiSelect})])},{title:"外观",body:[(0,l.getSchemaTpl)("collapseGroup",[(0,l.getSchemaTpl)("style:formItem",{renderer:a}),(0,l.getSchemaTpl)("style:classNames")])]},{title:"事件",className:"p-none",body:[(0,l.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,s.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(o.BasePlugin);t.CheckboxesControlPlugin=d,(0,i.registerEditorPlugin)(d)},4635:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CodeEditorControlPlugin=void 0;var n=a(752),l=a(5322),i=a(9547),o=a(9756),r=a(9933),s=a(6294),d=a(3570),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="editor",t.$schema="/schemas/EditorControlSchema.json",t.name="代码编辑器",t.isBaseComponent=!0,t.icon="fa fa-code",t.description="代码编辑器，采用 monaco-editor 支持：".concat(l.availableLanguages.slice(0,10).join("，"),"等等"),t.docLink="/amis/zh-CN/components/form/editor",t.tags=["表单项"],t.scaffold={type:"editor",label:"代码编辑器",name:"editor"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign(n.__assign({},t.scaffold),{value:'console.log("Hello world.");'})]},t.events=[{eventName:"focus",eventLabel:"获取焦点",description:"输入框获取焦点时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"当前代码"}}}]},{eventName:"blur",eventLabel:"失去焦点",description:"输入框失去焦点时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"当前代码"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清除选中值"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"focus",actionLabel:"获取焦点",description:"输入框获取焦点"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.notRenderFormZone=!0,t.panelTitle="Editor",t.panelJustify=!0,t.panelBodyCreator=function(e){return(0,i.getSchemaTpl)("tabs",[{title:"属性",body:(0,i.getSchemaTpl)("collapseGroup",[{title:"基本",body:[(0,i.getSchemaTpl)("formItemName",{required:!0}),(0,i.getSchemaTpl)("label"),{label:"语言",name:"language",type:"select",value:"javascript",searchable:!0,options:l.availableLanguages.concat()},{type:"textarea",name:"value",label:"默认值"},(0,i.getSchemaTpl)("switch",{label:"可全屏",name:"allowFullscreen",pipeIn:(0,i.defaultValue)(!0)}),(0,i.getSchemaTpl)("labelRemark"),(0,i.getSchemaTpl)("remark"),(0,i.getSchemaTpl)("description")]},(0,i.getSchemaTpl)("status",{isFormItem:!0}),(0,i.getSchemaTpl)("validation",{tag:s.ValidatorTag.Code})])},{title:"外观",body:(0,i.getSchemaTpl)("collapseGroup",[(0,i.getSchemaTpl)("style:formItem",{renderer:e.info.renderer,schema:[{name:"size",type:"select",pipeIn:(0,i.defaultValue)(""),pipeOut:i.undefinedPipeOut,label:"控件尺寸",options:[{label:"默认",value:""},{label:"中",value:"md"},{label:"大",value:"lg"},{label:"特大",value:"xl"},{label:"超大",value:"xxl"}]}]}),(0,i.getSchemaTpl)("style:classNames")])},{title:"事件",className:"p-none",body:[(0,i.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,d.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(r.BasePlugin);t.CodeEditorControlPlugin=c,(0,o.registerEditorPlugin)(c)},7452:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ComboControlPlugin=void 0;var n=a(752),l=a(1502),i=a(9756),o=a(9933),r=a(9547),s=n.__importDefault(a(6689)),d=a(3570),c=a(3570),p=a(6374),u=a(9794),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="combo",t.$schema="/schemas/ComboControlSchema.json",t.name="组合输入",t.isBaseComponent=!0,t.icon="fa fa-group",t.description="多个表单项的组合，可配置是否增加和删除初始设定的模板",t.docLink="/amis/zh-CN/components/form/combo",t.tags=["表单项"],t.scaffold={type:"combo",label:"组合输入",name:"combo",multiple:!0,items:[{type:"input-text",name:"input-text",placeholder:"文本"},{type:"select",name:"select",placeholder:"选项",options:[{label:"A",value:"a"},{label:"B",value:"b"}]}]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign(n.__assign({},t.scaffold),{value:[{text:"Row 1",select:"a"},{}]})]},t.events=[{eventName:"add",eventLabel:"添加",description:"添加组合项时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"object",title:"当前组合项的值"}}}]},{eventName:"delete",eventLabel:"删除",description:"删除组合项",dataSchema:[{type:"object",properties:{"event.data.key":{type:"string",title:"删除项的索引"},"event.data.value":{type:"string",title:"现有组合项的值"}}}]},{eventName:"tabsChange",eventLabel:"切换tab",description:"当设置 tabsMode 为 true 时，切换选项卡时触发",dataSchema:[{type:"object",properties:{"event.data.key":{type:"string",title:"选项卡索引"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清除选中值"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelTitle="组合输入",t.panelBodyCreator=function(e){return[{name:"conditions",type:"button-group-select",size:"sm",mode:"inline",className:"block",options:[{label:"固定成员类型",value:"1"},{label:"多分支",value:"2"}],pipeIn:function(e){return e?"2":"1"},pipeOut:function(e){return 2==e?[{label:"类型名称",test:"",items:[{type:"input-text",label:"文本",name:"text"}],scaffold:{}}]:void 0}},{name:"conditions",visibleOn:"this.conditions",type:"combo",label:"分支管理",multiple:!0,multiLine:!0,minLength:1,items:[{label:"名称",name:"label",type:"input-text",required:!0},{label:"命中条件",name:"test",required:!0,type:"input-text",placeholder:'比如: this.type === "text"',description:"根据成员数据判断是否使用此分支"},{name:"items",asFormItem:!0,children:function(e){var a=e.value,n=e.onChange;return s.default.createElement(l.Button,{size:"sm",level:"danger",className:"m-b",block:!0,onClick:function(){return t.manager.openSubEditor({title:"配置子表单项",value:a,slot:{type:"form",mode:"normal",body:"$$",wrapWithPanel:!1,className:"wrapper"},onChange:n})}},"配置子表单集合")}},{type:"textarea",name:"scaffold",required:!0,label:"新增初始值",pipeOut:r.valuePipeOut}],scaffold:{label:"类型名称",test:"",items:[{type:"input-text",label:"文本",name:"text"}],scaffold:{}}},(0,r.getSchemaTpl)("switch",{name:"typeSwitchable",visibleOn:"this.conditions",label:"是否可切换类型",pipeIn:(0,r.defaultValue)(!0)}),{name:"items",visibleOn:"!this.conditions",asFormItem:!0,children:function(e){var a=e.value,n=e.onChange;return s.default.createElement(l.Button,{size:"sm",level:"danger",className:"m-b",block:!0,onClick:function(){t.manager.openSubEditor({title:"配置子表单集合",value:a,slot:{type:"form",mode:"normal",body:"$$",wrapWithPanel:!1,className:"wrapper"},onChange:function(e){return n(e)}})}},"配置子表单集合")}},(0,r.getSchemaTpl)("switchDefaultValue",{visibleOn:"!this.defaultCheckAll"}),{type:"textarea",name:"value",label:"默认值",pipeOut:r.valuePipeOut,visibleOn:'typeof this.value !== "undefined"'},(0,r.getSchemaTpl)("switch",{label:"多行模式",name:"multiLine",value:!1,description:"即是否要换行"}),(0,r.getSchemaTpl)("multiple"),(0,r.getSchemaTpl)("joinValues"),(0,r.getSchemaTpl)("delimiter"),(0,r.getSchemaTpl)("switch",{name:"flat",label:"是否将值打平",visibleOn:"Array.isArray(data.items) && data.items.length === 1 && data.multiple",description:"默认数组内的数据结构为对象，如果只有一个表单项，可以配置将值打平，那么数组内放置的就是那个表单项的值"}),(0,r.getSchemaTpl)("switch",{label:"是否可新增",name:"addable",visibleOn:"this.multiple",pipeIn:(0,r.defaultValue)(!0)}),{type:"textarea",name:"scaffold",label:"新增初始值",visibleOn:"this.multiple && this.addable !== false",pipeOut:r.valuePipeOut,pipeIn:(0,r.defaultValue)({})},{label:"新增按钮文字",name:"addButtonText",type:"input-text",visibleOn:"data.addable",pipeIn:(0,r.defaultValue)("新增")},(0,r.getSchemaTpl)("switch",{label:"是否可删除",name:"removable",visibleOn:"this.multiple",pipeIn:(0,r.defaultValue)(!0)}),(0,r.getSchemaTpl)("api",{name:"deleteApi",label:"删除前的请求",hiddenOn:"!data.removable"}),{label:"删除确认提示",name:"deleteConfirmText",type:"input-text",visibleOn:"data.deleteApi",pipeIn:(0,r.defaultValue)("确认要删除")},(0,r.getSchemaTpl)("switch",{name:"draggable",label:"是否可拖拽排序",visibleOn:"this.multiple"}),{label:"拖拽排序的提示文字",name:"draggableTip",type:"input-text",visibleOn:"data.draggable",pipeIn:(0,r.defaultValue)("可通过拖动每行中的【交换】按钮进行顺序调整")},(0,r.getSchemaTpl)("switch",{name:"noBorder",label:"去掉边框",visibleOn:"this.multiLine"}),{name:"minLength",type:"input-number",label:"限制最小数量"},{name:"maxLength",type:"input-number",label:"限制最大数量"},{label:"默认消息提示",type:"combo",name:"messages",multiLine:!0,description:"",items:[{label:"有子表单项限制失败时提示",type:"input-text",name:"validateFailed"},{label:"最小长度验证失败时提示",type:"input-text",name:"minLengthValidateFailed"},{label:"最大长度验证失败时提示",type:"input-text",name:"maxLengthValidateFailed"}]},(0,r.getSchemaTpl)("switch",{name:"canAccessSuperData",label:"是否自动填充父级同名变量",pipeIn:(0,r.defaultValue)(!1)}),(0,r.getSchemaTpl)("switch",{name:"tabsMode",label:"采用 Tabs 展示方式",pipeIn:(0,r.defaultValue)(!1)}),{name:"tabsStyle",label:"Tabs 的展示模式",visibleOn:"data.tabsMode",type:"list-select",options:[{label:"正常",value:"normal"},{label:"水平",value:"horizontal"},{label:"内联",value:"inline"}],mode:"inline",className:"w-full"},{name:"tabsLabelTpl",label:"选项卡标题的生成模板",visibleOn:"data.tabsMode",type:"input-text",mode:"inline",className:"w-full"},(0,r.getSchemaTpl)("switch",{name:"lazyLoad",label:"懒加载",pipeIn:(0,r.defaultValue)(!1),description:"如果数据比较多，比较卡顿时，可开启此配置项"}),(0,r.getSchemaTpl)("switch",{name:"strictMode",label:"严格模式",pipeIn:(0,r.defaultValue)(!0),description:"如果你希望环境变量的值实时透传到 Combo 中，请关闭此选项。"}),{name:"syncFields",visibleOn:"!data.strictMode",label:"配置同步字段",type:"input-text",multiple:!0,joinValues:!1,extractValue:!0,description:"如果 Combo 层级比较深，底层的获取外层的数据可能不同步。但是给 combo 配置这个属性就能同步下来。"},(0,r.getSchemaTpl)("switch",{name:"nullable",label:"允许为空",pipeIn:(0,r.defaultValue)(!1),description:"如果子表单项里面配置验证器，且又是单条模式。可以允许用户选择清空（不填）。"}),{name:"items",label:"各列 CSS 配置",hiddenOn:"this.multiLine",type:"combo",addable:!1,removable:!1,multiple:!0,items:[{name:"columnClassName",placeholder:"CSS 类名",type:"input-text"}]},(0,r.getSchemaTpl)("subFormItemMode",{visibleOn:"this.multiLine"}),(0,r.getSchemaTpl)("subFormHorizontalMode"),(0,r.getSchemaTpl)("subFormHorizontal")]},t}return n.__extends(t,e),t.prototype.filterProps=function(e){if((e=(0,c.JSONPipeOut)(e)).multiple&&!e.value&&!e.$ref){var t={};Array.isArray(e.items)&&e.items.forEach((function(e){e.name&&(0,u.setVariable)(t,e.name,(0,p.mockValue)(e))})),e.value=[t]}return e},t.prototype.buildEditorToolbar=function(e,t){var a=e.id,n=e.info,l=e.schema;"combo"!==n.renderer.name||Array.isArray(l.conditions)||t.push({icon:"fa fa-expand",order:100,tooltip:"配置子表单项",onClick:this.editDetail.bind(this,a)})},t.prototype.buildEditorContextMenu=function(e,t){var a=e.id,n=e.schema;e.region,"combo"!==e.info.renderer.name||Array.isArray(n.conditions)||t.push("|",{label:"配置成员渲染器",onSelect:this.editDetail.bind(this,a)})},t.prototype.editDetail=function(e){var t=this.manager,a=t.store,l=a.getNodeById(e),i=a.getValueOf(e);l&&i&&this.manager.openSubEditor({title:"配置子表单项",value:i.items,slot:{type:"form",mode:"normal",body:"$$",wrapWithPanel:!1,className:"wrapper"},onChange:function(e){e=n.__assign(n.__assign({},i),{items:e}),t.panelChangeValue(e,(0,d.diff)(i,e))}})},t}(o.BasePlugin);t.ComboControlPlugin=m,(0,i.registerEditorPlugin)(m)},2888:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionBilderPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(6517),s=n.__importStar(a(9643)),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="condition-builder",t.$schema="/schemas/ConditionBuilderControlSchema.json",t.name="条件组件",t.isBaseComponent=!0,t.icon="fa fa-group",t.description="用于设置复杂组合条件，支持添加条件，添加分组，设置组合方式，拖拽排序等功能。",t.docLink="/amis/zh-CN/components/form/condition-builder",t.tags=["表单项"],t.scaffold={type:"condition-builder",label:"条件组件",name:"conditions",description:"适合让用户自己拼查询条件，然后后端根据数据生成 query where",fields:[{label:"文本",type:"text",name:"text"},{label:"数字",type:"number",name:"number"},{label:"布尔",type:"boolean",name:"boolean"},{label:"选项",type:"select",name:"select",options:[{label:"A",value:"a"},{label:"B",value:"b"},{label:"C",value:"c"},{label:"D",value:"d"},{label:"E",value:"e"}]},{label:"日期",type:"date",name:"date"},{label:"时间",type:"time",name:"time"},{label:"日期时间",type:"datetime",name:"datetime"}]},t.scaffoldForm={title:"快速开始-条件组合",body:[{type:"combo",name:"fields",multiple:!0,draggable:!0,multiLine:!0,items:[{type:"group",body:[{type:"select",name:"type",placeholder:"条件类型",options:[{label:"文本",value:"text"},{label:"数字",value:"number"},{label:"布尔",value:"boolean"},{label:"日期",value:"date"},{label:"日期时间",value:"datetime"},{label:"时间",value:"time"},{label:"选项",value:"select"}]},{type:"input-text",name:"name",placeholder:"字段名"},{type:"input-text",placeholder:"字段名称",name:"label"}]},{type:"group",visibleOn:'data.type === "number"',body:[{type:"input-number",name:"minimum",placeholder:"最小值"},{type:"input-number",name:"maximum",placeholder:"最大值"},{type:"input-number",name:"step",min:0,placeholder:"步长"}]},{type:"group",visibleOn:'!!~["date", "datetime", "time"].indexOf(data.type)',body:[{type:"input-text",name:"format",placeholder:"值格式"},{type:"input-text",name:"inputFormat",placeholder:"日期显示格式"},{type:"input-text",name:"timeFormat",placeholder:"时间显示格式",visibleOn:'data.type === "datetime"'}]},{type:"group",visibleOn:'data.type === "select"',body:[{type:"input-text",name:"source",placeholder:"字段选项远程拉取，支持接口或数据映射"}]},{type:"group",body:[{type:"input-text",placeholder:"占位符",name:"placeholder"},{name:"operators",placeholder:"操作符",asFormItem:!0,children:function(e){var t,a,n=e.data,l=e.render,i=e.onChange;return l("operations",{type:"select",name:"operators",multiple:!0,value:n.value||(null===(t=s.default.types[n.type])||void 0===t?void 0:t.operators)||[],joinValues:!1,extractValue:!0,options:null===(a=s.default.types[n.type])||void 0===a?void 0:a.operators.map((function(e){return(0,r.isObject)(e)&&e.label&&e.value?{label:e.label,value:e.value}||[]:(0,r.isString)(e)&&{label:s.OperationMap[e],value:e}||[]}))},{onChange:function(e){return i(e)}})}}]}]}],canRebuild:!0},t.previewSchema={type:"form",mode:"horizontal",wrapWithPanel:!1,body:[t.scaffold]},t.panelTitle="条件组件",t.panelBodyCreator=function(e){return[(0,o.getSchemaTpl)("source")]},t}return n.__extends(t,e),t.prototype.buildSubRenderers=function(e,t){var a=this;if(a.name&&a.description)return{name:a.name,icon:a.icon,description:a.description,previewSchema:a.previewSchema,tags:a.tags,docLink:a.docLink,type:a.type,scaffold:a.scaffold,scaffoldForm:this.scaffoldForm,disabledRendererPlugin:a.disabledRendererPlugin,isBaseComponent:a.isBaseComponent,rendererName:a.rendererName}},t}(i.BasePlugin);t.ConditionBilderPlugin=d,(0,l.registerEditorPlugin)(d)},8322:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ControlPlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(1502),o=a(9547),r=a(9756),s=a(9933),d=a(2759),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="control",t.$schema="/schemas/FormControlSchema.json",t.name="表单项容器",t.isBaseComponent=!0,t.icon="fa fa-object-group",t.description="表单项容器",t.docLink="/amis/zh-CN/components/form/group",t.tags=["容器"],t.disabledRendererPlugin=!0,t.scaffold={type:"control",label:"表单项容器",body:[{type:"tpl",tpl:"a"}]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.regions=[{key:"body",label:"元素集合",preferTag:"表单项"}],t.panelTitle="表单项容器",t.panelBodyCreator=function(e){return(0,d.formItemControl)({common:{replace:!0,body:[{children:l.default.createElement(i.Button,{className:"m-b",onClick:function(){return t.manager.showRendererPanel("表单项")},level:"danger",tooltip:"插入一个新的元素",size:"sm",block:!0},"新增元素")},(0,o.getSchemaTpl)("labelRemark"),(0,o.getSchemaTpl)("remark"),(0,o.getSchemaTpl)("placeholder"),(0,o.getSchemaTpl)("description")]}})},t}return n.__extends(t,e),t}(s.BasePlugin);t.ControlPlugin=c,(0,r.registerEditorPlugin)(c)},5561:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiffEditorControlPlugin=void 0;var n=a(752),l=a(5322),i=a(9547),o=a(9756),r=a(9933),s=a(6294),d=a(3570),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="diff-editor",t.$schema="/schemas/DiffEditorControlSchema.json",t.name="Diff编辑器",t.isBaseComponent=!0,t.icon="fa fa-columns",t.description="左右两边的代码做对比，支持的语言包括：".concat(l.availableLanguages.slice(0,10).join("，"),"等等"),t.docLink="/amis/zh-CN/components/form/diff-editor",t.tags=["表单项"],t.scaffold={type:"diff-editor",label:"diff编辑器",name:"diff"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign(n.__assign({},t.scaffold),{value:"Hello World\nLine 1\nNew line\nBla Bla",diffValue:"Hello World\nLine 2"})]},t.events=[{eventName:"focus",eventLabel:"获取焦点",description:"右侧输入框获取焦点时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"当前代码"}}}]},{eventName:"blur",eventLabel:"失去焦点",description:"右侧输入框失去焦点时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"当前代码"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清除选中值"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"focus",actionLabel:"获取焦点",description:"获取焦点，焦点落在右侧编辑面板"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.notRenderFormZone=!0,t.panelTitle="Diff编辑器",t.panelJustify=!0,t.panelBodyCreator=function(e){return(0,i.getSchemaTpl)("tabs",[{title:"属性",body:(0,i.getSchemaTpl)("collapseGroup",[{title:"基本",body:[(0,i.getSchemaTpl)("formItemName",{required:!0}),(0,i.getSchemaTpl)("label"),{label:"语言",name:"language",type:"select",value:"javascript",searchable:!0,options:l.availableLanguages.concat()},{type:"textarea",name:"diffValue",label:"左侧默认值",pipeOut:i.valuePipeOut,placeholder:"支持使用 ${xxx} 来获取变量"},{type:"textarea",name:"value",label:"右侧默认值",placeholder:"支持使用 ${xxx} 来获取变量"},(0,i.getSchemaTpl)("labelRemark"),(0,i.getSchemaTpl)("remark"),(0,i.getSchemaTpl)("description")]},(0,i.getSchemaTpl)("status",{isFormItem:!0}),(0,i.getSchemaTpl)("validation",{tag:s.ValidatorTag.All})])},{title:"外观",body:(0,i.getSchemaTpl)("collapseGroup",[(0,i.getSchemaTpl)("style:formItem",{renderer:e.info.renderer,schema:[{name:"size",type:"select",pipeIn:(0,i.defaultValue)(""),pipeOut:i.undefinedPipeOut,label:"控件尺寸",options:[{label:"默认",value:""},{label:"中",value:"md"},{label:"大",value:"lg"},{label:"特大",value:"xl"},{label:"超大",value:"xxl"}]}]}),(0,i.getSchemaTpl)("style:classNames")])},{title:"事件",className:"p-none",body:[(0,i.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,d.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(r.BasePlugin);t.DiffEditorControlPlugin=c,(0,o.registerEditorPlugin)(c)},4624:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FieldSetControlPlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(9547),r=a(9756),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="fieldset",t.$schema="/schemas/FieldSetControlSchema.json",t.disabledRendererPlugin=!0,t.name="字段集",t.isBaseComponent=!0,t.icon="fa fa-toggle-down",t.description="多个表单项的组合，可配置是否折叠",t.docLink="/amis/zh-CN/components/form/fieldset",t.tags=["表单项"],t.scaffold={type:"fieldset",title:"标题",collapsable:!0,body:[{type:"input-text",label:"文本1",name:"text"},{type:"input-text",label:"文本2",name:"text"}]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.regions=[{key:"body",label:"子表单项",renderMethod:"renderBody",insertPosition:"inner",preferTag:"表单项"}],t.panelTitle="字段集",t.panelBodyCreator=function(e){return[{label:"标题",name:"title",type:"input-text"},(0,o.getSchemaTpl)("switch",{name:"collapsable",label:"是否可折叠",pipeIn:(0,o.defaultValue)(!1)}),(0,o.getSchemaTpl)("switch",{name:"collapsed",label:"默认是否折叠",visibleOn:"this.collapsable"}),{name:"className",type:"button-group-select",clearable:!0,size:"sm",label:"控件样式",className:"w-full",pipeIn:(0,o.defaultValue)(""),options:[{label:"默认",value:""},{value:"Collapse--xs",label:"极小"},{value:"Collapse--sm",label:"小"},{value:"Collapse--base",label:"正常"},{value:"Collapse--md",label:"大"},{value:"Collapse--lg",label:"超大"}]},(0,o.getSchemaTpl)("className",{name:"headingClassName",label:"标题 CSS 类名"}),(0,o.getSchemaTpl)("className",{name:"bodyClassName",label:"内容区域 CSS 类名"}),{children:i.default.createElement(l.Button,{level:"info",size:"sm",className:"m-b-sm",block:!0,onClick:function(){t.manager.showRendererPanel("表单项","请从左侧组件面板中点击添加子表单项")}},"添加子表单项")},(0,o.getSchemaTpl)("subFormItemMode"),(0,o.getSchemaTpl)("subFormHorizontalMode"),(0,o.getSchemaTpl)("subFormHorizontal")]},t}return n.__extends(t,e),t.prototype.filterProps=function(e){return e.collapsed=!1,e},t}(a(9933).BasePlugin);t.FieldSetControlPlugin=s,(0,r.registerEditorPlugin)(s)},1506:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FormPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(3570),s=a(9794),d=[{name:"type",label:"控件类型",type:"select",required:!0,options:[{label:"单行文本框",value:"input-text"},{label:"多行文本",value:"textarea"},{label:"分组",value:"group"},{label:"数字输入",value:"input-number"},{label:"单选框",value:"radios"},{label:"勾选框",value:"checkbox"},{label:"复选框",value:"checkboxes"},{label:"下拉框",value:"select"},{label:"开关",value:"switch"},{label:"日期",value:"input-date"},{label:"表格",value:"input-table"},{label:"文件上传",value:"input-file"},{label:"图片上传",value:"input-image"},{label:"富文本编辑器",value:"input-rich-text"}]},{name:"label",label:"显示名称",type:"input-text",hiddenOn:'data.type === "group"'},{name:"name",label:"提交字段名",required:!0,type:"input-text",hiddenOn:'data.type === "group"'}],c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="form",t.$schema="/schemas/FormSchema.json",t.order=-999,t.name="表单",t.isBaseComponent=!0,t.description="可用于新建、编辑或者展示数据，配置初始化接口可从远端加载数据，配置提交接口可将数据发送远端。另外也可以将数据提交给其他组件，与其他组件通信。",t.docLink="/amis/zh-CN/components/form/index",t.tags=["功能"],t.icon="fa fa-list-alt",t.scaffold={type:"form",title:"表单",body:[{label:"文本框",type:"input-text",name:"text"}]},t.previewSchema={type:"form",panelClassName:"Panel--default text-left m-b-none",mode:"horizontal",body:[{label:"文本",name:"a",type:"input-text"}]},t.scaffoldForm={title:"快速创建表单",body:[(0,o.getSchemaTpl)("api",{label:"提交地址"}),{name:"mode",label:"文字与输入框展示模式",type:"button-group-select",pipeIn:(0,o.defaultValue)("normal",!1),options:[{label:"上下",value:"normal"},{label:"左右摆放",value:"horizontal"},{label:"内联",value:"inline"}]},{label:"表单控件",type:"combo",name:"body",multiple:!0,draggable:!0,multiLine:!1,items:n.__spreadArray(n.__spreadArray([],d,!0),[{visibleOn:'data.type === "group"',type:"combo",name:"body",label:"分组内的控件",multiple:!0,draggable:!0,multiLine:!0,items:n.__spreadArray([],d,!0)}],!1)}]},t.regions=[{key:"body",label:"表单集合",matchRegion:function(e){return!!(null==e?void 0:e.props.noValidate)},renderMethod:"renderBody",preferTag:"表单项"},{label:"按钮组",key:"actions",preferTag:"按钮"}],t.panelTitle="表单",t.events=[{eventName:"inited",eventLabel:"初始化完成",description:"远程初始化接口请求成功时触发",dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:"initApi 远程请求返回的初始化数据"}}}]},{eventName:"change",eventLabel:"数值变化",description:"表单值变化时触发",dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:"当前表单数据"}}}]},{eventName:"formItemValidateSucc",eventLabel:"表单项校验成功",description:"表单项校验成功后触发",dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:"当前表单数据"}}}]},{eventName:"formItemValidateError",eventLabel:"表单项校验失败",description:"表单项校验失败后触发",dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:"当前表单数据"}}}]},{eventName:"validateSucc",eventLabel:"表单校验成功",description:"表单校验成功后触发",dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:"当前表单数据"}}}]},{eventName:"validateError",eventLabel:"表单校验失败",description:"表单校验失败后触发",dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:"当前表单数据"}}}]},{eventName:"submitSucc",eventLabel:"提交成功",description:"表单提交请求成功后触发",dataSchema:[{type:"object",properties:{"event.data.result":{type:"object",title:"提交成功后返回的数据"}}}]},{eventName:"submitFail",eventLabel:"提交失败",description:"表单提交请求失败后触发",dataSchema:[{type:"object",properties:{"event.data.error":{type:"object",title:"提交失败后返回的错误信息"}}}]}],t.actions=[{actionLabel:"提交表单",actionType:"submit",description:"触发表单提交"},{actionLabel:"重置表单",actionType:"reset",description:"触发表单重置"},{actionLabel:"清空表单",actionType:"clear",description:"触发表单清空"},{actionLabel:"校验表单",actionType:"validate",description:"触发表单校验"},{actionLabel:"重新加载",actionType:"reload",description:"触发组件数据刷新并重新渲染"},{actionLabel:"更新数据",actionType:"setValue",description:"触发组件数据更新"}],t.panelBodyCreator=function(e){var a=/\/crud\/filter\/form$/.test(e.path),l=/(?:\/|^)dialog\/.+$/.test(e.path);return[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{name:"title",type:"input-text",label:"标题",visibleOn:"this.wrapWithPanel !== false"},{name:"submitText",type:"input-text",label:"提交按钮名称",pipeIn:(0,o.defaultValue)("提交"),visibleOn:"this.wrapWithPanel !== false && !this.actions && (!Array.isArray(this.body) || !this.body.some(function(item) {return !!~['submit','button','reset','button-group'].indexOf(item.type);}))",description:"当没有自定义按钮时有效。"},(0,o.getSchemaTpl)("switch",{name:"autoFocus",label:"自动聚焦",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"设置后将让表单的第一个可输入的表单项获得焦点",placement:"left"}}),(0,o.getSchemaTpl)("submitOnChange"),(0,o.getSchemaTpl)("switch",{label:"提交完后重置表单",name:"resetAfterSubmit",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"即表单提交完后，让所有表单项的值还原成初始值",placement:"left"}}),a?null:(0,o.getSchemaTpl)("switch",{label:"初始化后提交一次",name:"submitOnInit",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"开启后，表单初始完成便会触发一次提交。",placement:"left"}}),l?(0,o.getSchemaTpl)("switch",{label:"提交后是否关闭对话框",name:"closeDialogOnSubmit",pipeIn:function(e){return!1!==e}}):null,a?null:{label:"提交给其他组件",name:"target",type:"input-text",description:"可以通过设置此属性，把当前表单的值提交给目标组件，而不是自己来通过接口保存，请填写目标组件的 <code>name</code> 属性，多个组件请用逗号隔开。当 <code>target</code> 为 <code>window</code> 时，则把表单数据附属到地址栏。"},(0,o.getSchemaTpl)("reload",{test:!a}),a?null:{label:"跳转",name:"redirect",type:"input-text",description:"当设置此值后，表单提交完后跳转到目标地址。"},(0,o.getSchemaTpl)("switch",{name:"canAccessSuperData",label:"是否自动填充父级同名变量",pipeIn:(0,o.defaultValue)(!0)}),(0,o.getSchemaTpl)("switch",{name:"persistData",label:"是否开启本地缓存",pipeIn:(0,o.defaultValue)(!1),labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"开启后，表单的数据会缓存在浏览器中，切换页面或关闭弹框不会清空当前表单内的数据",placement:"left"}}),(0,o.getSchemaTpl)("switch",{name:"clearPersistDataAfterSubmit",label:"提交成功后清空本地缓存",pipeIn:(0,o.defaultValue)(!1),visibleOn:"data.persistData",labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"开启本地缓存并开启本配置项后，表单提交成功后，会自动清除浏览器中当前表单的缓存数据",placement:"left"}}),{name:"rules",label:"表单组合校验",type:"combo",multiple:!0,multiLine:!0,items:[{name:"rule",label:"校验规则",type:"input-text"},{name:"message",label:"报错提示",type:"input-text"}]}]},a?null:{title:"接口",body:[(0,o.getSchemaTpl)("api",{label:"保存接口",description:"用来保存表单数据",sampleBuilder:function(e){return'{\n    "status": 0,\n    "msg": "",\n\n    // 可以不返回，如果返回了数据将被 merge 进来。\n    data: {}\n  }'}}),(0,o.getSchemaTpl)("switch",{name:"asyncApi",label:"采用异步方式?",visibleOn:"data.api",labelRemark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"left"},pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0}}),(0,o.getSchemaTpl)("api",{name:"asyncApi",label:"异步检测接口",visibleOn:"data.asyncApi != null",description:"设置此属性后，表单提交发送保存接口后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"}),{type:"divider"},(0,o.getSchemaTpl)("api",{name:"initApi",label:"初始化接口",description:"用来初始化表单数据",sampleBuilder:function(e){var t={};return Array.isArray(e.body)&&e.body.forEach((function(e){e.name&&!~["combo","input-array","form"].indexOf(e.type)&&(0,s.setVariable)(t,e.name,"sample")})),JSON.stringify({status:0,msg:"",data:t},null,2)}}),(0,o.getSchemaTpl)("switch",{label:"开启定时刷新",name:"interval",visibleOn:"data.initApi",pipeIn:function(e){return!!e},pipeOut:function(e){return e?3e3:void 0}}),{name:"interval",type:"input-number",visibleOn:"data.interval",step:500,className:"m-t-n-sm",description:"设置后将自动定时刷新，单位 ms"},(0,o.getSchemaTpl)("switch",{name:"silentPolling",label:"静默刷新",visibleOn:"!!data.interval",description:"设置自动定时刷新时是否显示loading"}),{name:"stopAutoRefreshWhen",label:"停止定时刷新检测表达式",type:"input-text",visibleOn:"!!data.interval",description:"定时刷新一旦设置会一直刷新，除非给出表达式，条件满足后则不刷新了。"},(0,o.getSchemaTpl)("switch",{label:"采用异步方式？",name:"initAsyncApi",visibleOn:"data.initApi",remark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"left"},pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0}}),(0,o.getSchemaTpl)("api",{name:"initAsyncApi",label:"异步检测接口",visibleOn:"data.initAsyncApi != null",description:"设置此属性后，表单请求 initApi 后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"}),{type:"divider"},a?{name:"messages",pipeIn:(0,o.defaultValue)({fetchFailed:"初始化失败"}),label:"默认消息信息",type:"combo",multiLine:!0,description:"可以不设置，接口返回的 msg 字段，优先级更高",items:[{label:"获取成功提示",name:"fetchSuccess",type:"input-text"},{label:"获取失败提示",name:"fetchFailed",type:"input-text"}]}:{name:"messages",pipeIn:(0,o.defaultValue)({fetchFailed:"初始化失败",saveSuccess:"保存成功",saveFailed:"保存失败"}),label:"默认消息提示",type:"combo",multiLine:!0,description:"可以不设置，接口返回的 msg 字段，优先级更高",items:[{label:"获取成功提示",name:"fetchSuccess",type:"input-text"},{label:"获取失败提示",name:"fetchFailed",type:"input-text"},{label:"保存成功提示",name:"saveSuccess",type:"input-text"},{label:"保存失败提示",name:"saveFailed",type:"input-text"},{label:"验证失败提示",name:"validateFailed",type:"input-text"}]}]},{title:"外观",body:[(0,o.getSchemaTpl)("switch",{name:"wrapWithPanel",label:"用 Panel 包裹",pipeIn:(0,o.defaultValue)(!0),labelRemark:{className:"m-l-xs",trigger:"click",rootClose:!0,content:"关闭后，表单只会展示表单项，标题和操作栏将不会显示。",placement:"left"}}),{name:"mode",label:"展示模式",type:"button-group-select",size:"sm",pipeIn:(0,o.defaultValue)("normal",!1),options:[{label:"默认",value:"normal"},{label:"左右摆放",value:"horizontal"},{label:"内联",value:"inline"}]},(0,o.getSchemaTpl)("horizontal",{visibleOn:'this.mode == "horizontal"'}),(0,o.getSchemaTpl)("className"),(0,o.getSchemaTpl)("className",{name:"panelClassName",visibleOn:"this.wrapWithPanel !== false",label:"Panel 的 CSS 类名",description:"可以设置 Panel--info 之类的"})]},{title:"事件",className:"p-none",body:[(0,o.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,r.getEventControlConfig)(t.manager,e)))]},{title:"其他",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("name",{test:!a}),(0,o.getSchemaTpl)("switch",{name:"debug",label:"开启调试",labelRemark:"显示当前表单的数据在表单顶部"}),(0,o.getSchemaTpl)("disabled"),(0,o.getSchemaTpl)("visible")]}])]},t}return n.__extends(t,e),t.prototype.afterUpdate=function(e){var t,a=e.context;"form"===a.info.renderer.name&&(null===(t=a.diff)||void 0===t?void 0:t.some((function(e){var t;return"wrapWithPanel"===(null===(t=e.path)||void 0===t?void 0:t.join("."))})))&&this.manager.buildPanels()},t.prototype.buildDataSchemas=function(e,t){var a,l,i,o,r,s;return n.__awaiter(this,void 0,void 0,(function(){var d,c,p,u,m,h,f,g,b,v,y;return n.__generator(this,(function(n){switch(n.label){case 0:d={$id:"formItems",type:"object",properties:{}},c=e.children.concat(),n.label=1;case 1:return c.length?(p=c.shift(),"combo"!==(null===(a=p.rendererConfig)||void 0===a?void 0:a.type)?[3,6]:(f=p.schema).name?(u=d.properties,m=f.name,y={type:"array",title:f.label||f.name},(null===(i=null===(l=p.info)||void 0===l?void 0:l.plugin)||void 0===i?void 0:i.buildDataSchemas)?[4,p.info.plugin.buildDataSchemas(p,t)]:[3,3]):[3,5]):[3,13];case 2:return h=n.sent(),[3,4];case 3:h={type:"object",properties:{}},n.label=4;case 4:u[m]=(y.items=h,y),n.label=5;case 5:return[3,12];case 6:return(null===(o=p.rendererConfig)||void 0===o?void 0:o.isFormItem)?(f=p.schema).name?(g=d.properties,b=f.name,(null===(s=null===(r=p.info)||void 0===r?void 0:r.plugin)||void 0===s?void 0:s.buildDataSchemas)?[4,p.info.plugin.buildDataSchemas(p,t)]:[3,8]):[3,10]:[3,11];case 7:return v=n.sent(),[3,9];case 8:v={type:"string",title:f.label||f.name,description:f.description},n.label=9;case 9:g[b]=v,n.label=10;case 10:return[3,12];case 11:c.push.apply(c,p.children),n.label=12;case 12:return[3,1];case 13:return[2,d]}}))}))},t.prototype.rendererBeforeDispatchEvent=function(e,t,a){if("inited"===t){var l=this.manager.dataSchema.getScope("".concat(e.id,"-").concat(e.type)),i=n.__assign({$id:"formInitedData"},(0,r.jsonToJsonSchema)(a));l.removeSchema(i.$id),l.addSchema(i)}},t}(i.BasePlugin);t.FormPlugin=c,(0,l.registerEditorPlugin)(c)},1808:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FormulaControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="formula",t.$schema="/schemas/FormulaControlSchema.json",t.name="公式",t.isBaseComponent=!0,t.icon="fa fa-calculator",t.description="通过公式计算指定的变量值，并将其结果作用到指定的变量中",t.docLink="/amis/zh-CN/components/form/formula",t.tags=["表单项"],t.scaffold={type:"formula",name:"formula"},t.previewSchema={type:"tpl",tpl:"计算公式"},t.panelTitle="公式",t.panelBody=[{label:"字段名",name:"name",type:"input-text",description:"公式计算结果会作用到此字段名对应的变量中。"},{type:"input-text",name:"value",label:"默认值"},{type:"input-text",name:"formula",label:"公式",description:"支持 JS 表达式，如： <code>data.var_a + 2</code>，即当表单项 <code>var_a</code> 变化的时候，会自动给当前表单项设置为 <code>var_a + 2</code> 的值。若设置为字符串，则需要加引号"},{type:"input-text",name:"condition",label:"作用条件",description:'支持如：<code>\\${xxx}</code>或者<code>data.xxx == "a"</code> 表达式来配置作用条件，当满足该作用条件时，会将计算结果设置到目标变量上。'},(0,l.getSchemaTpl)("switch",{name:"initSet",label:"是否初始应用",description:"是否初始化的时候运行公式结果，并设置到目标变量上。",pipeIn:(0,l.defaultValue)(!0)}),(0,l.getSchemaTpl)("switch",{name:"autoSet",label:"是否自动应用",description:"是否自动计算公式结果，有变化时自动设置到目标变量上。<br />关闭后，通过按钮也能触发运算。",pipeIn:(0,l.defaultValue)(!0)})],t}return n.__extends(t,e),t.prototype.renderRenderer=function(e){return this.renderPlaceholder("功能组件（公式）",e.key)},t}(a(9933).BasePlugin);t.FormulaControlPlugin=o,(0,i.registerEditorPlugin)(o)},6239:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GroupControlPlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(9756),r=a(9933),s=a(9547),d=a(3570),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="group",t.$schema="/schemas/GroupControlSchema.json",t.disabledRendererPlugin=!0,t.name="表单组",t.isBaseComponent=!0,t.icon="fa fa-id-card-o",t.description="水平展示多个表单项",t.docLink="/amis/zh-CN/components/form/group",t.tags=["表单项"],t.scaffold={type:"group",body:[{type:"input-text",label:"文本",name:"var1"},{type:"input-text",label:"文本",name:"var2"}],label:!1},t.previewSchema={type:"form",className:"text-left",wrapWithPanel:!1,mode:"horizontal",body:[n.__assign(n.__assign({},t.scaffold),{mode:"normal"})]},t.regions=[{key:"body",label:"子表单",renderMethod:"renderInput",preferTag:"表单项",wrapperResolve:function(e){return e}}],t.panelTitle="表单组",t.panelBody=[(0,s.getSchemaTpl)("tabs",[{title:"常规",body:[(0,s.getSchemaTpl)("label"),(0,s.getSchemaTpl)("description",{visible:"this.label"}),{children:i.default.createElement(l.Button,{className:"m-b",onClick:function(){t.manager.showRendererPanel("表单项","请从左侧组件面板中点击添加表单项")},level:"danger",tooltip:"插入一个新的元素",size:"sm",block:!0},"新增元素")},(0,s.getSchemaTpl)("remark"),(0,s.getSchemaTpl)("labelRemark")]},{title:"外观",body:[(0,s.getSchemaTpl)("formItemMode"),(0,s.getSchemaTpl)("horizontalMode"),(0,s.getSchemaTpl)("horizontal",{visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal',pipeIn:function(e,t){return{leftRate:(e=e||t.formHorizontal&&(0,d.makeHorizontalDeeper)(t.formHorizontal,t.body.length))&&"number"==typeof e.left?e.left:e&&/\bcol\-(?:xs|sm|md|lg)\-(\d+)\b/.test(e.left)?parseInt(RegExp.$1,10):2,leftFixed:e&&e.leftFixed||""}}}),(0,s.getSchemaTpl)("subFormItemMode"),(0,s.getSchemaTpl)("subFormHorizontalMode"),(0,s.getSchemaTpl)("subFormHorizontal"),{name:"body",type:"combo",label:"列宽度配置",multiple:!0,removable:!1,addable:!1,multiLine:!0,visibleOn:'data.$$formMode != "inline"',items:[{type:"button-group-select",name:"columnRatio",label:"宽度设置",tiled:!0,pipeIn:function(e,t){return"number"==typeof e||t.columnClassName&&/\bcol\-(?:xs|sm|md|lg)\-(\d+)\b/.test(t.columnClassName)?"custom":e||""},pipeOut:function(e){return"custom"===e?2:e},options:[{value:"",label:"适配宽度"},{value:"auto",label:"适配内容"},{value:"custom",label:"自定义"}]},{label:"宽度占比",type:"input-range",name:"columnRatio",visibleOn:'typeof this.columnRatio === "number" || this.columnClassName && /\\bcol\\-(?:xs|sm|md|lg)\\-(\\d+)\\b/.test(this.columnClassName)',pipeIn:function(e,t){return"number"==typeof e?e:t.columnClassName&&/\bcol\-(?:xs|sm|md|lg)\-(\d+)\b/.test(t.columnClassName)&&parseInt(RegExp.$1,10)||2},min:1,max:12,step:1}]},{type:"button-group-select",name:"gap",label:"间隔大小",pipeIn:(0,s.defaultValue)(""),size:"sm",tiled:!0,clearable:!0,options:[{value:"xs",label:"极小"},{value:"sm",label:"小"},{value:"md",label:"中"},{value:"lg",label:"大"}]},(0,s.getSchemaTpl)("className"),{name:"body",type:"combo",label:"列 CSS 类名配置",multiple:!0,removable:!1,addable:!1,items:[{type:"input-text",name:"columnClassName"}]}]},{title:"显隐",body:[(0,s.getSchemaTpl)("ref"),(0,s.getSchemaTpl)("visible")]}])],t}return n.__extends(t,e),t.prototype.buildEditorContextMenu=function(e,t){var a=this,n=e.id,l=e.schema,i=(e.region,e.selections),o=e.info;i.length||o.plugin!==this||!Array.isArray(l.body)||l.body.length<2||t.push({label:"变成多行",onSelect:function(){var e=a.manager.store,t=e.schema;t=(0,d.JSONUpdate)(t,n,(0,d.JSONPipeIn)(l.body),!0),e.traceableSetSchema(t)}})},t}(r.BasePlugin);t.GroupControlPlugin=c,(0,o.registerEditorPlugin)(c)},3274:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenControlPlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(9756),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="hidden",t.$schema="/schemas/HiddenControlSchema.json",t.name="隐藏域",t.isBaseComponent=!0,t.icon="fa fa-eye-slash",t.description="隐藏表单项",t.docLink="/amis/zh-CN/components/form/hidden",t.tags=["表单项"],t.scaffold={type:"hidden",name:"var1"},t.previewSchema={type:"tpl",tpl:"隐藏域"},t.panelTitle="隐藏域",t.panelBody=[{type:"input-text",name:"value",label:"默认值"}],t}return n.__extends(t,e),t.prototype.renderRenderer=function(e){return l.default.createElement("div",{key:e.key,className:"wrapper-sm b-a b-light m-b-sm"},l.default.createElement("span",{className:"text-muted"},"功能组件（隐藏字段）"))},t}(a(9933).BasePlugin);t.HiddenControlPlugin=o,(0,i.registerEditorPlugin)(o)},7589:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayControlPlugin=void 0;var n=a(752),l=a(1502),i=a(9756),o=a(9933),r=a(9547),s=n.__importDefault(a(6689)),d=a(3570),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-array",t.$schema="/schemas/ArrayControlSchema.json",t.disabledRendererPlugin=!0,t.name="数组输入框",t.isBaseComponent=!0,t.icon="fa fa-bars",t.description="Array 数组输入框，可自定义成员输入形式。其实是 Combo 的 flat 值打平的一种用法，可直接用 combo 代替。",t.docLink="/amis/zh-CN/components/form/input-array",t.tags=["表单项"],t.scaffold={type:"input-array",label:"数组输入框",name:"array",items:{type:"input-text",placeholder:"请输入"}},t.previewSchema={type:"form",className:"text-left",wrapWithPanel:!1,mode:"horizontal",body:[n.__assign(n.__assign({},t.scaffold),{value:["row1",""],draggable:!0})]},t.panelTitle="数组框",t.panelBodyCreator=function(e){return[(0,r.getSchemaTpl)("switchDefaultValue"),{type:"textarea",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"',pipeOut:r.valuePipeOut},{children:s.default.createElement(l.Button,{size:"sm",level:"danger",className:"m-b",block:!0,onClick:t.editDetail.bind(t,e.id)},"配置子表单项")},(0,r.getSchemaTpl)("switch",{label:"是否可新增",name:"addable",pipeIn:(0,r.defaultValue)(!0)}),{label:"新增按钮文字",name:"addButtonText",type:"input-text",visibleOn:"data.addable",pipeIn:(0,r.defaultValue)("新增")},{type:"textarea",name:"scaffold",label:"新增初始值",visibleOn:"this.addable !== false",pipeOut:r.valuePipeOut,pipeIn:(0,r.defaultValue)("")},(0,r.getSchemaTpl)("switch",{label:"是否可删除",name:"removable",pipeIn:(0,r.defaultValue)(!0)}),(0,r.getSchemaTpl)("api",{name:"deleteApi",label:"删除前的请求",visibleOn:"data.removable"}),{label:"删除确认提示",name:"deleteConfirmText",type:"input-text",visibleOn:"data.deleteApi",pipeIn:(0,r.defaultValue)("确认要删除")},(0,r.getSchemaTpl)("switch",{name:"draggable",label:"启用拖拽排序"}),{name:"draggableTip",visibleOn:"data.draggable",type:"input-text",label:"可拖拽排序提示文字",pipeIn:(0,r.defaultValue)("可通过拖动每行中的【交换】按钮进行顺序调整")},{name:"addButtonText",type:"input-text",label:"新增按钮文字",pipeIn:(0,r.defaultValue)("新增")},(0,r.getSchemaTpl)("minLength"),(0,r.getSchemaTpl)("maxLength")]},t}return n.__extends(t,e),t.prototype.filterProps=function(e){return(e=(0,d.JSONPipeOut)(e)).value||(e.value=[""]),e},t.prototype.buildEditorToolbar=function(e,t){var a=e.id;"input-array"===e.info.renderer.name&&t.push({icon:"fa fa-expand",order:100,tooltip:"配置子表单项",onClick:this.editDetail.bind(this,a)})},t.prototype.buildEditorContextMenu=function(e,t){var a=e.id;e.schema,e.region,"input-array"===e.info.renderer.name&&t.push("|",{label:"配置成员渲染器",onSelect:this.editDetail.bind(this,a)})},t.prototype.editDetail=function(e){var t=this.manager,a=t.store,l=a.getNodeById(e),i=a.getValueOf(e);l&&i&&this.manager.openSubEditor({title:"配置子表单项",value:i.items,slot:{type:"form",mode:"normal",body:"$$",wrapWithPanel:!1,className:"wrapper"},onChange:function(e){e=n.__assign(n.__assign({},i),{items:e}),t.panelChangeValue(e,(0,d.diff)(i,e))}})},t}(o.BasePlugin);t.ArrayControlPlugin=c,(0,i.registerEditorPlugin)(c)},7706:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CityControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-city",t.$schema="/schemas/CityControlSchema.json",t.name="城市选择",t.isBaseComponent=!0,t.icon="fa fa-building-o",t.description="可配置是否选择区域或者城市",t.docLink="/amis/zh-CN/components/form/input-city",t.tags=["表单项"],t.scaffold={type:"input-city",label:"城市选择",name:"city"},t.previewSchema={type:"form",className:"text-left",wrapWithPanel:!1,mode:"horizontal",body:[n.__assign({},t.scaffold)]},t.panelTitle="城市选择",t.panelBody=[{type:"switch",name:"allowDistrict",label:"允许选择区域",mode:"inline",className:"w-full",pipeIn:(0,l.defaultValue)(!0)},{type:"switch",name:"allowCity",label:"允许选择城市",mode:"inline",className:"w-full",pipeIn:(0,l.defaultValue)(!0)},(0,l.getSchemaTpl)("switchDefaultValue"),{name:"value",type:"input-city",label:"默认值",visibleOn:'typeof data.value !== "undefined"',validations:"isNumeric",labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:"城市编码",placement:"left"}},{type:"switch",name:"searchable",label:"是否出搜索框",mode:"inline",className:"w-full",pipeIn:(0,l.defaultValue)(!1)},(0,l.getSchemaTpl)("extractValue")],t}return n.__extends(t,e),t}(a(9933).BasePlugin);t.CityControlPlugin=o,(0,i.registerEditorPlugin)(o)},6956:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-color",t.$schema="/schemas/ColorControlSchema.json",t.name="颜色框",t.isBaseComponent=!0,t.icon="fa fa-eyedropper",t.description="支持<code>hex、hls、rgb、rgba</code>格式，默认为<code>hex</code>格式",t.docLink="/amis/zh-CN/components/form/input-color",t.tags=["表单项"],t.scaffold={type:"input-color",label:"颜色",name:"color"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="颜色框",t.panelBody=[{label:"格式",name:"format",type:"button-group-select",size:"sm",value:"hex",options:["hex","hsl","rgb","rgba"],onChange:function(e,t,a,n){n.setValueByName("value",""),n.setValueByName("presetColors","")}},(0,l.getSchemaTpl)("switchDefaultValue"),t.getConditionalColorPanel("hex"),t.getConditionalColorPanel("hsl"),t.getConditionalColorPanel("rgb"),t.getConditionalColorPanel("rgba"),(0,l.getSchemaTpl)("switchDefaultValue",{name:"presetColors",label:"设置选择器中颜色默认值",description:"为空时不显示选择器中的默认值"}),t.getConditionalColorArray("hex"),t.getConditionalColorArray("hsl"),t.getConditionalColorArray("rgb"),t.getConditionalColorArray("rgba"),(0,l.getSchemaTpl)("clearable",{label:"显示清除按钮",pipeIn:(0,l.defaultValue)(!0)})],t}return n.__extends(t,e),t.prototype.getConditionalColorPanel=function(e){return{type:"input-color",name:"value",format:e,visibleOn:'typeof this.value !== "undefined" && this.format==="'.concat(e,'"'),label:"默认值"}},t.prototype.getConditionalColorArray=function(e){return{type:"input-array",name:"presetColors",label:"选择器中颜色默认值",addable:!0,removable:!0,visibleOn:'typeof this.presetColors !== "undefined" && this.format === "'.concat(e,'"'),items:{type:"input-color",format:e},value:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]}},t}(a(9933).BasePlugin);t.ColorControlPlugin=o,(0,i.registerEditorPlugin)(o)},4189:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DateControlPlugin=void 0;var n=a(752),l=a(9756),i=a(9547),o=a(9933),r=a(2759),s=a(6294),d=a(3570),c=[{label:"X(时间戳)",value:"X"},{label:"x(毫秒时间戳)",value:"x"}],p={date:{format:"YYYY-MM-DD",placeholder:"请选择日期",formatOptions:n.__spreadArray(n.__spreadArray([],c,!0),[{label:"YYYY-MM-DD",value:"YYYY-MM-DD"},{label:"YYYY/MM/DD",value:"YYYY/MM/DD"},{label:"YYYY年MM月DD日",value:"YYYY年MM月DD日"}],!1)},datetime:{format:"YYYY-MM-DD HH:mm:ss",placeholder:"请选择日期以及时间",formatOptions:n.__spreadArray(n.__spreadArray([],c,!0),[{label:"YYYY-MM-DD HH:mm:ss",value:"YYYY-MM-DD HH:mm:ss"},{label:"YYYY/MM/DD HH:mm:ss",value:"YYYY/MM/DD HH:mm:ss"},{label:"YYYY年MM月DD日 HH时mm分ss秒",value:"YYYY年MM月DD日 HH时mm分ss秒"}],!1)},time:{format:"HH:mm",placeholder:"请选择时间",formatOptions:[{label:"HH:mm",value:"HH:mm",timeFormat:"HH:mm"},{label:"HH:mm:ss",value:"HH:mm:ss",timeFormat:"HH:mm"},{label:"HH时mm分",value:"HH时mm分",timeFormat:"HH:mm"},{label:"HH时mm分ss秒",value:"HH时mm分ss秒",timeFormat:"HH:mm:ss"}]},month:{format:"YYYY-MM",placeholder:"请选择月份",formatOptions:n.__spreadArray(n.__spreadArray([],c,!0),[{label:"YYYY-MM",value:"YYYY-MM"},{label:"MM",value:"MM"},{label:"M",value:"M"}],!1)},quarter:{format:"YYYY [Q]Q",placeholder:"请选择季度",formatOptions:n.__spreadArray(n.__spreadArray([],c,!0),[{label:"YYYY-[Q]Q",value:"YYYY-[Q]Q"},{label:"Q",value:"Q"}],!1)},year:{format:"YYYY",placeholder:"请选择年",formatOptions:n.__spreadArray(n.__spreadArray([],c,!0),[{label:"YYYY",value:"YYYY"}],!1)}},u="支持 <code>now、+1day、-2weeks、+1hours、+2years</code>这种相对值用法，同时支持变量如<code>\\${start_date}</code>",m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-date",t.$schema="/schemas/DateControlSchema.json",t.order=-450,t.icon="fa fa-calendar",t.name="日期",t.isBaseComponent=!0,t.searchKeywords="日期框、input-datetime、日期时间框、input-time、时间框、input-month、月份框、input-quarter、季度框、input-year、年框",t.description="年月日选择，支持相对值设定，如<code>+2days</code>两天后",t.docLink="/amis/zh-CN/components/form/input-date",t.tags=["表单项"],t.scaffold={type:"input-date",label:"日期",name:"date"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.notRenderFormZone=!0,t.panelTitle="日期配置",t.events=[{eventName:"change",eventLabel:"值变化",description:"时间值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"时间值"}}}]},{eventName:"focus",eventLabel:"获取焦点",description:"输入框获取焦点(非内嵌模式)时触发"},{eventName:"blur",eventLabel:"失去焦点",description:"输入框失去焦点(非内嵌模式)时触发"}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清空输入框内容"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelJustify=!0,t.panelBodyCreator=function(e){var a=e.info.renderer;return(0,i.getSchemaTpl)("tabs",[{title:"属性",body:(0,i.getSchemaTpl)("collapseGroup",[{title:"基本",body:[(0,i.getSchemaTpl)("formItemName",{required:!0}),(0,i.getSchemaTpl)("label"),(0,i.getSchemaTpl)("selectDateType",{value:t.scaffold.type,onChange:function(e,t,a,n){var l,i,o=e.split("-")[1];n.setValues({inputFormat:null===(l=p[o])||void 0===l?void 0:l.format,placeholder:null===(i=p[o])||void 0===i?void 0:i.placeholder,format:"time"===o?"HH:mm":"X",minDate:"",maxDate:"",value:""})}}),{type:"input-text",name:"format",label:(0,r.tipedLabel)("值格式",'提交数据前将根据设定格式化数据，请参考 <a href="https://momentjs.com/" target="_blank">moment</a> 中的格式用法。'),pipeIn:(0,i.defaultValue)("X")},{type:"input-text",name:"inputFormat",label:(0,r.tipedLabel)("显示格式",'请参考 <a href="https://momentjs.com/" target="_blank">moment</a> 中的格式用法。'),pipeIn:(0,i.defaultValue)("YYYY-MM-DD"),clearable:!0,onChange:function(e,t,a,n){var l=n.data.type.split("-")[1];if(a.setOptions(p[l].formatOptions),"time"===l){var i=p[l].formatOptions.find((function(t){return t.value===e})),o=i?i.timeFormat:"HH:mm:ss";n.setValues({timeFormat:o})}},options:p[t.scaffold.type.split("-")[1]].formatOptions},(0,i.getSchemaTpl)("utc"),(0,i.getSchemaTpl)("clearable",{pipeIn:(0,i.defaultValue)(!0)}),(0,i.getSchemaTpl)("formulaControl",{name:"value",label:(0,r.tipedLabel)("默认值","支持 <code>now、+1day、-2weeks、+1hours、+2years</code>等这种相对值用法"),placeholder:"请输入相对值",inputClassName:"is-inline"}),(0,i.getSchemaTpl)("formulaControl",{name:"minDate",label:(0,r.tipedLabel)("最小值",u),placeholder:"请输入最小值",inputClassName:"is-inline"}),(0,i.getSchemaTpl)("formulaControl",{name:"maxDate",label:(0,r.tipedLabel)("最大值",u),placeholder:"请输入最大值",inputClassName:"is-inline"}),(0,i.getSchemaTpl)("placeholder",{pipeIn:(0,i.defaultValue)("请选择日期")}),(0,i.getSchemaTpl)("description")]},(0,i.getSchemaTpl)("status",{isFormItem:!0}),(0,i.getSchemaTpl)("validation",{tag:s.ValidatorTag.Date})])},{title:"外观",body:(0,i.getSchemaTpl)("collapseGroup",[(0,i.getSchemaTpl)("style:formItem",a),(0,i.getSchemaTpl)("style:classNames",[(0,i.getSchemaTpl)("className",{label:"描述",name:"descriptionClassName",visibleOn:"this.description"}),(0,i.getSchemaTpl)("className",{name:"addOn.className",label:"AddOn",visibleOn:'this.addOn && this.addOn.type === "text"'})]),(0,i.getSchemaTpl)("style:others",[{name:"embed",type:"button-group-select",size:"md",label:"模式",mode:"row",value:!1,options:[{label:"浮层",value:!1},{label:"内嵌",value:!0}]}])])},{title:"事件",className:"p-none",body:[(0,i.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,d.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(o.BasePlugin);t.DateControlPlugin=m,(0,l.registerEditorPlugin)(m)},3751:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DateRangeControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=a(9933),r=a(2759),s=a(6294),d=a(3570),c={date:{format:"YYYY-MM-DD",placeholder:"请选择日期范围",ranges:["yesterday","7daysago","prevweek","thismonth","prevmonth","prevquarter"]},datetime:{format:"YYYY-MM-DD HH:mm:ss",placeholder:"请选择日期时间范围",ranges:["yesterday","7daysago","prevweek","thismonth","prevmonth","prevquarter"]},time:{format:"HH:mm",placeholder:"请选择时间范围",ranges:[]},month:{format:"YYYY-MM",placeholder:"请选择月份范围",ranges:[]},quarter:{format:"YYYY [Q]Q",placeholder:"请选择季度范围",ranges:["thisquarter","prevquarter"]},year:{format:"YYYY",placeholder:"请选择年范围",ranges:["thisyear","lastYear"]}},p="支持 <code>now、+1day、-2weeks、+1hours、+2years</code>这种相对值用法，同时支持变量如<code>\\${start_date}</code>",u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-date-range",t.$schema="/schemas/DateRangeControlSchema.json",t.order=-440,t.icon="fa fa-calendar",t.name="日期范围",t.isBaseComponent=!0,t.searchKeywords="日期范围框、input-datetime-range、日期时间范围、input-time-range、时间范围、input-month-range、月份范围、input-quarter-range、季度范围、input-year-range、年范围",t.description="日期范围选择，可通过<code>minDate</code>、<code>maxDate</code>设定最小、最大日期",t.docLink="/amis/zh-CN/components/form/input-date-range",t.tags=["表单项"],t.scaffold={type:"input-date-range",label:"日期范围",name:"date-range"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.notRenderFormZone=!0,t.panelTitle="日期范围",t.events=[{eventName:"change",eventLabel:"值变化",description:"时间值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"时间值"}}}]},{eventName:"focus",eventLabel:"获取焦点",description:"输入框获取焦点(非内嵌模式)时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"时间值"}}}]},{eventName:"blur",eventLabel:"失去焦点",description:"输入框失去焦点(非内嵌模式)时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"时间值"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清空输入框内容"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelJustify=!0,t.panelBodyCreator=function(e){var a=e.info.renderer;return(0,l.getSchemaTpl)("tabs",[{title:"属性",body:(0,l.getSchemaTpl)("collapseGroup",[{title:"基本",body:[(0,l.getSchemaTpl)("formItemName",{required:!0}),(0,l.getSchemaTpl)("label"),(0,l.getSchemaTpl)("selectDateRangeType",{value:t.scaffold.type,onChange:function(e,t,a,n){var l,i,o,r=e.split("-")[1];n.setValues({inputFormat:null===(l=c[r])||void 0===l?void 0:l.format,placeholder:null===(i=c[r])||void 0===i?void 0:i.placeholder,format:"time"===r?"HH:mm":"X",minDate:"",maxDate:"",value:"",ranges:null===(o=c[r])||void 0===o?void 0:o.ranges})}}),{type:"input-text",name:"format",label:(0,r.tipedLabel)("值格式",'提交数据前将根据设定格式化数据，请参考 <a href="https://momentjs.com/" target="_blank">moment</a> 中的格式用法。'),pipeIn:(0,l.defaultValue)("X")},{type:"input-text",name:"inputFormat",label:(0,r.tipedLabel)("显示格式",'请参考 <a href="https://momentjs.com/" target="_blank">moment</a> 中的格式用法。'),pipeIn:(0,l.defaultValue)("YYYY-MM-DD"),clearable:!0},(0,l.getSchemaTpl)("utc"),(0,l.getSchemaTpl)("clearable",{pipeIn:(0,l.defaultValue)(!0)}),(0,l.getSchemaTpl)("formulaControl",{name:"value",label:(0,r.tipedLabel)("默认值","支持 <code>now、+1day、-2weeks、+1hours、+2years</code>等这种相对值用法"),placeholder:"请输入相对值",inputClassName:"is-inline"}),(0,l.getSchemaTpl)("formulaControl",{name:"minDate",label:(0,r.tipedLabel)("最小值",p),placeholder:"请输入相对值",inputClassName:"is-inline"}),(0,l.getSchemaTpl)("formulaControl",{name:"maxDate",label:(0,r.tipedLabel)("最大值",p),placeholder:"请输入相对值",inputClassName:"is-inline"}),(0,l.getSchemaTpl)("formulaControl",{name:"minDuration",label:(0,r.tipedLabel)("最小跨度","例如 2days"),placeholder:"请输入最小跨度",inputClassName:"is-inline"}),(0,l.getSchemaTpl)("formulaControl",{name:"maxDuration",label:(0,r.tipedLabel)("最大跨度","例如 1year"),placeholder:"请输入最大跨度",inputClassName:"is-inline"}),(0,l.getSchemaTpl)("dateShortCutControl",{mode:"normal",dropDownOption:{yesterday:"昨天",thisweek:"本周",prevweek:"这个周","7daysago":"最近7天",thismonth:"这个月",prevmonth:"上个月",thisquarter:"这个季度",prevquarter:"上个季度",thisyear:"今年"}}),{type:"input-text",name:"startPlaceholder",label:"前占位提示",pipeIn:(0,l.defaultValue)("开始时间")},{type:"input-text",name:"endPlaceholder",label:"后占位提示",pipeIn:(0,l.defaultValue)("结束时间")}]},(0,l.getSchemaTpl)("status",{isFormItem:!0}),(0,l.getSchemaTpl)("validation",{tag:s.ValidatorTag.Date})])},{title:"外观",body:(0,l.getSchemaTpl)("collapseGroup",[(0,l.getSchemaTpl)("style:formItem",a),(0,l.getSchemaTpl)("style:classNames",[(0,l.getSchemaTpl)("className",{label:"描述",name:"descriptionClassName",visibleOn:"this.description"}),(0,l.getSchemaTpl)("className",{name:"addOn.className",label:"AddOn",visibleOn:'this.addOn && this.addOn.type === "text"'})]),(0,l.getSchemaTpl)("style:others",[{name:"embed",type:"button-group-select",size:"md",label:"模式",mode:"row",value:!1,options:[{label:"浮层",value:!1},{label:"内嵌",value:!0}]}])])},{title:"事件",className:"p-none",body:[(0,l.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,d.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(o.BasePlugin);t.DateRangeControlPlugin=u,(0,i.registerEditorPlugin)(u)},8107:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeControlPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-datetime",t.$schema="/schemas/DateTimeControlSchema.json",t.isBaseComponent=!0,t.icon="fa fa-calendar",t.name="日期时间",t.description="年月日时分选择",t.docLink="/amis/zh-CN/components/form/input-datetime",t.tags=["表单项"],t.scaffold={type:"input-datetime",label:"日期时间",name:"datetime"},t.disabledRendererPlugin=!0,t.previewSchema={type:"form",className:"text-left",wrapWithPanel:!1,mode:"horizontal",body:[n.__assign({},t.scaffold)]},t.panelTitle="日期时间",t}return n.__extends(t,e),t}(a(4189).DateControlPlugin);t.DateTimeControlPlugin=i,(0,l.registerEditorPlugin)(i)},6083:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeRangeControlPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-datetime-range",t.$schema="/schemas/DateTimeRangeControlSchema.json",t.order=-440,t.icon="fa fa-calendar",t.name="日期时间范围",t.isBaseComponent=!0,t.description="日期时间范围选择，可通过<code>minDate</code>、<code>maxDate</code>设定最小、最大日期",t.docLink="/amis/zh-CN/components/form/input-datetime-range",t.tags=["表单项"],t.scaffold={type:"input-datetime-range",label:"日期范围",name:"datetime-range"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.disabledRendererPlugin=!0,t.notRenderFormZone=!0,t}return n.__extends(t,e),t}(a(3751).DateRangeControlPlugin);t.DateTimeRangeControlPlugin=i,(0,l.registerEditorPlugin)(i)},5225:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EmailControlPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-email",t.$schema="/schemas/TextControlSchema.json",t.name="邮箱框",t.isBaseComponent=!0,t.icon="fa fa-envelope-o",t.description="验证输入是否符合邮箱的格式",t.scaffold={type:"input-email",label:"邮箱",name:"email"},t.disabledRendererPlugin=!0,t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:n.__assign({},t.scaffold)},t.panelTitle=t.name,t}return n.__extends(t,e),t}(a(9890).TextControlPlugin);t.EmailControlPlugin=i,(0,l.registerEditorPlugin)(i)},377:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExcelControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=a(9933),r=a(2759),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-excel",t.$schema="/schemas/ExcelControlSchema.json",t.name="上传 Excel",t.isBaseComponent=!0,t.icon="fa fa-eyedropper",t.description="自动解析 Excel",t.docLink="/amis/zh-CN/components/form/input-excel",t.tags=["表单项"],t.scaffold={type:"input-excel",label:"Excel",name:"excel"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="上传 Excel",t.notRenderFormZone=!0,t.events=[{eventName:"change",eventLabel:"值变化",description:"excel 上传解析完成后触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"excel 解析后的数据"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清除选中值"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelBodyCreator=function(e){return(0,r.formItemControl)({common:{body:[{label:"解析模式",name:"parseMode",type:"select",options:[{label:"对象",value:"object"},{label:"数组",value:"array"}]},(0,l.getSchemaTpl)("switch",{name:"allSheets",label:"是否解析所有 Sheet"}),(0,l.getSchemaTpl)("switch",{name:"plainText",label:"是否解析为纯文本",pipeIn:(0,l.defaultValue)(!0)}),(0,l.getSchemaTpl)("switch",{name:"includeEmpty",label:"是否包含空内容",visibleOn:'data.parseMode === "array"'})]}},e)},t}return n.__extends(t,e),t}(o.BasePlugin);t.ExcelControlPlugin=s,(0,i.registerEditorPlugin)(s)},6253:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=a(9933),r=a(2759),s=a(6294),d=a(3570),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-file",t.$schema="/schemas/FileControlSchema.json",t.name="文件上传",t.isBaseComponent=!0,t.icon="fa fa-upload",t.description="可上传多个文件，可配置是否自动上传以及大文件分片上传",t.docLink="/amis/zh-CN/components/form/input-file",t.tags=["表单项"],t.scaffold={type:"input-file",label:"文件上传",name:"file"},t.previewSchema={type:"form",className:"text-left",wrapWithPanel:!1,mode:"horizontal",body:[n.__assign({},t.scaffold)]},t.notRenderFormZone=!0,t.events=[{eventName:"change",eventLabel:"值变化",description:"上传文件值变化时触发（上传失败同样会触发）",dataSchema:[{type:"object",properties:{"event.data.value":{type:"object",title:"上传的文件"}}}]},{eventName:"remove",eventLabel:"移除文件",description:"移除文件时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"object",title:"被移除的文件"}}}]},{eventName:"success",eventLabel:"上传成功",description:"上传文件成功时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"object",title:"远程上传请求成功后返回的结果数据"}}}]},{eventName:"fail",eventLabel:"上传失败",description:"上传文件失败时触发",dataSchema:[{type:"object",properties:{"event.data.file":{type:"object",title:"上传的文件"},"event.data.error":{type:"object",title:"远程上传请求失败后返回的错误信息"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空数据",description:"清除选择的文件"}],t.panelJustify=!0,t.panelBodyCreator=function(e){return(0,l.getSchemaTpl)("tabs",[{title:"属性",body:(0,l.getSchemaTpl)("collapseGroup",[{title:"基本",body:[(0,l.getSchemaTpl)("formItemName",{required:!0}),(0,l.getSchemaTpl)("label"),{type:"input-text",name:"btnLabel",label:"按钮名称",value:"文件上传"},(0,l.getSchemaTpl)("multiple",{replace:!0,body:[{name:"maxLength",label:"最大数量",type:"input-number"}]}),{type:"input-group",name:"maxSize",label:"最大体积",body:[{type:"input-number",name:"maxSize"},{type:"tpl",addOnclassName:"border-0 bg-none",tpl:"B"}]},{label:"提交方式",name:"submitType",type:"select",tiled:!0,value:"asUpload",options:[{label:"随表单提交",value:"asForm"},{label:"独立上传",value:"asUpload"}],pipeIn:function(e,t){return e||"asUpload"},pipeOut:function(e,t){return e||"asUpload"},onChange:function(e,t,a,n){if("asUpload"===e)n.setValueByName("asBase64",!1),n.setValueByName("asBlob",!1);else if("asForm"===e){n.setValueByName("autoUpload",!0);var l=n.getValueByName("formType")||"asBlob";n.setValueByName(l,!0)}}},(0,l.getSchemaTpl)("uploadType",{visibleOn:'data.submitType === "asUpload" || !data.submitType',pipeIn:function(e,t){return e||"fileReceptor"},pipeOut:function(e,t){return e||"fileReceptor"}}),{name:"formType",type:"select",tiled:!0,visibleOn:'data.submitType === "asForm"',value:"asBlob",label:(0,r.tipedLabel)("数据格式",'${formType ? asBase64 ? "小文件时可以使用，默认给 Form 提交的是文件下载地址，设置后给 Form 提交文件内容的 base64 格式字符串。" : "File 控件不接管文件上传，直接由表单的保存接口完成。和 Base64 选项二选一。" : ""}'),options:[{label:"Base64",value:"asBase64"},{label:"二进制",value:"asBlob"}],onChange:function(e,t,a,n){n.setValueByName("asBase64","asBase64"===e),n.setValueByName("asBlob","asBlob"===e)}},(0,l.getSchemaTpl)("bos",{visibleOn:'(data.submitType === "asUpload" || !data.submitType) && data.uploadType === "bos"'}),(0,l.getSchemaTpl)("proxy",{value:!1,visibleOn:'data.submitType === "asUpload" || !data.submitType'}),(0,l.getSchemaTpl)("switch",{name:"autoUpload",label:"自动上传",value:!0,visibleOn:'data.submitType === "asUpload"'}),(0,l.getSchemaTpl)("switch",{name:"useChunk",label:"开启分块",value:!1,pipeIn:function(e,t){return!!e},visibleOn:'data.submitType == "asUpload"'}),{type:"container",className:"ae-ExtendMore mb-3",visibleOn:'data.submitType === "asUpload" && data.useChunk != false',body:[{type:"input-group",name:"chunkSize",label:"分块大小",body:[{type:"input-number",name:"chunkSize"},{type:"tpl",addOnclassName:"border-0 bg-none",tpl:"B"}]},{type:"Container",visibleOn:'data.submitType === "asUpload" && data.uploadType == "fileReceptor" && data.useChunk != false',body:[(0,l.getSchemaTpl)("apiControl",{name:"startChunkApi",label:(0,r.tipedLabel)("分块准备接口","用来做分块前的准备工作，一个文件只会调用一次。如果出错了，后续的分块上传就会中断。"),value:"/api/upload/startChunk"}),(0,l.getSchemaTpl)("apiControl",{name:"chunkApi",label:(0,r.tipedLabel)("分块上传接口","用来接收每个分块上传，大文件会根据 chunkSize 分割成多块，然后每块上传都会调用这个接口。"),value:"/api/upload/chunk"}),(0,l.getSchemaTpl)("apiControl",{name:"finishChunkApi",label:(0,r.tipedLabel)("上传完成接口","等所有分块上传完后，将上传文件收集到的 `eTag` 信息合并一起，再次请求后端完成文件上传。"),value:"/api/upload/finishChunk"})]}]},(0,l.getSchemaTpl)("apiControl",{name:"receiver",label:(0,r.tipedLabel)("文件接收器","默认不填写将上传到 bos，可以在系统配置中设置为自己的 bos 地址。"),value:"/api/upload/file",__isUpload:!0,visibleOn:'data.submitType === "asUpload" && data.uploadType === "fileReceptor" && !data.useChunk'}),(0,l.getSchemaTpl)("fileUrl",{name:"templateUrl",label:(0,r.tipedLabel)("模板链接","适用于excel上传等有上传格式要求的场景，为用户提供一个模板下载入口")}),(0,l.getSchemaTpl)("switch",{name:"drag",label:"拖拽上传",value:!1}),(0,l.getSchemaTpl)("remark"),(0,l.getSchemaTpl)("labelRemark"),(0,l.getSchemaTpl)("description")]},(0,l.getSchemaTpl)("status",{isFormItem:!0}),(0,l.getSchemaTpl)("validation",{tag:s.ValidatorTag.File})])},{title:"外观",body:(0,l.getSchemaTpl)("collapseGroup",[(0,l.getSchemaTpl)("style:formItem",{renderer:e.info.renderer}),(0,l.getSchemaTpl)("style:classNames",{schema:[(0,l.getSchemaTpl)("className",{name:"descriptionClassName",label:"描述"}),(0,l.getSchemaTpl)("className",{name:"btnClassName",label:"选择按钮"}),(0,l.getSchemaTpl)("className",{name:"btnUploadClassName",label:"上传按钮"})]})])},{title:"事件",className:"p-none",body:[(0,l.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,d.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(o.BasePlugin);t.FileControlPlugin=c,(0,i.registerEditorPlugin)(c)},2053:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InputGroupControlPlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(1502),o=a(9547),r=a(9756),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-group",t.$schema="/schemas/InputGroupControlSchema.json",t.name="输入组合",t.isBaseComponent=!0,t.icon="fa fa-object-group",t.description="输入组合，支持多种类型的控件组合",t.docLink="/amis/zh-CN/components/form/input-group",t.tags=["表单项"],t.scaffold={type:"input-group",name:"input-group",label:"input 组合",body:[{type:"input-text",inputClassName:"b-r-none p-r-none",name:"input-group"},{type:"submit",label:"提交",level:"primary"}]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="Input 组合",t.panelBody=[[{name:"body",type:"combo",multiple:!0,addable:!1,draggable:!0,draggableTip:"可排序、可移除、如要编辑请在预览区选中编辑",editable:!1,visibleOn:"this.body && this.body.length",items:[{type:"tpl",inline:!1,className:"p-t-xs",tpl:'<%= data.label %><% if (data.icon) { %><i class="<%= data.icon %>"/><% }%>'}]},{children:l.default.createElement(i.Button,{className:"m-b",onClick:function(){t.manager.showRendererPanel("表单项")},level:"danger",tooltip:"插入一个新的元素",size:"sm",block:!0},"新增元素")},(0,o.getSchemaTpl)("formItemName",{required:!0})]],t}return n.__extends(t,e),t}(a(9933).BasePlugin);t.InputGroupControlPlugin=s,(0,r.registerEditorPlugin)(s)},200:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ImageControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-image",t.$schema="/schemas/ImageControlSchema.json",t.name="图片上传",t.isBaseComponent=!0,t.description="可以对图片实现裁剪，限制图片的宽高以及大小，支持自动上传及上传多张图片",t.docLink="/amis/zh-CN/components/form/input-image",t.tags=["表单项"],t.icon="fa fa-crop",t.scaffold={type:"input-image",label:"图片上传",name:"image",imageClassName:"r w-full"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="图片上传",t.panelBody=[(0,l.getSchemaTpl)("switchDefaultValue"),{type:"input-text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},(0,l.getSchemaTpl)("multiple",{value:!1,visibleOn:"!data.crop",description:"开启后，不能同时开启裁剪功能"}),(0,l.getSchemaTpl)("joinValues"),(0,l.getSchemaTpl)("delimiter"),(0,l.getSchemaTpl)("extractValue"),{name:"maxSize",type:"input-number",label:"图片最大体积",description:"超出大小不允许上传，单位字节"},{name:"maxLength",type:"input-number",label:"图片最大数量",visibleOn:"data.multiple",description:"超出数量不允许上传"},(0,l.getSchemaTpl)("api",{label:"文件接收接口",name:"receiver",description:"文件接收接口，默认不填则上传到 hiphoto",value:"/api/upload",__isUpload:!0}),(0,l.getSchemaTpl)("autoFill"),{type:"input-text",value:".jpeg, .jpg, .png, .gif",name:"accept",label:"图片类型",description:"请填入图片的后缀或 <code>MimeType</code>，多个类型用<code>,</code>隔开"},{type:"input-text",name:"defaultImage",label:"占位图片地址"},{type:"switch",name:"fixedSize",value:!1,label:"是否开启固定尺寸",mode:"inline",className:"w-full"},{type:"switch",name:"hideUploadButton",value:!1,label:"隐藏上传按钮",mode:"inline",className:"w-full"},{type:"switch",name:"autoUpload",value:!1,label:"自动上传",mode:"inline",className:"w-full"},{name:"compress",type:"switch",label:"开启压缩",value:!0,mode:"inline",className:"w-full",description:"由 hiphoto 实现，自定义接口将无效"},{type:"combo",name:"compressOptions",multiLine:!0,label:"压缩配置",visibleOn:"data.compress",items:[{type:"input-number",label:"最大宽度",name:"maxWidth"},{type:"input-number",label:"最大高度",name:"maxHeight"}]},{name:"showCompressOptions",type:"switch",label:"是否显示压缩选项",mode:"inline",className:"w-full"},{name:"crop",type:"switch",label:"是否开启裁剪",mode:"inline",visibleOn:"!data.multiple",className:"w-full",description:"开启后，不能同时开启多选模式",pipeIn:function(e){return!!e}},{name:"crop.aspectRatio",type:"input-text",label:"裁剪比率",visibleOn:"data.crop",pipeOut:l.valuePipeOut},{name:"crop.rotatable",type:"switch",label:"裁剪时是否可旋转",visibleOn:"data.crop",pipeOut:l.valuePipeOut},{name:"crop.scalable",type:"switch",label:"裁剪时否可缩放",visibleOn:"data.crop",pipeOut:l.valuePipeOut},{name:"crop.viewMode",type:"select",label:"裁剪区域限制",value:1,options:[{label:"无限制",value:0},{label:"绘图区域",value:1}],visibleOn:"data.crop",pipeOut:l.valuePipeOut},{type:"fieldSet",title:"图片限制",collapsed:!0,collapsable:!0,className:"fieldset",body:[{type:"input-number",name:"limit.width",label:"限制宽度"},{type:"input-number",name:"limit.height",label:"限制高度"},{type:"input-number",name:"limit.maxWidth",label:"限制最大宽度"},{type:"input-number",name:"limit.maxHeight",label:"限制最大高度"},{type:"input-number",name:"limit.minWidth",label:"限制最小宽度"},{type:"input-number",name:"limit.minHeight",label:"限制最小高度"},{type:"input-number",name:"limit.aspectRatio",label:"限制宽高比率"},{type:"input-text",name:"limit.限制最小高度",label:"宽高比描述",description:"当宽高比没有满足条件时，此描述将作为提示信息显示"}]}],t}return n.__extends(t,e),t}(a(9933).BasePlugin);t.ImageControlPlugin=o,(0,i.registerEditorPlugin)(o)},4659:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KVControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-kv",t.$schema="/schemas/KVControlSchema.json",t.name="KV 键值对",t.isBaseComponent=!0,t.icon="fa fa-eyedropper",t.description="用于编辑键值对类型的数据",t.docLink="/amis/zh-CN/components/form/input-kv",t.tags=["表单项"],t.scaffold={type:"input-kv",label:"KV",name:"kv"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.events=[{eventName:"add",eventLabel:"添加",description:"添加组合项时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"object",title:"当前组合项的值"}}}]},{eventName:"delete",eventLabel:"删除",description:"删除组合项时触发",dataSchema:[{type:"object",properties:{"event.data.key":{type:"string",title:"删除项的索引"},"event.data.value":{type:"string",title:"当前组合项的值"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清除选中值"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelTitle="KV 键值对",t.panelBody=[{type:"input-text",name:"valueType",label:"值类型",pipeIn:(0,l.defaultValue)("input-text")},{type:"input-text",name:"keyPlaceholder",label:"key 的提示信息"},{type:"input-text",name:"valuePlaceholder",label:"value 的提示信息"},{type:"switch",name:"draggable",label:"是否可排序",pipeIn:(0,l.defaultValue)(!0)}],t}return n.__extends(t,e),t}(a(9933).BasePlugin);t.KVControlPlugin=o,(0,i.registerEditorPlugin)(o)},8803:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MonthControlPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-month",t.$schema="/schemas/MonthControlSchema.json",t.name="日期",t.isBaseComponent=!0,t.icon="fa fa-calendar",t.description="月份选择",t.docLink="/amis/zh-CN/components/form/input-month",t.tags=["表单项"],t.scaffold={type:"input-month",name:"month"},t.disabledRendererPlugin=!0,t.previewSchema={type:"form",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="Month",t}return n.__extends(t,e),t}(a(4189).DateControlPlugin);t.MonthControlPlugin=i,(0,l.registerEditorPlugin)(i)},3428:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MonthRangeControlPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-month-range",t.$schema="/schemas/MonthRangeControlSchema.json",t.order=-440,t.icon="fa fa-calendar",t.name="月份范围",t.isBaseComponent=!0,t.description="月份范围选择，可通过<code>minDate</code>、<code>maxDate</code>设定最小、最大日期",t.docLink="/amis/zh-CN/components/form/input-month-range",t.tags=["表单项"],t.scaffold={type:"input-month-range",label:"日期范围",name:"month-range"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.disabledRendererPlugin=!0,t.notRenderFormZone=!0,t}return n.__extends(t,e),t}(a(3751).DateRangeControlPlugin);t.MonthRangeControlPlugin=i,(0,l.registerEditorPlugin)(i)},1143:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NumberControlPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-number",t.$schema="/schemas/NumberControlSchema.json",t.order=-410,t.name="数字框",t.isBaseComponent=!0,t.icon="fa fa-sort-numeric-asc",t.description="支持设定最大值和最小值，以及步长与精度",t.docLink="/amis/zh-CN/components/form/input-number",t.tags=["表单项"],t.scaffold={type:"input-number",label:"数字",name:"number-text"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign(n.__assign({},t.scaffold),{value:88})]},t.panelTitle="数字框",t.panelBody=[(0,o.getSchemaTpl)("switchDefaultValue"),{type:"input-number",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},{type:"input-text",name:"min",label:"最小值",description:"请输入数字或使用 <code>\\${xxx}</code> 来获取变量，否则该配置不生效"},{type:"input-text",name:"max",label:"最大值",description:"请输入数字或使用 <code>\\${xxx}</code> 来获取变量，否则该配置不生效"},{type:"input-number",name:"step",label:"步长"},{type:"input-number",name:"precision",label:"小数点精度",min:0,max:100},{type:"input-array",name:"unitOptions",label:"单位选项",items:{type:"input-text"}}],t}return n.__extends(t,e),t}(i.BasePlugin);t.NumberControlPlugin=r,(0,l.registerEditorPlugin)(r)},812:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PasswordControlPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-password",t.$schema="/schemas/TextControlSchema.json",t.name="密码框",t.isBaseComponent=!0,t.icon="fa fa-asterisk",t.description="验证输入是否符合邮箱的格式",t.scaffold={type:"input-password",label:"密码",name:"password"},t.disabledRendererPlugin=!0,t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:n.__assign({},t.scaffold)},t.panelTitle=t.name,t}return n.__extends(t,e),t}(a(9890).TextControlPlugin);t.PasswordControlPlugin=i,(0,l.registerEditorPlugin)(i)},5922:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InputQuarterPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-quarter",t.$schema="/schemas/QuarterControlSchema.json",t.name="季度",t.isBaseComponent=!0,t.icon="fa fa-calendar",t.description="季度选择",t.docLink="/amis/zh-CN/components/form/input-quarter",t.tags=["表单项"],t.scaffold={type:"input-quarter",name:"month"},t.disabledRendererPlugin=!0,t.previewSchema={type:"form",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="Quarter",t}return n.__extends(t,e),t}(a(4189).DateControlPlugin);t.InputQuarterPlugin=i,(0,l.registerEditorPlugin)(i)},8859:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.QuarterRangePlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-quarter-range",t.$schema="/schemas/MonthRangeControlSchema.json",t.order=-440,t.icon="fa fa-calendar",t.name="季度范围",t.isBaseComponent=!0,t.description="月份范围选择，可通过<code>minDate</code>、<code>maxDate</code>设定最小、最大日期",t.docLink="/amis/zh-CN/components/form/input-quarter-range",t.tags=["表单项"],t.scaffold={type:"input-quarter-range",label:"日期范围",name:"quarter-range"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.disabledRendererPlugin=!0,t.notRenderFormZone=!0,t}return n.__extends(t,e),t}(a(3751).DateRangeControlPlugin);t.QuarterRangePlugin=i,(0,l.registerEditorPlugin)(i)},6772:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RangeControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-range",t.$schema="/schemas/RangeControlSchema.json",t.name="滑块",t.isBaseComponent=!0,t.icon="fa fa-sliders",t.description="选择某个值或者某个范围",t.docLink="/amis/zh-CN/components/form/input-range",t.tags=["表单项"],t.scaffold={type:"input-range",label:"滑块",name:"range"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.events=[{eventName:"change",eventLabel:"值变化",description:"滑块值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"当前值"}}}]},{eventName:"focus",eventLabel:"获取焦点",description:"当设置 showInput 为 true 时，输入框获取焦点时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"滑块当前值"}}}]},{eventName:"blur",eventLabel:"失去焦点",description:"当设置 showInput 为 true 时，输入框失去焦点时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"滑块当前值"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清除输入框"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelTitle="滑块",t.panelBody=[(0,l.getSchemaTpl)("switchDefaultValue"),{type:"input-number",name:"value",label:"默认值",validations:"isNumeric",visibleOn:'typeof data.value !== "undefined" && !data.multiple',pipeIn:function(e){return"number"==typeof e?e:0},pipeOut:function(e,t,a){return e<a.min&&a.min||e>a.max&&a.max||e}},{type:"combo",name:"value",visibleOn:'typeof data.value !== "undefined" && this.multiple',items:[{type:"input-number",validations:"isNumeric",name:"min",label:"小值"},{type:"input-number",validations:"isNumeric",name:"max",label:"大值"}]},{label:"最小值",name:"min",type:"input-number",value:0},{label:"最大值",name:"max",type:"input-number",value:100},{label:"步长",name:"step",type:"input-number",value:1},{type:"input-text",name:"unit",label:"单位",value:""},(0,l.getSchemaTpl)("switch",{name:"showInput",label:"是否显示输入框",value:!1}),(0,l.getSchemaTpl)("clearable"),(0,l.getSchemaTpl)("multiple",{pipeIn:(0,l.defaultValue)(!1)}),(0,l.getSchemaTpl)("joinValues"),(0,l.getSchemaTpl)("delimiter")],t}return n.__extends(t,e),t}(a(9933).BasePlugin);t.RangeControlPlugin=o,(0,i.registerEditorPlugin)(o)},5489:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RateControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=a(9933),r=a(2759),s=a(3570),d=a(6294),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-rating",t.$schema="/schemas/RatingControlSchema.json",t.name="评分",t.isBaseComponent=!0,t.icon="fa fa-star-o",t.description="支持只读、半星选择",t.docLink="/amis/zh-CN/components/form/input-rating",t.tags=["表单项"],t.scaffold={type:"input-rating",label:"评分",name:"rating"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign(n.__assign({},t.scaffold),{value:3})]},t.notRenderFormZone=!0,t.panelTitle="评分",t.count=5,t.events=[{eventName:"change",eventLabel:"值变化",description:"评分值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"评分值"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清空评分值"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelJustify=!0,t.panelBodyCreator=function(e){return(0,l.getSchemaTpl)("tabs",[{title:"属性",body:(0,l.getSchemaTpl)("collapseGroup",[{title:"基本",body:[(0,l.getSchemaTpl)("formItemName",{required:!0}),{label:"Label",name:"label",type:"input-text"},{label:"最大值",name:"count",type:"input-number",max:10,min:1,value:5,pipeIn:function(e){return t.count=e},pipeOut:function(e){return t.count=e}},{type:"input-number",name:"value",label:"默认值",max:10,min:0},(0,l.getSchemaTpl)("switch",{name:"allowClear",label:(0,r.tipedLabel)("可清除","是否允许再次点击后清除"),value:!1}),(0,l.getSchemaTpl)("switch",{name:"half",label:"允许半星",value:!1}),(0,l.getSchemaTpl)("labelRemark"),(0,l.getSchemaTpl)("remark"),(0,l.getSchemaTpl)("combo-container",{type:"combo",label:"描述",mode:"normal",name:"texts",items:[{placeholder:"Key",type:"input-number",unique:!0,name:"key",columnClassName:"w-xs flex-none",min:0,step:1,max:10,precision:0},{placeholder:"描述内容",type:"input-text",name:"value"}],draggable:!1,multiple:!0,pipeIn:function(e){return(0,s.isObject)(e)?Object.keys(e).map((function(t){return{key:t||0,value:e[t]||""}})):Array.isArray(e)?e:[]},pipeOut:function(e){if(e.length){var a={};return e.forEach((function(e){var n=void 0!==e.key?Number(e.key):function(e,t){for(var a=1;a<=t;a++)if(!e.includes(String(a)))return a}(Object.keys(a),t.count);n&&(a[n]=(null==e?void 0:e.value)||"")})),a}}})]},(0,l.getSchemaTpl)("status",{isFormItem:!0,readonly:!0}),(0,l.getSchemaTpl)("validation",{tag:d.ValidatorTag.Check})])},{title:"外观",body:[(0,l.getSchemaTpl)("collapseGroup",[(0,l.getSchemaTpl)("style:formItem",{renderer:e.info.renderer}),{title:"图标",body:[{type:"ae-switch-more",label:"自定义",bulk:!0,mode:"normal",value:!1,formType:"extend",form:{body:[{type:"input-text",label:"字符",name:"char"}]},pipeIn:function(e){if("string"==typeof e&&e.length)return{character:e}},pipeOut:function(e){if((0,s.isObject)(e))return"string"==typeof e.character?e.character:void 0}},{type:"input-color",label:(0,r.tipedLabel)("未选中色值","默认未选中色值为 #e7e7e8"),name:"inactiveColor",pipeIn:(0,l.defaultValue)("#e7e7e8"),pipeOut:l.undefinedPipeOut},(0,l.getSchemaTpl)("combo-container",{type:"combo",label:"选中色值",mode:"normal",name:"colors",items:[{placeholder:"Key",type:"input-number",unique:!0,name:"key",columnClassName:"w-xs flex-none",min:0,max:10,step:1,precision:0},{placeholder:"Value",type:"input-color",name:"value"}],value:{2:"#abadb1",3:"#787b81",5:"#ffa900"},draggable:!1,multiple:!0,pipeIn:function(e){return(0,s.isObject)(e)?Object.keys(e).map((function(t){return{key:t,value:e[t]||""}})):Array.isArray(e)?e:[]},pipeOut:function(e){if(e.length){var a={};return e.forEach((function(e){var n=void 0!==e.key?Number(e.key):function(e,t){for(var a=1;a<=t;a++)if(!e.includes(String(a)))return a}(Object.keys(a),t.count);n&&(a[n]=(null==e?void 0:e.value)||"")})),a}}})]},{title:"描述",body:[(0,l.getSchemaTpl)("horizontal-align",{name:"textPosition",pipeIn:(0,l.defaultValue)("right")})]},(0,l.getSchemaTpl)("style:classNames",{schema:[(0,l.getSchemaTpl)("className",{label:"图标",name:"charClassName"}),(0,l.getSchemaTpl)("className",{label:"评分描述",name:"textClassName"})]})])]},{title:"事件",className:"p-none",body:[(0,l.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,s.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(o.BasePlugin);t.RateControlPlugin=c,(0,i.registerEditorPlugin)(c)},8087:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RepeatControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-repeat",t.$schema="/schemas/RepeatControlSchema.json",t.name="重复周期选择",t.isBaseComponent=!0,t.icon="fa fa-repeat",t.description="选择重复的频率，如每时、每天、每周等",t.docLink="/amis/zh-CN/components/form/input-repeat",t.tags=["表单项"],t.scaffold={type:"input-repeat",label:"周期",name:"repeat"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="周期",t.panelBody=[(0,l.getSchemaTpl)("switchDefaultValue"),{type:"input-text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},{name:"options",type:"select",label:"启用单位",options:"secondly,minutely,hourly,daily,weekdays,weekly,monthly,yearly".split(","),value:"hourly,daily,weekly,monthly",multiple:!0}],t}return n.__extends(t,e),t}(a(9933).BasePlugin);t.RepeatControlPlugin=o,(0,i.registerEditorPlugin)(o)},8987:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-rich-text",t.$schema="/schemas/RichTextControlSchema.json",t.name="富文本编辑器",t.isBaseComponent=!0,t.icon="fa fa-newspaper-o",t.description="可自定义富文本的配置栏",t.docLink="/amis/zh-CN/components/form/input-rich-text",t.tags=["表单项"],t.scaffold={type:"input-rich-text",label:"富文本",name:"rich-text"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="富文本",t.panelBody=[(0,l.getSchemaTpl)("switchDefaultValue"),{type:"textarea",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},(0,l.getSchemaTpl)("api",{name:"receiver",label:"文件接收接口",value:"/api/upload/image",__isUpload:!0}),{type:"select",name:"vendor",label:"编辑器类型",value:"tinymce",options:["tinymce","froala"]},(0,l.getSchemaTpl)("fieldSet",{title:"froala 设置项",visibleOn:'data.vendor === "froala"',body:[{type:"combo",name:"options",noBorder:!0,multiLine:!0,items:[{type:"select",name:"language",label:"语言",labelRemark:"鼠标覆盖配置栏中配置时显示的提示语言",defaultValue:"zh_cn",options:[{label:"中文",value:"zh_cn"},{label:"英文",value:"en_us"}]},{type:"textarea",name:"toolbarButtons",label:"大屏时展示的配置项",labelRemark:"屏幕宽度 ≥ 1200px",description:'使用空格分开配置，使用<code>|</code>可将配置栏分组，<a target="_blank" href="https://www.froala.com/wysiwyg-editor/docs/options">参考文档</a>',minRows:5,value:["paragraphFormat","quote","color","|","bold","italic","underline","strikeThrough","|","formatOL","formatUL","align","|","insertLink","insertImage","insertEmotion","insertTable","|","undo","redo","html"],pipeIn:function(e){return Array.isArray(e)?e.join(" "):""},pipeOut:function(e){return e.replace(/\s+/g," ").split(" ")}},{type:"textarea",name:"toolbarButtonsMD",label:"中屏时展示的配置项",labelRemark:"屏幕宽度 ≥ 992px",description:'使用空格分开配置，使用<code>|</code>可将配置栏分组，<a target="_blank" href="https://www.froala.com/wysiwyg-editor/docs/options">参考文档</a>',minRows:5,pipeIn:function(e){return Array.isArray(e)?e.join(" "):""},pipeOut:function(e){return e.replace(/\s+/g," ").split(" ")}},{type:"textarea",name:"toolbarButtonsSM",label:"小屏时展示的配置项",labelRemark:"屏幕宽度 ≥ 768px",description:'使用空格分开配置，使用<code>|</code>可将配置栏分组，<a target="_blank" href="https://www.froala.com/wysiwyg-editor/docs/options">参考文档</a>',minRows:5,pipeIn:function(e){return Array.isArray(e)?e.join(" "):""},pipeOut:function(e){return e.replace(/\s+/g," ").split(" ")}}]}]}),(0,l.getSchemaTpl)("fieldSet",{title:"tinymce 设置项",visibleOn:'data.vendor === "tinymce"',body:[{type:"combo",name:"options",noBorder:!0,multiLine:!0,items:[(0,l.getSchemaTpl)("switch",{label:"是否显示菜单栏",value:"true",name:"menubar"}),{type:"input-number",label:"高度",min:0,value:400,name:"height"},{type:"textarea",name:"plugins",label:"启用的插件",description:'使用空格分开配置，<a target="_blank" href="https://www.tiny.cloud/docs/general-configuration-guide/basic-setup/">参考文档</a>',value:"advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking table emoticons template paste help"},{type:"textarea",name:"toolbar",label:"工具栏",value:"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media fullpage | forecolor backcolor emoticons | help"}]}]})],t}return n.__extends(t,e),t}(a(9933).BasePlugin);t.RichTextControlPlugin=o,(0,i.registerEditorPlugin)(o)},8149:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SubFormControlPlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(9756),r=a(9933),s=a(3570),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-sub-form",t.$schema="/schemas/SubFormControlSchema.json",t.name="子表单项",t.isBaseComponent=!0,t.icon="fa fa-window-restore",t.description="SubForm, 配置一个子<code>form</code>作为当前的表单项",t.docLink="/amis/zh-CN/components/form/input-sub-form",t.tags=["表单项"],t.scaffold={type:"input-sub-form",name:"subform",label:"子表单",form:{title:"标题",body:[{type:"input-text",label:"文本",name:"text"}]}},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="子表单项",t.panelBodyCreator=function(e){return[{children:function(a){return a.value,a.onChange,i.default.createElement(l.Button,{size:"sm",level:"danger",className:"m-b",block:!0,onClick:t.editDetail.bind(t,e.id)},"配置成员渲染器")}},{name:"labelField",type:"input-text",value:"label",label:"名称字段名",description:"当值中存在这个字段，则按钮名称将使用此字段的值来展示。"},{name:"btnLabel",label:"按钮标签名",value:"设置",type:"input-text"},{name:"minLength",visibleOn:"data.multiple",label:"允许最少个数",type:"input-number"},{name:"maxLength",visibleOn:"data.multiple",label:"允许最多个数",type:"input-number"}]},t}return n.__extends(t,e),t.prototype.filterProps=function(e){return(e=(0,s.JSONPipeOut)(e)).value||(e.value=[""]),e},t.prototype.buildEditorToolbar=function(e,t){var a=e.id;"input-sub-form"===e.info.renderer.name&&t.push({icon:"fa fa-expand",order:100,tooltip:"配置成员渲染器",onClick:this.editDetail.bind(this,a)})},t.prototype.buildEditorContextMenu=function(e,t){var a=e.id;e.schema,e.region,"input-sub-form"===e.info.renderer.name&&t.push("|",{label:"配置成员渲染器",onSelect:this.editDetail.bind(this,a)})},t.prototype.editDetail=function(e){var t=this.manager,a=t.store,l=a.getNodeById(e),i=a.getValueOf(e);if(l&&i){var o=i.form,r=o.title,d=o.actions,c=o.name,p=o.size,u=o.closeOnEsc,m=o.showCloseButton,h=o.bodyClassName,f=(o.type,n.__rest(o,["title","actions","name","size","closeOnEsc","showCloseButton","bodyClassName","type"])),g={title:r,actions:d,name:c,size:p,closeOnEsc:u,showCloseButton:m,bodyClassName:h,type:"dialog",body:n.__assign({type:"form"},f)};this.manager.openSubEditor({title:"配置子表单项",value:g,memberImmutable:["body"],onChange:function(e){var a=e.body[0];delete(e=n.__assign(n.__assign({},i),{form:a})).form.type,t.panelChangeValue(e,(0,s.diff)(i,e))}})}},t}(r.BasePlugin);t.SubFormControlPlugin=d,(0,o.registerEditorPlugin)(d)},8332:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TableControlPlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(8579)),o=a(9547),r=a(9756),s=a(9933),d=a(9794),c=a(3570),p=a(6374),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-table",t.$schema="/schemas/TableControlSchema.json",t.name="表格编辑框",t.isBaseComponent=!0,t.icon="fa fa-table",t.description="可以用来展现数据的,可以用来展示数组类型的数据，比如 <code>multiple</code> 的子 <code>form</code>",t.docLink="/amis/zh-CN/components/form/input-table",t.tags=["表单项"],t.scaffold={type:"input-table",name:"table",label:"表格表单",columns:[{label:"color",name:"color",quickEdit:{type:"input-color"}},{label:"说明文字",name:"name",quickEdit:{type:"input-text",mode:"inline"}}],strictMode:!0},t.regions=[{key:"columns",label:"列集合",renderMethod:"renderTableContent",preferTag:"展示",dndMode:"position-h"}],t.previewSchema={type:"form",className:"text-left",wrapWithPanel:!1,mode:"horizontal",body:n.__assign(n.__assign({},t.scaffold),{value:[{color:"green",name:"绿色"}]})},t.scaffoldForm={title:"快速构建表格",body:[{name:"columns",type:"combo",multiple:!0,label:!1,addButtonText:"新增一列",draggable:!0,items:[{type:"input-text",name:"label",placeholder:"标题"},{type:"input-text",name:"name",placeholder:"绑定字段名"},{type:"select",name:"type",placeholder:"类型",value:"text",options:[{value:"text",label:"纯文本"},{value:"tpl",label:"模板"},{value:"image",label:"图片"},{value:"date",label:"日期"},{value:"progress",label:"进度"},{value:"status",label:"状态"},{value:"mapping",label:"映射"},{value:"operation",label:"操作栏"}]}]}],canRebuild:!0},t.panelTitle="表格编辑",t.panelBodyCreator=function(e){return e.schema.type,(0,o.getSchemaTpl)("tabs",[{title:"常规",body:(0,i.default)([(0,o.getSchemaTpl)("formItemName",{required:!0}),(0,o.getSchemaTpl)("label"),(0,o.getSchemaTpl)("description"),(0,o.getSchemaTpl)("switch",{label:"是否可新增",name:"addable"}),{type:"input-text",name:"addBtnLabel",label:"增加按钮名称",visibleOn:"data.addable",pipeIn:(0,o.defaultValue)("")},{name:"addBtnIcon",label:"增加按钮图标",type:"icon-picker",className:"fix-icon-picker-overflow",visibleOn:"data.addable"},(0,o.getSchemaTpl)("api",{name:"addApi",label:"新增时提交的 API",visibleOn:"data.addable"}),(0,o.getSchemaTpl)("switch",{label:"是否可删除",name:"removable"}),{type:"input-text",name:"deleteBtnLabel",label:"删除按钮名称",visibleOn:"data.removable",pipeIn:(0,o.defaultValue)("")},{name:"deleteBtnIcon",label:"删除按钮图标",type:"icon-picker",className:"fix-icon-picker-overflow",visibleOn:"data.removable"},(0,o.getSchemaTpl)("api",{name:"deleteApi",label:"删除时提交的 API",visibleOn:"data.removable"}),(0,o.getSchemaTpl)("switch",{label:"是否可编辑",name:"editable"}),{type:"input-text",name:"editBtnLabel",label:"编辑按钮名称",visibleOn:"data.editable",pipeIn:(0,o.defaultValue)("")},{name:"editBtnIcon",label:"编辑按钮图标",type:"icon-picker",className:"fix-icon-picker-overflow",visibleOn:"data.editable"},(0,o.getSchemaTpl)("switch",{label:"是否可复制",name:"copyable"}),{type:"input-text",name:"copyBtnLabel",label:"复制按钮名称",visibleOn:"data.copyable",pipeIn:(0,o.defaultValue)("")},{name:"copyBtnIcon",label:"复制按钮图标",type:"icon-picker",className:"fix-icon-picker-overflow",visibleOn:"data.copyable"},(0,o.getSchemaTpl)("api",{name:"updateApi",label:"修改时提交的 API",visibleOn:"data.editable"}),{type:"input-text",name:"confirmBtnLabel",label:"确认编辑按钮名称",visibleOn:"data.editable",pipeIn:(0,o.defaultValue)("")},{name:"confirmBtnIcon",label:"确认编辑按钮图标",type:"icon-picker",className:"fix-icon-picker-overflow",visibleOn:"data.editable"},{type:"input-text",name:"cancelBtnLabel",label:"取消编辑按钮名称",visibleOn:"data.editable",pipeIn:(0,o.defaultValue)("")},{name:"cancelBtnIcon",label:"取消编辑按钮图标",type:"icon-picker",className:"fix-icon-picker-overflow",visibleOn:"data.editable"},(0,o.getSchemaTpl)("switch",{label:"是否可拖拽排序",name:"draggable"}),(0,o.getSchemaTpl)("switch",{label:"确认模式",name:"needConfirm"}),(0,o.getSchemaTpl)("switch",{label:"严格模式",name:"strictMode",value:!0}),(0,o.getSchemaTpl)("switch",{label:"获取父级数据",labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:'配置"canAccessSuperData": true 同时配置 "strictMode": false 开启此特性，初始会自动映射父级数据域的同名变量。需要注意的是，这里只会初始会映射，一旦修改过就是当前行数据为主了。也就是说，表单项类型的，只会起到初始值的作用',placement:"left"},onChange:function(e,t,a,n){e&&!t?n.setValues({strictMode:!1}):n.setValues({strictMode:!0})},name:"canAccessSuperData"})])},{title:"外观",body:[(0,o.getSchemaTpl)("formItemMode"),(0,o.getSchemaTpl)("horizontalMode"),(0,o.getSchemaTpl)("horizontal",{label:"",visibleOn:'(data.$$formMode == "horizontal" || data.mode == "horizontal") && data.label !== false && data.horizontal'}),(0,o.getSchemaTpl)("className"),(0,o.getSchemaTpl)("className",{label:"Label CSS 类名",name:"labelClassName"}),(0,o.getSchemaTpl)("className",{label:"Input CSS 类名",name:"inputClassName"}),(0,o.getSchemaTpl)("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"data.description"})]},{title:"显隐",body:[(0,o.getSchemaTpl)("disabled"),(0,o.getSchemaTpl)("visible")]},{title:"其他",body:[(0,o.getSchemaTpl)("required"),(0,o.getSchemaTpl)("validateOnChange"),(0,o.getSchemaTpl)("submitOnChange")]}])},t}return n.__extends(t,e),t.prototype.filterProps=function(e){var t=Array.isArray(e.value)?e.value:"string"==typeof e.source?(0,l.resolveVariable)(e.source,e.data):(0,l.resolveVariable)("items",e.data);if(Array.isArray(t)&&t.length)e.value=t.slice(0,10);else{var a={};Array.isArray(e.columns)&&e.columns.forEach((function(e){e.name&&(0,d.setVariable)(a,e.name,(0,p.mockValue)(e))})),e.value=(0,c.repeatArray)(a,1).map((function(e,t){return n.__assign(n.__assign({},e),{id:t+1})}))}return e},t.prototype.beforeInsert=function(e){var t,a,l,i,o=e.context;o.info.plugin!==this&&(null===(t=o.node.sameIdChild)||void 0===t?void 0:t.info.plugin)!==this||"columns"!==o.region||(o.data=n.__assign(n.__assign({},o.data),{label:null!==(i=null!==(a=o.data.label)&&void 0!==a?a:null===(l=o.subRenderer)||void 0===l?void 0:l.name)&&void 0!==i?i:"列名称"}))},t}(s.BasePlugin);t.TableControlPlugin=u,(0,r.registerEditorPlugin)(u)},9114:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TagControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-tag",t.$schema="/schemas/TagControlSchema.json",t.order=-420,t.name="标签",t.isBaseComponent=!0,t.icon="fa fa-tag",t.description="配置<code>options</code>可以实现选择选项",t.docLink="/amis/zh-CN/components/form/input-tag",t.tags=["表单项"],t.scaffold={type:"input-tag",label:"标签",name:"tag",options:["红色","绿色","蓝色"]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:n.__assign(n.__assign({},t.scaffold),{value:"红色"})},t.panelTitle="标签",t.panelBody=[{type:"input-text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},(0,l.getSchemaTpl)("clearable"),(0,l.getSchemaTpl)("fieldSet",{title:"选项",body:[(0,l.getSchemaTpl)("options",{visibleOn:"data.autoComplete !== false",description:"设置选项后，输入时会下拉这些选项供用户参考。"}),(0,l.getSchemaTpl)("source",{visibleOn:"data.autoComplete !== false"}),{type:"input-text",name:"optionsTip",label:"选项提示",value:"最近您使用的标签"},(0,l.getSchemaTpl)("joinValues"),(0,l.getSchemaTpl)("delimiter"),(0,l.getSchemaTpl)("extractValue"),(0,l.getSchemaTpl)("autoFill")]})],t}return n.__extends(t,e),t}(a(9933).BasePlugin);t.TagControlPlugin=o,(0,i.registerEditorPlugin)(o)},9890:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextControlPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(6294),s=a(2759),d=a(3570),c='data.type === "input-text"',p='data.type === "input-password"',u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-text",t.$schema="/schemas/TextControlSchema.json",t.order=-500,t.searchKeywords="文本框、邮箱框、input-email、URL框、input-url、密码框、input-password",t.name="文本框",t.isBaseComponent=!0,t.icon="fa fa-terminal",t.description="文本输入框，支持普通文本、密码、URL、邮箱等多种内容输入",t.docLink="/amis/zh-CN/components/form/text",t.tags=["表单项"],t.scaffold={type:"input-text",label:"文本",name:"text"},t.previewSchema={type:"form",className:"text-left",wrapWithPanel:!1,mode:"horizontal",body:[n.__assign({},t.scaffold)]},t.notRenderFormZone=!0,t.panelTitle="文本框",t.events=[{eventName:"change",eventLabel:"值变化",description:"输入框内容变化",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"输入值"}}}]},{eventName:"focus",eventLabel:"获取焦点",description:"输入框获取焦点",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"输入值"}}}]},{eventName:"blur",eventLabel:"失去焦点",description:"输入框失去焦点",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"输入值"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清空输入框内容"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"reload",actionLabel:"重新加载",description:"触发组件数据刷新并重新渲染"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelJustify=!0,t.panelBodyCreator=function(e){var a=e.info.renderer;return(0,o.getSchemaTpl)("tabs",[{title:"属性",body:(0,o.getSchemaTpl)("collapseGroup",[{title:"基本",body:[(0,o.getSchemaTpl)("formItemName",{required:!0}),(0,o.getSchemaTpl)("label"),(0,o.getSchemaTpl)("inputType",{value:t.scaffold.type,onChange:function(e,t,a,l){var i=l.data,o=i.showCounter,r=i.validations,s=i.validationErrors,d=void 0===s?{}:s,c=i.autoComplete,p="input-url"===t;"input-email"===t&&(r&&delete r.isEmail,d&&delete d.isEmail),p&&(r&&delete r.isUrl,d&&delete d.isUrl),l.setValues({type:e,showCounter:["input-url","input-email"].includes(e)?void 0:!!o,autoComplete:["input-text"].includes(e)?c:void 0}),l.changeValue("validations",n.__assign({},r)),l.changeValue("validationErrors",n.__assign({},d))}}),(0,o.getSchemaTpl)("value"),(0,o.getSchemaTpl)("clearable"),(0,o.getSchemaTpl)("showCounter",{visibleOn:"".concat(c," || ").concat(p)}),{name:"addOn",label:(0,s.tipedLabel)("AddOn","输入框左侧或右侧的附加挂件"),type:"ae-Switch-More",mode:"normal",formType:"extend",title:"AddOn",bulk:!1,defaultData:{label:"按钮",type:"button"},form:{body:[{name:"type",label:"类型",type:"button-group-select",inputClassName:"items-center",pipeIn:(0,o.defaultValue)("button"),options:[{label:"文本",value:"text"},{label:"按钮",value:"button"},{label:"提交",value:"submit"}]},(0,o.getSchemaTpl)("horizontal-align",{name:"position",pipeIn:(0,o.defaultValue)("right")}),{name:"label",label:"文字",type:"input-text"},(0,o.getSchemaTpl)("icon")]}},(0,o.getSchemaTpl)("labelRemark"),(0,o.getSchemaTpl)("remark"),(0,o.getSchemaTpl)("placeholder"),(0,o.getSchemaTpl)("description")]},(0,o.getSchemaTpl)("status",{isFormItem:!0,readonly:!0}),(0,o.getSchemaTpl)("validation",{tag:function(e){switch(e.type){case"input-password":return r.ValidatorTag.Password;case"input-email":return r.ValidatorTag.Email;case"input-url":return r.ValidatorTag.URL;default:return r.ValidatorTag.Text}}})])},{title:"外观",body:(0,o.getSchemaTpl)("collapseGroup",[(0,o.getSchemaTpl)("style:formItem",{renderer:a}),(0,o.getSchemaTpl)("style:classNames",{schema:[(0,o.getSchemaTpl)("className",{label:"描述",name:"descriptionClassName",visibleOn:"this.description"}),(0,o.getSchemaTpl)("className",{name:"addOn.className",label:"AddOn",visibleOn:'this.addOn && this.addOn.type === "text"'})]})])},{title:"事件",className:"p-none",body:[(0,o.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,d.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(i.BasePlugin);t.TextControlPlugin=u,(0,l.registerEditorPlugin)(u)},1533:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeControlPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-time",t.$schema="/schemas/TimeControlSchema.json",t.name="时间框",t.isBaseComponent=!0,t.icon="fa fa-clock-o",t.description="时分秒输入",t.docLink="/amis/zh-CN/components/form/input-time",t.tags=["表单项"],t.scaffold={type:"input-time",label:"时间",name:"time"},t.disabledRendererPlugin=!0,t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:n.__assign({},t.scaffold)},t.panelTitle="时间框",t}return n.__extends(t,e),t}(a(4189).DateControlPlugin);t.TimeControlPlugin=i,(0,l.registerEditorPlugin)(i)},2620:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeRangeControlPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-time-range",t.$schema="/schemas/DateRangeControlSchema.json",t.order=-440,t.icon="fa fa-calendar",t.name="日期范围",t.isBaseComponent=!0,t.description="时间范围选择，可通过<code>minDate</code>、<code>maxDate</code>设定最小、最大日期",t.docLink="/amis/zh-CN/components/form/time-range",t.tags=["表单项"],t.scaffold={type:"input-time-range",label:"日期范围",name:"time-range"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.disabledRendererPlugin=!0,t.notRenderFormZone=!0,t}return n.__extends(t,e),t}(a(3751).DateRangeControlPlugin);t.TimeRangeControlPlugin=i,(0,l.registerEditorPlugin)(i)},8936:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TreeControlPlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(9547),o=a(935),r=a(9756),s=a(9933),d=a(3570),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-tree",t.$schema="/schemas/TreeControlSchema.json",t.name="树选择框",t.isBaseComponent=!0,t.icon="fa fa-list-alt",t.description="树型结构来选择，可通过<code>options</code>来配置选项，也可通过<code>source</code>拉取选项",t.docLink="/amis/zh-CN/components/form/input-tree",t.tags=["表单项"],t.scaffold={type:"input-tree",label:"树选择框",name:"tree",options:[{label:"选项A",value:"A",children:[{label:"选项C",value:"C"},{label:"选项D",value:"D"}]},{label:"选项B",value:"B"}]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:n.__assign({},t.scaffold)},t.notRenderFormZone=!0,t.panelTitle="树选择",t.events=[{eventName:"change",eventLabel:"值变化",description:"选中值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中节点的值"}}}]},{eventName:"add",eventLabel:"新增选项",description:"新增节点提交时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"object",title:"新增的节点信息"},"event.data.options":{type:"array",title:"选项集合"}}}]},{eventName:"edit",eventLabel:"编辑选项",description:"编辑选项",dataSchema:[{type:"object",properties:{"event.data.value":{type:"object",title:"编辑的节点信息"},"event.data.options":{type:"array",title:"选项集合"}}}]},{eventName:"delete",eventLabel:"删除选项",description:"删除选项",dataSchema:[{type:"object",properties:{"event.data.value":{type:"object",title:"删除的节点信息"},"event.data.options":{type:"array",title:"选项集合"}}}]},{eventName:"loadFinished",eventLabel:"懒加载完成",description:"懒加载接口远程请求成功时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"object",title:"deferApi 懒加载远程请求成功后返回的数据"}}}]}],t.actions=[{actionType:"expand",actionLabel:"展开",description:"展开指定层级",config:["openLevel"],desc:function(e){var t;return l.default.createElement("div",null,l.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"展开到第",l.default.createElement("span",{className:"variable-left variable-right"},null===(t=null==e?void 0:e.args)||void 0===t?void 0:t.openLevel),"层")},schema:(0,o.getComboWrapper)({type:"input-formula",variables:"${variables}",evalMode:!1,variableMode:"tabs",label:"展开层级",size:"lg",name:"openLevel",mode:"horizontal"})},{actionType:"collapse",actionLabel:"收起",description:"收起树节点"},{actionType:"clear",actionLabel:"清空",description:"清除数据"},{actionType:"reset",actionLabel:"重置",description:"重置数据"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelDefinitions={options:{label:"选项 Options",name:"options",type:"combo",multiple:!0,multiLine:!0,draggable:!0,addButtonText:"新增选项",scaffold:{label:"",value:""},items:[{type:"group",body:[{type:"input-text",name:"label",placeholder:"名称",required:!0},{type:"input-text",name:"value",placeholder:"值",unique:!0}]},{$ref:"options",label:"子选项",name:"children",addButtonText:"新增子选项"}]}},t.panelBodyCreator=function(e){return(0,i.getSchemaTpl)("tabs",[{title:"常规",body:[(0,i.getSchemaTpl)("switchDefaultValue"),{type:"input-text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},(0,i.getSchemaTpl)("fieldSet",{title:"选项",body:[{$ref:"options",name:"options"},(0,i.getSchemaTpl)("source",{sampleBuilder:function(e){return JSON.stringify({status:0,msg:"",data:{options:[{label:"选项A",value:"a",children:[{label:"子选项",value:"c"}]},{label:"选项B",value:"b"}]}},null,2)}}),(0,i.getSchemaTpl)("switch",{label:"隐藏顶级",name:"hideRoot"}),(0,i.getSchemaTpl)("switch",{name:"showIcon",label:"是否显示图标",pipeIn:(0,i.defaultValue)(!0)}),(0,i.getSchemaTpl)("multiple"),(0,i.getSchemaTpl)("switch",{name:"cascade",label:"不自动选中子节点",visibleOn:"data.multiple",description:"选中父级时，孩子节点是否自动选中"}),(0,i.getSchemaTpl)("switch",{name:"withChildren",label:"数值是否携带子节点",visibleOn:"data.cascade !== true && data.multiple",disabledOn:"data.onlyChildren"}),(0,i.getSchemaTpl)("switch",{name:"onlyChildren",label:"数值是否只包含子节点",visibleOn:"data.cascade !== true && data.multiple",disabledOn:"data.withChildren"}),(0,i.getSchemaTpl)("joinValues"),(0,i.getSchemaTpl)("delimiter"),(0,i.getSchemaTpl)("extractValue"),(0,i.getSchemaTpl)("autoFill")]})]},{title:"外观",body:[{label:"顶级文字",name:"rootLabel",type:"input-text",pipeIn:(0,i.defaultValue)("顶级"),visibleOn:"data.hideRoot !== true"},(0,i.getSchemaTpl)("switch",{name:"showIcon",label:"是否显示图标",pipeIn:(0,i.defaultValue)(!0)}),(0,i.getSchemaTpl)("switch",{label:"是否显示单选按钮",name:"showRadio",visibleOn:"!data.multiple"})]},{title:"事件",className:"p-none",body:[(0,i.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,d.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(s.BasePlugin);t.TreeControlPlugin=c,(0,r.registerEditorPlugin)(c)},3581:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.URLControlPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-url",t.$schema="/schemas/TextControlSchema.json",t.name="URL输入框",t.isBaseComponent=!0,t.icon="fa fa-link",t.description="验证输入是否为合法的 URL",t.docLink="/amis/zh-CN/components/form/input-url",t.scaffold={type:"input-url",label:"链接",name:"url"},t.disabledRendererPlugin=!0,t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:n.__assign({},t.scaffold)},t.panelTitle="URL",t}return n.__extends(t,e),t}(a(9890).TextControlPlugin);t.URLControlPlugin=i,(0,l.registerEditorPlugin)(i)},4950:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.YearControlPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-year",t.$schema="/schemas/YearControlSchema.json",t.name="Year",t.isBaseComponent=!0,t.icon="fa fa-calendar",t.description="年选择",t.docLink="/amis/zh-CN/components/form/input-year",t.tags=["表单项"],t.scaffold={type:"input-year",name:"year"},t.disabledRendererPlugin=!0,t.previewSchema={type:"form",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="Year",t}return n.__extends(t,e),t}(a(4189).DateControlPlugin);t.YearControlPlugin=i,(0,l.registerEditorPlugin)(i)},3852:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.YearRangeControlPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="input-year-range",t.$schema="/schemas/DateRangeControlSchema.json",t.order=-440,t.icon="fa fa-calendar",t.name="日期范围",t.isBaseComponent=!0,t.description="年份范围选择，可通过<code>minDate</code>、<code>maxDate</code>设定最小、最大日期",t.docLink="/amis/zh-CN/components/form/year-range",t.tags=["表单项"],t.scaffold={type:"input-year-range",label:"日期范围",name:"year-range"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.disabledRendererPlugin=!0,t.notRenderFormZone=!0,t}return n.__extends(t,e),t}(a(3751).DateRangeControlPlugin);t.YearRangeControlPlugin=i,(0,l.registerEditorPlugin)(i)},3482:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ItemPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=n.__importDefault(a(6918)),s=a(3570),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.panelTitle="表单项",t.panelBodyCreator=function(e){var t=~["button","submit","reset"].indexOf(e.schema.type),a=~["button-toobar","container","fieldSet","group","grid","hbox","input-group","panel","service","tabs","table","elevator","static"].indexOf(e.schema.type),n=~["switch","wizard","diff-editor","editor","input-rating","input-text","textarea"].indexOf(e.schema.type),l=!!~["input-group"].indexOf(e.schema.type),i=e.schema.autoFillApi,r=e.info.renderer;return[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[t?null:(0,o.getSchemaTpl)("formItemName",{required:!a}),!1!==r.renderLabel?(0,o.getSchemaTpl)("label"):null,n?(0,o.getSchemaTpl)("switch",{name:"readOnly",label:"只读模式"}):null,(0,o.getSchemaTpl)("switch",{name:"disabled",label:"禁用",mode:"inline",className:"w-full"}),l?null:(0,o.getSchemaTpl)("required"),(0,o.getSchemaTpl)("description"),(0,o.getSchemaTpl)("placeholder"),(0,o.getSchemaTpl)("remark"),!1!==r.renderLabel?(0,o.getSchemaTpl)("labelRemark"):null,i?(0,o.getSchemaTpl)("autoFillApi"):null]},{title:"外观",body:[(0,o.getSchemaTpl)("formItemMode"),(0,o.getSchemaTpl)("horizontalMode"),(0,o.getSchemaTpl)("horizontal",{label:"",visibleOn:'data.mode == "horizontal" && data.label !== false && data.horizontal'}),!1!==r.sizeMutable?(0,o.getSchemaTpl)("formItemSize"):null,(0,o.getSchemaTpl)("formItemInline"),(0,o.getSchemaTpl)("className"),(0,o.getSchemaTpl)("className",{label:"Label CSS 类名",name:"labelClassName"}),(0,o.getSchemaTpl)("className",{label:"控件 CSS 类名",name:"inputClassName"}),(0,o.getSchemaTpl)("className",{label:"描述 CSS 类名",name:"descriptionClassName",visibleOn:"this.description"})]},{title:"显隐",body:[(0,o.getSchemaTpl)("disabled"),(0,o.getSchemaTpl)("visible"),(0,o.getSchemaTpl)("switch",{name:"clearValueOnHidden",label:"隐藏时删除表单项值",disabledOn:'typeof this.visible === "boolean"'})]},l?null:{title:"验证",body:[(0,o.getSchemaTpl)("validations"),(0,o.getSchemaTpl)("validationErrors"),(0,o.getSchemaTpl)("validateOnChange"),(0,o.getSchemaTpl)("submitOnChange"),(0,o.getSchemaTpl)("api",{name:"validateApi",label:"校验接口",description:"单独校验这个表单项的接口"})]}])]},t}return n.__extends(t,e),t.prototype.buildEditorPanel=function(e,t){var a=e.info.renderer,n=this.manager.store;if(!e.selections.length){var l=e.info.plugin;e.info.hostId||!(null==a?void 0:a.isFormItem)||(null==l?void 0:l.notRenderFormZone)||t.push({key:"form-item",icon:"fa fa-desktop",title:this.panelTitle,render:this.manager.makeSchemaFormRender({body:this.panelBodyCreator(e),panelById:n.activeId}),order:-200})}},t.prototype.onDndAccept=function(e){var t=e.context,a=this.manager.store;if("schema"===t.sourceType){var n=a.getNodeById(t.sourceId);"body"!==(null==n?void 0:n.parentRegion)||"body"===t.targetRegion||~["button","reset","submit"].indexOf(t.data.type)||e.preventDefault()}},t.prototype.afterUpdate=function(e){var t,a,n=e.context;if(/\$/.test(n.info.renderer.name)&&(null===(t=n.diff)||void 0===t?void 0:t.some((function(e){var t;return"value"===(null===(t=e.path)||void 0===t?void 0:t.join("."))})))){var l=(0,r.default)(n.diff,(function(e){var t;return"value"===(null===(t=e.path)||void 0===t?void 0:t.join("."))})),i=null===(a=this.manager.store.getNodeById(n.id))||void 0===a?void 0:a.getComponent();null==i||i.props.onChange(null==l?void 0:l.rhs)}},t.prototype.beforeReplace=function(e){var t=e.context;t.info.renderer.isFormItem&&t.data&&t.subRenderer&&!~t.subRenderer.tags.indexOf("表单项")&&~t.subRenderer.tags.indexOf("展示")&&(t.data=n.__assign(n.__assign({},t.data),{type:"static-".concat(t.data.type),label:t.data.label||t.schema.label,name:t.data.name||t.schema.name})),t.schema&&(t.data.name=t.schema.name||t.data.name)},t.prototype.buildEditorContextMenu=function(e,t){var a=this,l=(e.id,e.schema,e.region,e.selections);if(l.length&&!(l.length>3)){var i=l.concat(),o=i.shift().node.parent;i.some((function(e){var t;return e.node.parent!==o||!(null===(t=e.info.renderer)||void 0===t?void 0:t.isFormItem)}))||t.unshift({label:"合成一行",icon:"merge-icon",onSelect:function(){var e=a.manager.store,t=l.concat(),i=t.shift(),o=e.schema,r=[n.__assign({},i.schema)];delete r[0].$$id,t.forEach((function(e){r.push(e.node.schema),o=(0,s.JSONDelete)(o,e.id)}));var d=(0,s.JSONPipeIn)({type:"group",body:r});o=(0,s.JSONUpdate)(o,i.id,d,!0),e.traceableSetSchema(o),setTimeout((function(){e.setActiveId(i.id)}),40)}},"|")}},t}(i.BasePlugin);t.ItemPlugin=d,(0,l.registerEditorPlugin)(d)},8952:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ListControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=a(9933),r=a(2759),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="list-select",t.$schema="/schemas/ListControlSchema.json",t.order=-430,t.name="列表选择",t.isBaseComponent=!0,t.icon="fa fa-ellipsis-h",t.description="单选或者多选，支持<code>source</code>拉取选项，选项可配置图片，也可以自定义<code>HTML</code>配置",t.docLink="/amis/zh-CN/components/form/list-select",t.tags=["表单项"],t.scaffold={type:"list-select",label:"列表",name:"list",options:[{label:"选项A",value:"A"},{label:"选项B",value:"B"}]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign(n.__assign({},t.scaffold),{value:"A"})]},t.notRenderFormZone=!0,t.panelTitle="列表选择",t.events=[{eventName:"change",eventLabel:"值变化",description:"选中值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清除选中值"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"reload",actionLabel:"重新加载",description:"触发组件数据刷新并重新渲染"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelBodyCreator=function(e){return(0,r.formItemControl)({common:{replace:!0,body:[(0,l.getSchemaTpl)("formItemName",{required:!0}),(0,l.getSchemaTpl)("label"),(0,l.getSchemaTpl)("multiple"),(0,l.getSchemaTpl)("extractValue")]},option:{body:[(0,l.getSchemaTpl)("optionControl",{description:"设置选项后，输入时会下拉这些选项供用户参考。"}),(0,l.getSchemaTpl)("value")]},status:{}},e)},t}return n.__extends(t,e),t}(o.BasePlugin);t.ListControlPlugin=s,(0,i.registerEditorPlugin)(s)},1803:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocationControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="location-picker",t.$schema="/schemas/LocationControlSchema.json",t.name="地理位置选择",t.isBaseComponent=!0,t.icon="fa fa-location-arrow",t.description="地理位置选择",t.docLink="/amis/zh-CN/components/form/location-picker",t.tags=["表单项"],t.scaffold={type:"location-picker",name:"location"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="地理位置选择",t.panelBody=[(0,l.getSchemaTpl)("clearable"),{type:"input-text",name:"ak",label:"百度地图的 AK",description:'请从<a href="http://lbsyun.baidu.com/" target="_blank">百度地图开放平台</a>获取'},{type:"select",name:"coordinatesType",label:"坐标格式",value:"bd09",options:[{label:"百度坐标",value:"bd09"},{label:"国测局坐标",value:"gcj02"}]}],t}return n.__extends(t,e),t}(a(9933).BasePlugin);t.LocationControlPlugin=o,(0,i.registerEditorPlugin)(o)},6489:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MatrixControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="matrix-checkboxes",t.$schema="/schemas/MatrixControlSchema.json",t.name="矩阵开关",t.isBaseComponent=!0,t.icon="fa fa-th-large",t.description="可配置行单选，列单选，以及全部选项只能单选或者全部选项多选",t.docLink="/amis/zh-CN/components/form/matrix-checkboxes",t.tags=["表单项"],t.scaffold={type:"matrix-checkboxes",name:"matrix",label:"矩阵开关",rowLabel:"行标题说明",columns:[{label:"列1"},{label:"列2"}],rows:[{label:"行1"},{label:"行2"}]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="矩阵开关",t.panelBody=[(0,l.getSchemaTpl)("api",{name:"source",label:"获取矩阵数据接口"}),(0,l.getSchemaTpl)("multiple",{value:!0}),{type:"button-group-select",name:"singleSelectMode",label:"单选模式",description:"行级、列级或者单个单元单选",size:"xs",mode:"inline",className:"w-full",visibleOn:"!this.multiple",options:[{label:"行级",value:"row"},{label:"列级",value:"column"},{label:"单个单元",value:"cell"}],pipeIn:(0,l.defaultValue)("column")},(0,l.getSchemaTpl)("fieldSet",{title:"矩阵配置",body:[{label:"列配置",name:"columns",type:"combo",multiple:!0,addButtonText:"添加一列",scaffold:{label:"列说明"},items:[{type:"input-text",name:"label",placeholder:"列说明"}]},{name:"rowLabel",label:"行标题文字",type:"input-text"},{label:"行配置",name:"rows",type:"combo",multiple:!0,scaffold:{label:"行说明"},addButtonText:"添加一行",items:[{type:"input-text",name:"label",placeholder:"行说明"}]}]})],t}return n.__extends(t,e),t}(a(9933).BasePlugin);t.MatrixControlPlugin=o,(0,i.registerEditorPlugin)(o)},7798:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NestedSelectControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=a(9933),r=a(3570),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="nested-select",t.$schema="/schemas/NestedSelectControlSchema.json",t.name="嵌套下拉框",t.isBaseComponent=!0,t.icon="fa fa-indent",t.description="适用于选项中含有子项，可通过<code>source</code>拉取选项，支持多选",t.docLink="/amis/zh-CN/components/form/nestedselect",t.tags=["表单项"],t.scaffold={type:"nested-select",label:"嵌套下拉框",name:"nestedSelect",options:[{label:"选项A",value:"A"},{label:"选项B",value:"B",children:[{label:"选项C",value:"C"},{label:"选项D",value:"D"}]}]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="嵌套下拉",t.panelDefinitions={options:{label:"选项 Options",name:"options",type:"combo",multiple:!0,multiLine:!0,draggable:!0,addButtonText:"新增选项",scaffold:{label:"",value:""},items:[{type:"group",body:[{type:"input-text",name:"label",placeholder:"名称",required:!0},{type:"input-text",name:"value",placeholder:"值",unique:!0}]},{$ref:"options",label:"子选项",name:"children",addButtonText:"新增子选项"}]}},t.events=[{eventName:"change",eventLabel:"值变化",description:"选中值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]},{eventName:"focus",eventLabel:"获取焦点",description:"输入框获取焦点时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]},{eventName:"blur",eventLabel:"失去焦点",description:"输入框失去焦点时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清除选中值"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"reload",actionLabel:"重新加载",description:"触发组件数据刷新并重新渲染"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelBodyCreator=function(e){return(0,l.getSchemaTpl)("tabs",[{title:"常规",body:[(0,l.getSchemaTpl)("switchDefaultValue"),{type:"input-text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},(0,l.getSchemaTpl)("clearable"),(0,l.getSchemaTpl)("searchable"),{type:"input-text",name:"searchPromptText",label:"搜索框占位文本"},{type:"input-text",name:"noResultsText",label:"无结果时的文本"},(0,l.getSchemaTpl)("hideNodePathLabel"),(0,l.getSchemaTpl)("switch",{name:"enableNodePath",label:"节点路径模式"}),(0,l.getSchemaTpl)("switch",{name:"onlyChildren",label:"选中父节点时只使用子节点的值"}),{type:"input-text",name:"pathSeparator",visibleOn:"this.enableNodePath",label:"节点路径的分隔符"},(0,l.getSchemaTpl)("borderMode"),(0,l.getSchemaTpl)("fieldSet",{title:"选项",body:[{$ref:"options",name:"options"},(0,l.getSchemaTpl)("api",{name:"source",label:"获取选项接口"}),(0,l.getSchemaTpl)("multiple"),(0,l.getSchemaTpl)("switch",{name:"cascade",label:"不自动选中子节点",visibleOn:"data.multiple",description:"选中父级时，孩子节点是否自动选中"}),(0,l.getSchemaTpl)("switch",{name:"withChildren",label:"数值是否携带子节点",visibleOn:"data.cascade !== true && data.multiple"}),(0,l.getSchemaTpl)("joinValues"),(0,l.getSchemaTpl)("delimiter"),(0,l.getSchemaTpl)("extractValue"),(0,l.getSchemaTpl)("autoFill")]})]},{title:"外观",body:[(0,l.getSchemaTpl)("className",{label:"菜单类名",name:"menuClassName"})]},{title:"事件",className:"p-none",body:[(0,l.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,r.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(o.BasePlugin);t.NestedSelectControlPlugin=s,(0,i.registerEditorPlugin)(s)},2125:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PickerControlPlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(1502),o=a(9547),r=a(9756),s=a(9933),d=a(3570),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="picker",t.$schema="/schemas/PickerControlSchema.json",t.name="列表选取",t.isBaseComponent=!0,t.icon="fa fa-window-restore",t.description="通过<code>pickerSchema</code>配置可供选取的数据源进行选择需要的数据，支持多选",t.docLink="/amis/zh-CN/components/form/picker",t.tags=["表单项"],t.scaffold={type:"picker",label:"列表选取",name:"picker",options:[{label:"选项A",value:"A"},{label:"选项B",value:"B"}]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="列表选取",t.panelBodyCreator=function(e){return[(0,o.getSchemaTpl)("switch",{name:"embed",label:"开启内嵌模式"}),(0,o.getSchemaTpl)("switchDefaultValue"),{type:"input-text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},(0,o.getSchemaTpl)("fieldSet",{title:"选项",body:[(0,o.getSchemaTpl)("options"),(0,o.getSchemaTpl)("api",{name:"source",label:"获取选项接口"}),{children:l.default.createElement(i.Button,{size:"sm",level:"danger",className:"m-b",onClick:t.editDetail.bind(t,e.id),block:!0},"配置选框详情")},{label:"labelTpl",type:"textarea",name:"labelTpl",labelRemark:"已选定数据的展示样式",description:'支持使用 <code>\\${xxx}</code> 来获取变量，或者用 lodash.template 语法来写模板逻辑。<a target="_blank" href="/amis/zh-CN/docs/concepts/template">详情</a>'},{type:"button-group-select",name:"modalMode",label:"选框类型",value:"dialog",size:"xs",options:[{label:"弹框",value:"dialog"},{label:"抽出式弹框",value:"drawer"}]},(0,o.getSchemaTpl)("multiple"),(0,o.getSchemaTpl)("joinValues"),(0,o.getSchemaTpl)("delimiter"),(0,o.getSchemaTpl)("extractValue"),(0,o.getSchemaTpl)("autoFill")]})]},t}return n.__extends(t,e),t.prototype.buildEditorToolbar=function(e,t){var a=e.id;e.info.renderer.name===this.rendererName&&t.push({icon:"fa fa-expand",order:100,tooltip:"配置选框详情",onClick:this.editDetail.bind(this,a)})},t.prototype.buildEditorContextMenu=function(e,t){var a=e.id;e.schema,e.region,e.info.renderer.name===this.rendererName&&t.push("|",{label:"配置选框详情",onSelect:this.editDetail.bind(this,a)})},t.prototype.editDetail=function(e){var t=this.manager,a=t.store,l=a.getNodeById(e),i=a.getValueOf(e);if(l&&i){var o=l.getComponent(),r=n.__assign(n.__assign({type:"crud",mode:"list"},i.pickerSchema||{listItem:{title:"${label}"}}),{api:i.source,pickerMode:!0,multiple:i.multiple});this.manager.openSubEditor({title:"配置选框详情",value:r,data:{options:o.props.options},onChange:function(e){delete(e=n.__assign(n.__assign({},i),{pickerSchema:n.__assign({},e),source:e.api})).pickerSchema.api,delete e.pickerSchema.type,delete e.pickerSchema.pickerMode,delete e.pickerSchema.multiple,t.panelChangeValue(e,(0,d.diff)(i,e))}})}},t}(s.BasePlugin);t.PickerControlPlugin=c,(0,r.registerEditorPlugin)(c)},4715:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RadiosControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=a(9933),r=a(6294),s=a(3570),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="radios",t.$schema="/schemas/RadiosControlSchema.json",t.order=-460,t.name="单选框",t.isBaseComponent=!0,t.icon="fa fa-dot-circle-o",t.description="通过<code>options</code>配置选项，可通过<code>source</code>拉取选项",t.docLink="/amis/zh-CN/components/form/radios",t.tags=["表单项"],t.scaffold={type:"radios",label:"单选框",name:"radios",options:[{label:"选项A",value:"A"},{label:"选项B",value:"B"}]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign(n.__assign({},t.scaffold),{value:"A"})]},t.notRenderFormZone=!0,t.panelTitle="单选框",t.events=[{eventName:"change",eventLabel:"值变化",description:"选中值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清除选中值"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"reload",actionLabel:"重新加载",description:"触发组件数据刷新并重新渲染"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelJustify=!0,t.panelBodyCreator=function(e){return(0,l.getSchemaTpl)("tabs",[{title:"属性",body:(0,l.getSchemaTpl)("collapseGroup",[{title:"基本",body:[(0,l.getSchemaTpl)("formItemName",{required:!0}),(0,l.getSchemaTpl)("label"),(0,l.getSchemaTpl)("labelRemark"),(0,l.getSchemaTpl)("remark")]},{title:"选项",body:[(0,l.getSchemaTpl)("optionControl"),(0,l.getSchemaTpl)("switch",{label:"默认选择第一个",name:"selectFirst",horizontal:{justify:!0,left:5},visibleOn:"!this.options"}),(0,l.getSchemaTpl)("value",{visibleOn:"!this.options && this.selectFirst !== true"})]},(0,l.getSchemaTpl)("status",{isFormItem:!0}),(0,l.getSchemaTpl)("validation",{tag:r.ValidatorTag.All})])},{title:"外观",body:[(0,l.getSchemaTpl)("collapseGroup",[(0,l.getSchemaTpl)("style:formItem",{renderer:e.info.renderer,schema:[(0,l.getSchemaTpl)("switch",{label:"一行选项显示",name:"inline",hiddenOn:'data.mode === "inline"',pipeIn:(0,l.defaultValue)(!0)}),{label:"每行选项个数",name:"columnsCount",hiddenOn:'data.mode === "inline" || data.inline !== false',type:"input-range",min:1,max:6,pipeIn:(0,l.defaultValue)(1)}]}),(0,l.getSchemaTpl)("style:classNames",{schema:[(0,l.getSchemaTpl)("className",{label:"单个选项",name:"itemClassName"})]})])]},{title:"事件",className:"p-none",body:[(0,l.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,s.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(o.BasePlugin);t.RadiosControlPlugin=d,(0,i.registerEditorPlugin)(d)},6311:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=a(9933),r=a(6294),s=a(3570),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="select",t.$schema="/schemas/SelectControlSchema.json",t.order=-480,t.name="下拉框",t.isBaseComponent=!0,t.icon="fa fa-th-list",t.description="支持多选，输入提示，可使用<code>source</code>获取选项",t.docLink="/amis/zh-CN/components/form/select",t.tags=["表单项"],t.scaffold={type:"select",label:"选项",name:"select",options:[{label:"选项A",value:"A"},{label:"选项B",value:"B"}]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.notRenderFormZone=!0,t.panelTitle="下拉框",t.events=[{eventName:"change",eventLabel:"值变化",description:"选中值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]},{eventName:"focus",eventLabel:"获取焦点",description:"输入框获取焦点时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]},{eventName:"blur",eventLabel:"失去焦点",description:"输入框失去焦点时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]},{eventName:"add",eventLabel:"新增选项",description:"新增选项",dataSchema:[{type:"object",properties:{"event.data.value":{type:"object",title:"新增的选项"},"event.data.options":{type:"array",title:"选项集合"}}}]},{eventName:"edit",eventLabel:"编辑选项",description:"编辑选项",dataSchema:[{type:"object",properties:{"event.data.value":{type:"object",title:"编辑的选项"},"event.data.options":{type:"array",title:"选项集合"}}}]},{eventName:"delete",eventLabel:"删除选项",description:"删除选项",dataSchema:[{type:"object",properties:{"event.data.value":{type:"object",title:"删除的选项"},"event.data.options":{type:"array",title:"选项集合"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清除选中值"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"reload",actionLabel:"重新加载",description:"触发组件数据刷新并重新渲染"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelJustify=!0,t.panelBodyCreator=function(e){return(0,l.getSchemaTpl)("tabs",[{title:"属性",body:(0,l.getSchemaTpl)("collapseGroup",[{title:"基本",body:[(0,l.getSchemaTpl)("formItemName",{required:!0}),(0,l.getSchemaTpl)("label"),(0,l.getSchemaTpl)("clearable"),(0,l.getSchemaTpl)("searchable"),(0,l.getSchemaTpl)("multiple",{popMore:[(0,l.getSchemaTpl)("switch",{label:"单行显示选中值",name:"valuesNoWrap"})]}),(0,l.getSchemaTpl)("checkAll"),(0,l.getSchemaTpl)("labelRemark"),(0,l.getSchemaTpl)("remark"),(0,l.getSchemaTpl)("placeholder"),(0,l.getSchemaTpl)("description")]},{title:"选项",body:[(0,l.getSchemaTpl)("optionControl"),(0,l.getSchemaTpl)("menuTpl"),(0,l.getSchemaTpl)("value",{visibleOn:"this.options == null"}),(0,l.getSchemaTpl)("creatable",{formType:"extend",hiddenOnDefault:!0,form:{body:[(0,l.getSchemaTpl)("createBtnLabel"),(0,l.getSchemaTpl)("addApi")]}}),(0,l.getSchemaTpl)("editable",{type:"ae-Switch-More",formType:"extend",hiddenOnDefault:!0,form:{body:[(0,l.getSchemaTpl)("editApi")]}}),(0,l.getSchemaTpl)("removable",{type:"ae-Switch-More",formType:"extend",hiddenOnDefault:!0,form:{body:[(0,l.getSchemaTpl)("deleteApi")]}})]},(0,l.getSchemaTpl)("status",{isFormItem:!0}),(0,l.getSchemaTpl)("validation",{tag:r.ValidatorTag.MultiSelect})])},{title:"外观",body:[(0,l.getSchemaTpl)("collapseGroup",[(0,l.getSchemaTpl)("style:formItem",{renderer:e.info.renderer}),(0,l.getSchemaTpl)("style:classNames")])]},{title:"事件",className:"p-none",body:[(0,l.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,s.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(o.BasePlugin);t.SelectControlPlugin=d,(0,i.registerEditorPlugin)(d)},7681:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StaticControlPlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(1502),o=a(9547),r=a(9756),s=a(9933),d=a(6374),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="static",t.$schema="/schemas/StaticControlSchema.json",t.order=-390,t.name="静态展示框",t.isBaseComponent=!0,t.icon="fa fa-info",t.description="纯用来展示数据，可用来展示<code>json、date、image、progress</code>等数据",t.docLink="/amis/zh-CN/components/form/static",t.tags=["表单项"],t.scaffold={type:"static",label:"描述"},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign(n.__assign({},t.scaffold),{value:"静态值"})]},t.multifactor=!0,t.panelTitle="静态展示",t.panelBodyCreator=function(e){return[(0,o.getSchemaTpl)("switchDefaultValue"),{type:"input-text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},{name:"quickEdit",label:"启用快速编辑",type:"switch",pipeIn:function(e){return!!e},mode:"inline",className:"w-full"},{visibleOn:"data.quickEdit",name:"quickEdit.mode",type:"button-group-select",value:"popOver",label:"快速编辑模式",size:"xs",mode:"inline",className:"w-full",options:[{label:"下拉",value:"popOver"},{label:"内嵌",value:"inline"}]},{visibleOn:"data.quickEdit",name:"quickEdit.saveImmediately",label:"是否立即保存",type:"switch",mode:"inline",className:"w-full",description:"开启后修改即提交，而不是标记修改批量提交。",descriptionClassName:"help-block m-b-none",pipeIn:function(e){return!!e}},(0,o.getSchemaTpl)("api",{label:"立即保存接口",description:"是否单独给立即保存配置接口，如果不配置，则默认使用quickSaveItemApi。",name:"quickEdit.saveImmediately.api",visibleOn:"this.quickEdit && this.quickEdit.saveImmediately"}),{visibleOn:"data.quickEdit",name:"quickEdit",asFormItem:!0,children:function(e){var a=e.value,o=e.onChange,r=e.data;!0===a&&(a={});var s=a.mode;return delete(a=n.__assign({type:"input-text",name:r.name},a)).mode,l.default.createElement(i.Button,{level:"info",className:"m-b",size:"sm",block:!0,onClick:function(){t.manager.openSubEditor({title:"配置快速编辑类型",value:a,slot:{type:"form",mode:"normal",body:["$$"],wrapWithPanel:!1},onChange:function(e){return o(n.__assign(n.__assign({},e),{mode:s}),"quickEdit")}})}},"配置快速编辑")}},{name:"popOver",label:"启用查看更多展示",type:"switch",pipeIn:function(e){return!!e},mode:"inline",className:"w-full"},{name:"popOver.mode",label:"查看更多弹出模式",type:"select",visibleOn:"data.popOver",pipeIn:(0,o.defaultValue)("popOver"),options:[{label:"默认",value:"popOver"},{label:"弹框",value:"dialog"},{label:"抽出式弹框",value:"drawer"}]},{name:"popOver.position",label:"查看更多弹出模式",type:"select",visibleOn:'data.popOver && data.popOver.mode === "popOver"',pipeIn:(0,o.defaultValue)("center"),options:[{label:"目标中部",value:"center"},{label:"目标左上角",value:"left-top"},{label:"目标右上角",value:"right-top"},{label:"目标左下角",value:"left-bottom"},{label:"目标右下角",value:"right-bottom"},{label:"页面左上角",value:"fixed-left-top"},{label:"页面右上角",value:"fixed-right-top"},{label:"页面左下角",value:"fixed-left-bottom"},{label:"页面右下角",value:"fixed-right-bottom"}]},{visibleOn:"data.popOver",name:"popOver",asFormItem:!0,children:function(e){var a=e.value,o=e.onChange;return a=n.__assign({type:"panel",title:"查看详情",body:"内容详情"},a),l.default.createElement(i.Button,{level:"info",className:"m-b",size:"sm",block:!0,onClick:function(){t.manager.openSubEditor({title:"配置查看更多展示内容",value:a,onChange:function(e){return o(e,"quickEdit")}})}},"查看更多内容配置")}},(0,o.getSchemaTpl)("borderMode"),{name:"copyable",label:"启用内容复制功能",type:"switch",pipeIn:function(e){return!!e},mode:"inline",className:"w-full"},{visibleOn:"data.copyable",name:"copyable.content",type:"textarea",label:"复制内容模板",description:"默认为当前字段值，可定制。"}]},t}return n.__extends(t,e),t.prototype.filterProps=function(e,t){return e.$$id=t.id,void 0===e.value&&(e.value=(0,d.mockValue)(e)),e},t}(s.BasePlugin);t.StaticControlPlugin=c,(0,r.registerEditorPlugin)(c)},9940:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SwitchControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=a(9933),r=a(2759),s=a(6294),d=a(3570),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="switch",t.$schema="/schemas/SwitchControlSchema.json",t.order=-400,t.name="开关",t.isBaseComponent=!0,t.icon="fa fa-toggle-on",t.description="开关控件",t.docLink="/amis/zh-CN/components/form/switch",t.tags=["表单项"],t.scaffold={type:"switch",option:"开关",name:"switch",falseValue:!1,trueValue:!0},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign(n.__assign({},t.scaffold),{label:"开关表单"})]},t.notRenderFormZone=!0,t.panelTitle="开关",t.events=[{eventName:"change",eventLabel:"值变化",description:"开关值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"开关值"}}}]}],t.actions=[{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelJustify=!0,t.panelBodyCreator=function(e){return(0,l.getSchemaTpl)("tabs",[{title:"属性",body:(0,l.getSchemaTpl)("collapseGroup",[{title:"基本",body:[(0,l.getSchemaTpl)("formItemName",{required:!0}),(0,l.getSchemaTpl)("label"),{name:"option",type:"input-text",label:"说明"},{type:"ae-Switch-More",bulk:!0,mode:"normal",label:"填充文本",formType:"extend",form:{body:[{name:"onText",type:"input-text",label:"开启时"},{name:"offText",type:"input-text",label:"关闭时"}]}},{type:"ae-Switch-More",bulk:!0,mode:"normal",label:(0,r.tipedLabel)("值格式","默认勾选后的值 true，未勾选的值 false"),formType:"extend",form:{body:[{type:"input-text",label:"勾选后的值",name:"trueValue",value:!0,pipeOut:l.valuePipeOut,onChange:function(e,t,a,n){t===n.getValueByName("value")&&n.setValueByName("value",e)}},{type:"input-text",label:"未勾选的值",name:"falseValue",value:!1,pipeOut:l.valuePipeOut,onChange:function(e,t,a,n){t===n.getValueByName("value")&&n.setValueByName("value",e)}}]}},(0,l.getSchemaTpl)("switch",{name:"value",label:"默认开启",pipeIn:function(e,t){var a=(t.data||{}).trueValue;return e===(void 0===a||a)},pipeOut:function(e,t,a){return e?a.trueValue||!0:a.falseValue||!1}}),(0,l.getSchemaTpl)("labelRemark"),(0,l.getSchemaTpl)("remark"),(0,l.getSchemaTpl)("description")]},(0,l.getSchemaTpl)("status",{isFormItem:!0}),(0,l.getSchemaTpl)("validation",{tag:s.ValidatorTag.Check})])},{title:"外观",body:(0,l.getSchemaTpl)("collapseGroup",[(0,l.getSchemaTpl)("style:formItem",{renderer:e.info.renderer}),{title:"说明",body:[(0,l.getSchemaTpl)("horizontal-align",{name:"optionAtLeft",pipeIn:function(e){return e?"left":"right"},pipeOut:function(e){return"left"===e||void 0}})]},(0,l.getSchemaTpl)("style:classNames")])},{title:"事件",className:"p-none",body:[(0,l.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,d.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(o.BasePlugin);t.SwitchControlPlugin=c,(0,i.registerEditorPlugin)(c)},9352:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TabsTransferPlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(9547),o=a(9756),r=a(9933),s=a(3570),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="tabs-transfer",t.$schema="/schemas/TransferControlSchema.json",t.name="组合穿梭器",t.isBaseComponent=!0,t.icon="fa fa-th-list",t.description="组合穿梭器组件",t.docLink="/amis/zh-CN/components/form/transfer",t.tags=["表单项"],t.scaffold={label:"组合穿梭器",type:"tabs-transfer",name:"a",sortable:!0,searchable:!0,options:[{label:"成员",selectMode:"tree",children:[{label:"法师",children:[{label:"诸葛亮",value:"zhugeliang"}]},{label:"战士",children:[{label:"曹操",value:"caocao"},{label:"钟无艳",value:"zhongwuyan"}]},{label:"打野",children:[{label:"李白",value:"libai"},{label:"韩信",value:"hanxin"},{label:"云中君",value:"yunzhongjun"}]}]},{label:"用户",selectMode:"chained",children:[{label:"法师",children:[{label:"诸葛亮",value:"zhugeliang2"}]},{label:"战士",children:[{label:"曹操",value:"caocao2"},{label:"钟无艳",value:"zhongwuyan2"}]},{label:"打野",children:[{label:"李白",value:"libai2"},{label:"韩信",value:"hanxin2"},{label:"云中君",value:"yunzhongjun2"}]}]}]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="组合穿梭器",t.events=[{eventName:"change",eventLabel:"值变化",description:"选中值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]},{eventName:"selectAll",eventLabel:"全选",description:"选中所有选项",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]},{eventName:"tab-change",eventLabel:"选项卡切换",description:"选项卡切换时触发",dataSchema:[{type:"object",properties:{"event.data.key":{type:"string",title:"当前激活的选项卡索引"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清空选中内容"},{actionType:"reset",actionLabel:"重置",description:"重置选择的内容"},{actionType:"changeTabKey",actionLabel:"修改选中tab",description:"修改当前选中tab，来选择其他选项",desc:function(e){return l.default.createElement("div",null,l.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"修改选中tab")}},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelDefinitions={options:{label:"选项 Options",name:"options",type:"combo",multiple:!0,multiLine:!0,draggable:!0,addButtonText:"新增选项",scaffold:{label:"",value:""},items:[{type:"group",body:[{type:"input-text",name:"label",placeholder:"名称",required:!0},{type:"input-text",name:"value",placeholder:"值",unique:!0}]},{$ref:"options",label:"子选项",name:"children",addButtonText:"新增子选项"}]}},t.panelBodyCreator=function(e){return e.info.renderer,(0,i.getSchemaTpl)("tabs",[{title:"属性",body:(0,i.getSchemaTpl)("collapseGroup",[(0,i.getSchemaTpl)("switchDefaultValue"),{type:"select",name:"value",label:"默认值",source:"${options}",multiple:!0,visibleOn:'typeof this.value !== "undefined"'},(0,i.getSchemaTpl)("searchable"),(0,i.getSchemaTpl)("api",{label:"检索接口",name:"searchApi"}),{label:"查询时勾选展示模式",name:"searchResultMode",type:"select",mode:"inline",className:"w-full",options:[{label:"列表形式",value:"list"},{label:"表格形式",value:"table"},{label:"树形选择形式",value:"tree"},{label:"级联选择形式",value:"chained"}]},(0,i.getSchemaTpl)("sortable"),{label:"左侧的标题文字",name:"selectTitle",type:"input-text"},{label:"右侧结果的标题文字",name:"resultTitle",type:"input-text"},(0,i.getSchemaTpl)("fieldSet",{title:"选项",body:[{$ref:"options",name:"options"},(0,i.getSchemaTpl)("source"),(0,i.getSchemaTpl)("joinValues"),(0,i.getSchemaTpl)("delimiter"),(0,i.getSchemaTpl)("extractValue"),(0,i.getSchemaTpl)("autoFill")]})])},{title:"事件",className:"p-none",body:[(0,i.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,s.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(r.BasePlugin);t.TabsTransferPlugin=d,(0,o.registerEditorPlugin)(d)},9351:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextareaControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=a(9933),r=a(2759),s=a(6294),d=a(3570),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="textarea",t.$schema="/schemas/TextareaControlSchema.json",t.order=-490,t.name="多行文本框",t.isBaseComponent=!0,t.icon="fa fa-paragraph",t.description="支持换行输入",t.docLink="/amis/zh-CN/components/form/textarea",t.tags=["表单项"],t.scaffold={type:"textarea",label:"多行文本",name:"textarea"},t.previewSchema={type:"form",className:"text-left",wrapWithPanel:!1,mode:"horizontal",body:n.__assign({},t.scaffold)},t.notRenderFormZone=!0,t.panelTitle="多行文本",t.events=[{eventName:"change",eventLabel:"值变化",description:"输入框值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"输入值"}}}]},{eventName:"focus",eventLabel:"获取焦点",description:"输入框获取焦点时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"输入值"}}}]},{eventName:"blur",eventLabel:"失去焦点",description:"输入框失去焦点时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"输入值"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清空输入框内容"},{actionType:"reset",actionLabel:"重置",description:"将值重置为resetValue，若没有配置resetValue，则清空"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelJustify=!0,t.panelBodyCreator=function(e){return(0,l.getSchemaTpl)("tabs",[{title:"属性",body:(0,l.getSchemaTpl)("collapseGroup",[{title:"基本",body:[(0,l.getSchemaTpl)("formItemName",{required:!0}),(0,l.getSchemaTpl)("label"),{type:"textarea",name:"value",label:"默认值"},(0,l.getSchemaTpl)("switch",{name:"trimContents",pipeIn:(0,l.defaultValue)(!0),label:(0,r.tipedLabel)("去除首尾空白","开启后，将不允许用户输入前后空格")}),(0,l.getSchemaTpl)("showCounter"),(0,l.getSchemaTpl)("labelRemark"),(0,l.getSchemaTpl)("remark"),(0,l.getSchemaTpl)("placeholder"),(0,l.getSchemaTpl)("description")]},(0,l.getSchemaTpl)("status",{isFormItem:!0,readonly:!0}),(0,l.getSchemaTpl)("validation",{tag:s.ValidatorTag.Text})])},{title:"外观",body:[(0,l.getSchemaTpl)("collapseGroup",[(0,l.getSchemaTpl)("style:formItem",{renderer:e.info.renderer,schema:[{type:"input-number",name:"minRows",value:3,label:"最小展示行数"},{type:"input-number",name:"maxRows",value:20,label:"最大展示行数"}]}),(0,l.getSchemaTpl)("style:classNames")])]},{title:"事件",className:"p-none",body:[(0,l.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,d.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(o.BasePlugin);t.TextareaControlPlugin=c,(0,i.registerEditorPlugin)(c)},6682:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TransferPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=a(9933),r=a(3570),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="transfer",t.$schema="/schemas/TransferControlSchema.json",t.name="穿梭器",t.isBaseComponent=!0,t.icon="fa fa-th-list",t.description="穿梭器组件",t.docLink="/amis/zh-CN/components/form/transfer",t.tags=["表单项"],t.scaffold={label:"分组",type:"transfer",name:"transfer",options:[{label:"法师",children:[{label:"诸葛亮",value:"zhugeliang"}]},{label:"战士",children:[{label:"曹操",value:"caocao"},{label:"钟无艳",value:"zhongwuyan"}]},{label:"打野",children:[{label:"李白",value:"libai"},{label:"韩信",value:"hanxin"},{label:"云中君",value:"yunzhongjun"}]}]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="穿梭器",t.events=[{eventName:"change",eventLabel:"值变化",description:"输入框失去焦点时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]},{eventName:"selectAll",eventLabel:"全选",description:"选中所有选项",dataSchema:[{type:"object",properties:{"event.data":{type:"array",title:"选中值"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清空选中内容"},{actionType:"reset",actionLabel:"重置",description:"重置选择的内容"},{actionType:"selectAll",actionLabel:"全选",description:"选中所有选项"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新，多值用“,”分隔"}],t.panelDefinitions={options:{label:"选项 Options",name:"options",type:"combo",multiple:!0,multiLine:!0,draggable:!0,addButtonText:"新增选项",scaffold:{label:"",value:""},items:[{type:"group",body:[{type:"input-text",name:"label",placeholder:"名称",required:!0},{type:"input-text",name:"value",placeholder:"值",unique:!0}]},{$ref:"options",label:"子选项",name:"children",addButtonText:"新增子选项"}]}},t.panelBodyCreator=function(e){return e.info.renderer,(0,l.getSchemaTpl)("tabs",[{title:"属性",body:(0,l.getSchemaTpl)("collapseGroup",[(0,l.getSchemaTpl)("switchDefaultValue"),{type:"select",name:"value",label:"默认值",source:"${options}",visibleOn:'!data.multiple && typeof this.value !== "undefined"'},{type:"select",name:"value",label:"默认值",source:"${options}",multiple:!0,visibleOn:' data.multiple && typeof this.value !== "undefined"'},{label:"勾选展示模式",name:"selectMode",type:"select",mode:"inline",className:"w-full",options:[{label:"列表形式",value:"list"},{label:"表格形式",value:"table"},{label:"树形选择形式",value:"tree"},{label:"级联选择形式",value:"chained"},{label:"关联选择形式",value:"associated"}]},{name:"columns",type:"combo",multiple:!0,label:!1,strictMode:!1,addButtonText:"新增一列",draggable:!1,visibleOn:'data.selectMode === "table"',items:[{type:"input-text",name:"label",placeholder:"标题"},{type:"input-text",name:"name",placeholder:"绑定字段名"},{type:"select",name:"type",placeholder:"类型",value:"input-text",options:[{value:"text",label:"纯文本"},{value:"tpl",label:"模板"},{value:"image",label:"图片"},{value:"date",label:"日期"},{value:"progress",label:"进度"},{value:"status",label:"状态"},{value:"mapping",label:"映射"},{value:"operation",label:"操作栏"}]}]},{$ref:"options",label:"左边的选项集",name:"leftOptions",visibleOn:'data.selectMode === "associated"'},{label:"左侧选择形式",name:"leftMode",type:"select",mode:"inline",className:"w-full",visibleOn:'data.selectMode === "associated"',options:[{label:"列表形式",value:"list"},{label:"树形选择形式",value:"tree"}]},{label:"右侧选择形式",name:"rightMode",type:"select",mode:"inline",className:"w-full",visibleOn:'data.selectMode === "associated"',options:[{label:"列表形式",value:"list"},{label:"树形选择形式",value:"tree"}]},(0,l.getSchemaTpl)("searchable"),(0,l.getSchemaTpl)("api",{label:"检索接口",name:"searchApi"}),{label:"查询时勾选展示模式",name:"searchResultMode",type:"select",mode:"inline",className:"w-full",options:[{label:"列表形式",value:"list"},{label:"表格形式",value:"table"},{label:"树形选择形式",value:"tree"},{label:"级联选择形式",value:"chained"}]},(0,l.getSchemaTpl)("sortable"),(0,l.getSchemaTpl)("selectFirst"),(0,l.getSchemaTpl)("switch",{label:"是否显示统计数据",name:"statistics"}),{label:"左侧的标题文字",name:"selectTitle",type:"input-text"},{label:"右侧结果的标题文字",name:"resultTitle",type:"input-text"},(0,l.getSchemaTpl)("fieldSet",{title:"选项",body:[{$ref:"options",name:"options"},(0,l.getSchemaTpl)("source"),(0,l.getSchemaTpl)("joinValues"),(0,l.getSchemaTpl)("delimiter"),(0,l.getSchemaTpl)("extractValue"),(0,l.getSchemaTpl)("autoFill")]})])},{title:"事件",className:"p-none",body:[(0,l.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,r.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(o.BasePlugin);t.TransferPlugin=s,(0,i.registerEditorPlugin)(s)},3914:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TreeSelectControlPlugin=void 0;var n=a(752),l=a(9547),i=a(9756),o=a(9933),r=a(3570),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="tree-select",t.$schema="/schemas/TreeSelectControlSchema.json",t.name="树下拉框",t.isBaseComponent=!0,t.icon="fa fa-chevron-down",t.description="点击输入框，弹出树型选择框进行选择",t.docLink="/amis/zh-CN/components/form/treeselect",t.tags=["表单项"],t.scaffold={type:"tree-select",label:"树下拉框",name:"tree-select",options:[{label:"选项A",value:"A",children:[{label:"选项C",value:"C"},{label:"选项D",value:"D"}]},{label:"选项B",value:"B"}]},t.previewSchema={type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:n.__assign({},t.scaffold)},t.notRenderFormZone=!0,t.panelTitle="树下拉",t.events=[{eventName:"change",eventLabel:"值变化",description:"选中值变化时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中节点的值"}}}]},{eventName:"add",eventLabel:"新增选项",description:"新增选项提交时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"object",title:"新增的选项信息"},"event.data.options":{type:"array",title:"选项集合"}}}]},{eventName:"edit",eventLabel:"编辑选项",description:"编辑选项提交时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"object",title:"编辑的选项信息"},"event.data.options":{type:"array",title:"选项集合"}}}]},{eventName:"delete",eventLabel:"删除节点",description:"删除选项提交时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"object",title:"删除的选项信息"},"event.data.options":{type:"array",title:"选项集合"}}}]},{eventName:"loadFinished",eventLabel:"懒加载完成",description:"懒加载接口远程请求成功时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"deferApi 懒加载远程请求成功后返回的数据"}}}]},{eventName:"focus",eventLabel:"获取焦点",description:"输入框获取焦点时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]},{eventName:"blur",eventLabel:"失去焦点",description:"输入框失去焦点时触发",dataSchema:[{type:"object",properties:{"event.data.value":{type:"string",title:"选中值"}}}]}],t.actions=[{actionType:"clear",actionLabel:"清空",description:"清除数据"},{actionType:"reset",actionLabel:"重置",description:"重置数据"},{actionType:"setValue",actionLabel:"赋值",description:"触发组件数据更新"}],t.panelDefinitions={options:{label:"选项 Options",name:"options",type:"combo",multiple:!0,multiLine:!0,draggable:!0,addButtonText:"新增选项",scaffold:{label:"",value:""},items:[{type:"group",body:[{type:"input-text",name:"label",placeholder:"名称",required:!0},{type:"input-text",name:"value",placeholder:"值",unique:!0}]},{$ref:"options",label:"子选项",name:"children",addButtonText:"新增子选项"}]}},t.panelBodyCreator=function(e){return[(0,l.getSchemaTpl)("tabs",[{title:"常规",body:[(0,l.getSchemaTpl)("switchDefaultValue"),{type:"input-text",name:"value",label:"默认值",visibleOn:'typeof this.value !== "undefined"'},(0,l.getSchemaTpl)("clearable"),(0,l.getSchemaTpl)("hideNodePathLabel"),(0,l.getSchemaTpl)("fieldSet",{title:"选项",body:[{$ref:"options",name:"options"},(0,l.getSchemaTpl)("source",{sampleBuilder:function(e){return JSON.stringify({status:0,msg:"",data:{options:[{label:"选项A",value:"a",children:[{label:"子选项",value:"c"}]},{label:"选项B",value:"b"}]}},null,2)}}),(0,l.getSchemaTpl)("api",{name:"autoComplete",label:"自动完成接口",description:"每次输入新内容后，将调用接口，根据接口返回更新选项。当前用户输入值在 `\\${term}` 中。<code>请不要与获取选项接口同时设置。</code>"}),(0,l.getSchemaTpl)("switch",{name:"initiallyOpen",label:"是否默认展开子选项",pipeIn:(0,l.defaultValue)(!0)}),{type:"input-text",name:"unfoldedLevel",label:"选项默认展开级数",visibleOn:'typeof this.initiallyOpen !== "undefined" || !this.initiallyOpen'},(0,l.getSchemaTpl)("switch",{name:"showIcon",label:"是否显示图标",pipeIn:(0,l.defaultValue)(!0)}),(0,l.getSchemaTpl)("searchable"),(0,l.getSchemaTpl)("switch",{label:"是否显示单选按钮",name:"showRadio",visibleOn:"!data.multiple"}),(0,l.getSchemaTpl)("multiple"),(0,l.getSchemaTpl)("switch",{name:"cascade",label:"不自动选中子节点",visibleOn:"data.multiple",description:"选中父级时，孩子节点是否自动选中"}),(0,l.getSchemaTpl)("switch",{name:"withChildren",label:"数值是否携带子节点",visibleOn:"data.cascade !== true && data.multiple"}),(0,l.getSchemaTpl)("switch",{name:"onlyChildren",label:"数值是否只包含子节点",visibleOn:"data.cascade !== true && data.multiple",disabledOn:"data.withChildren"}),(0,l.getSchemaTpl)("joinValues"),(0,l.getSchemaTpl)("delimiter"),(0,l.getSchemaTpl)("extractValue"),(0,l.getSchemaTpl)("autoFill"),(0,l.getSchemaTpl)("creatable"),(0,l.getSchemaTpl)("api",{label:"新增选项接口",name:"addApi"}),(0,l.getSchemaTpl)("editable"),(0,l.getSchemaTpl)("api",{label:"编辑选项接口",name:"editApi"}),(0,l.getSchemaTpl)("removable"),(0,l.getSchemaTpl)("api",{label:"删除选项接口",name:"deleteApi"})]})]},{title:"事件",body:[(0,l.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,r.getEventControlConfig)(t.manager,e)))]}])]},t}return n.__extends(t,e),t}(o.BasePlugin);t.TreeSelectControlPlugin=s,(0,i.registerEditorPlugin)(s)},8746:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UUIDControlPlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(9756),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="uuid",t.$schema="/schemas/UUIDControlSchema.json",t.name="UUID",t.isBaseComponent=!0,t.icon="fa fa-eye-slash",t.description="自动生成的 UUID",t.docLink="/amis/zh-CN/components/form/uuid",t.tags=["表单项"],t.scaffold={type:"uuid",name:"uuid"},t.previewSchema={type:"form",wrapWithPanel:!1,body:[n.__assign({},t.scaffold)]},t.panelTitle="UUID",t.panelBody=[{type:"static",value:"自动按 UUID v4 格式生成，无需配置"}],t}return n.__extends(t,e),t.prototype.renderRenderer=function(e){return l.default.createElement("div",{key:e.key,className:"wrapper-sm b-a b-light m-b-sm"},l.default.createElement("span",{className:"text-muted"},"UUID（展现将隐藏）"))},t}(a(9933).BasePlugin);t.UUIDControlPlugin=o,(0,i.registerEditorPlugin)(o)},4887:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GridPlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(9756),r=a(9933),s=a(9547),d=a(5863),c=a(1548),p=a(9942),u=a(3570),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="grid",t.$schema="/schemas/GridSchema.json",t.name="分栏",t.isBaseComponent=!0,t.description="分栏布局",t.docLink="/amis/zh-CN/components/grid",t.tags=["容器"],t.icon="fa fa-th",t.scaffold={type:"grid",columns:[{body:[]},{body:[]}]},t.previewSchema={type:"grid",columns:[{body:[{type:"tpl",tpl:"栏",inline:!1,className:"bg-light wrapper"}]},{body:[{type:"tpl",tpl:"栏",className:"bg-light wrapper",inline:!1}]}]},t.panelTitle="分栏布局",t.panelWithOutOthers=!1,t.vRendererConfig={regions:{body:{key:"body",label:"内容区",placeholder:"栏",wrapperResolve:function(e){return e}}},panelTitle:"栏",panelBodyCreator:function(e){var a=e.node.host;return[(0,s.getSchemaTpl)("tabs",[{title:"属性",className:"p-none",body:[(0,s.getSchemaTpl)("collapseGroup",[{title:"插入",body:[{type:"wrapper",size:"none",className:"grid grid-cols-2 gap-4",body:[a.isSecondFactor?null:{children:i.default.createElement(l.Button,{size:"sm",onClick:function(){return t.insertRowAfter(e.node.host)}},i.default.createElement(p.Icon,{className:"icon",icon:"arrow-to-bottom"}),i.default.createElement("span",null,"下方插入新行"))},a.isSecondFactor?null:{children:i.default.createElement(l.Button,{size:"sm",onClick:function(){return t.insertRowBefore(e.node.host)}},i.default.createElement(p.Icon,{className:"icon",icon:"top-arrow-to-top"}),i.default.createElement("span",null,"上方插入新行"))},{children:i.default.createElement(l.Button,{size:"sm",onClick:function(){return t.insertColumnBefore(e)}},i.default.createElement(p.Icon,{className:"icon",icon:"left-arrow-to-left"}),i.default.createElement("span",null,"左侧插入新列"))},{children:i.default.createElement(l.Button,{size:"sm",onClick:function(){return t.insertColumnAfter(e)}},i.default.createElement(p.Icon,{className:"icon",icon:"arrow-to-right"}),i.default.createElement("span",null,"右侧插入新列"))}].filter((function(e){return e}))}]},{title:"宽度",body:[{type:"button-group-select",name:"md",size:"sm",label:!1,pipeIn:function(e){return"number"==typeof e?"manual":e||""},pipeOut:function(e){return"manual"===e?1:e},tiled:!0,options:[{value:"",label:"适配宽度"},{value:"auto",label:"适配内容"},{value:"manual",label:"手动"}]},{visibleOn:'typeof this.md === "number"',label:"宽度占比",type:"input-range",name:"md",min:1,max:12,step:1}]},{title:"布局",body:[{type:"button-group-select",name:"valign",size:"sm",label:!1,tiled:!0,clearable:!0,options:[{value:"top",label:"顶部对齐"},{value:"middle",label:"中间对齐"},{value:"bottom",label:"底部对齐"},{value:"between",label:"两端对齐"}]}]}])]},{title:"外观",body:[t.panelWithOutOthers?null:(0,s.getSchemaTpl)("className",{label:"栏 CSS 类名",name:"columnClassName"})]}])]}},t.vWrapperResolve=function(e){return e},t.overrides={renderColumn:function(e,t,a){var n,l,o=this.super(e,t,a),r=this.props.$$editor;if(r&&e.$$id){var s=r.plugin,p=null===(l=null===(n=s.vRendererConfig)||void 0===n?void 0:n.regions)||void 0===l?void 0:l.body;return p?i.default.createElement(d.VRenderer,{key:"".concat(e.$$id,"-").concat(t),type:r.type,plugin:r.plugin,renderer:r.renderer,$schema:"/schemas/GridColumn.json",hostId:r.id,memberIndex:t,name:"第".concat(t+1,"栏"),id:e.$$id,draggable:!1,schemaPath:"".concat(r.schemaPath,"/grid/").concat(t),wrapperResolve:s.vWrapperResolve,path:"".concat(this.props.$path,"/").concat(t),data:this.props.data,widthMutable:!0},p?i.default.createElement(c.RegionWrapper,{key:p.key,preferTag:p.preferTag,name:p.key,label:p.label,regionConfig:p,placeholder:p.placeholder,editorStore:s.manager.store,manager:s.manager,children:o,wrapperResolve:p.wrapperResolve,rendererName:r.renderer.name}):o):o}return o}},t}return n.__extends(t,e),t.prototype.panelBodyCreator=function(e){var t=this,a=e.secondFactor;return[(0,s.getSchemaTpl)("tabs",[{title:"属性",className:"p-none",body:[(0,s.getSchemaTpl)("collapseGroup",[{title:"插入",body:[a?null:{type:"wrapper",size:"none",className:"grid grid-cols-2 gap-4 mb-4",body:[{children:i.default.createElement(l.Button,{size:"sm",onClick:function(){return t.insertRowAfter(e.node)}},i.default.createElement(p.Icon,{className:"icon",icon:"arrow-to-bottom"}),i.default.createElement("span",null,"下方插入新行"))},{children:i.default.createElement(l.Button,{size:"sm",onClick:function(){return t.insertRowBefore(e.node)}},i.default.createElement(p.Icon,{className:"icon",icon:"top-arrow-to-top"}),i.default.createElement("span",null,"上方插入新行"))}]}].filter((function(e){return e}))},{title:"布局",body:[{label:"列数",name:"columns",type:"select",pipeIn:function(e){return Array.isArray(e)?e.length:void 0},pipeOut:function(e,t){return Array.isArray(t)&&(t.length>e?(t=t.concat()).splice(e-1,t.length-e):t=t.concat((0,u.repeatArray)({body:[]},e-t.length))),t},options:(0,u.repeatArray)(null,12).map((function(e,t){return{label:"".concat(t+1),value:t+1}}))},{type:"button-group-select",name:"gap",label:"列间距",size:"sm",clearable:!0,tiled:!0,options:[{label:"无",value:"none"},{label:"极小",value:"xs"},{label:"小",value:"sm"},{label:"正常",value:"base"},{label:"中",value:"md"},{label:"大",value:"lg"}]},{type:"button-group-select",name:"align",size:"sm",label:"水平对齐",tiled:!0,pipeIn:(0,s.defaultValue)("left"),options:[{value:"left",label:"左对齐"},{value:"center",label:"中间对齐"},{value:"right",label:"右对齐"},{value:"between",label:"两端对齐"}]},{type:"button-group-select",name:"valign",size:"sm",label:"垂直对齐",tiled:!0,pipeIn:(0,s.defaultValue)("top"),options:[{value:"top",label:"顶部对齐"},{value:"middle",label:"中间对齐"},{value:"bottom",label:"底部对齐"},{value:"between",label:"两端对齐"}]}]}])]},this.panelWithOutOthers?null:{title:"外观",body:[(0,s.getSchemaTpl)("className"),(0,s.getSchemaTpl)("subFormItemMode"),(0,s.getSchemaTpl)("subFormHorizontalMode"),(0,s.getSchemaTpl)("subFormHorizontal")]}])]},t.prototype.afterResolveJsonSchema=function(e){var t,a,n=null===(t=e.context.node.parent)||void 0===t?void 0:t.host;(null===(a=null==n?void 0:n.info)||void 0===a?void 0:a.plugin)===this&&e.setData("/schemas/GridColumn.json")},t.prototype.buildEditorContextMenu=function(e,t){var a,n=this;e.selections.length||(null===(a=e.info)||void 0===a?void 0:a.plugin)!==this||(e.node.isVitualRenderer?(t.push("|"),t.push({label:"左侧插入一栏",onSelect:function(){return n.insertColumnBefore(e)}}),t.push({label:"右侧插入一栏",onSelect:function(){return n.insertColumnAfter(e)}}),t.push("|"),t.push({label:"上方插入一行",onSelect:function(){return n.insertRowBefore(e.node.host)}}),t.push({label:"下方插入一行",onSelect:function(){return n.insertRowAfter(e.node.host)}})):(t.push("|"),t.push({label:"上方插入一行",onSelect:function(){return n.insertRowBefore(e.node)}}),t.push({label:"下方插入一行",onSelect:function(){return n.insertRowAfter(e.node)}})))},t.prototype.onWidthChangeStart=function(e){var t,a,l=e.context,i=l.node;if((null===(t=i.info)||void 0===t?void 0:t.plugin)===this){var o=i.host;if(o&&(null===(a=o.info)||void 0===a?void 0:a.plugin)===this){var r=l.dom,s=r.parentElement;if(s){var d=l.resizer,c=s.getBoundingClientRect(),p=o.schema.columns,u=i.index,m=p[u].md,h=r.getBoundingClientRect();e.setData({onMove:function(e){var t=e.pageX-h.left,a=m=Math.max(1,Math.min(12,Math.round(12*t/c.width)));(p=p.concat())[u]=n.__assign(n.__assign({},p[u]),{md:a}),d.setAttribute("data-value","".concat(a)),o.updateState({columns:p}),requestAnimationFrame((function(){i.calculateHighlightBox()}))},onEnd:function(){o.updateState({},!0),d.removeAttribute("data-value"),i.updateSchema({md:m}),requestAnimationFrame((function(){i.calculateHighlightBox()}))}})}}}},t.prototype.insertRowAfter=function(e){var t,a=this;if((null===(t=e.info)||void 0===t?void 0:t.plugin)===this){var n=this.manager.store,l=n.schema,i=e.id;n.traceableSetSchema((0,u.JSONChangeInArray)(l,i,(function(e,t,n){e.splice(n+1,0,(0,u.JSONPipeIn)({type:a.rendererName||"grid",align:t.align,valign:t.valign,columns:t.columns.map((function(e){return{body:[],md:null==e?void 0:e.md}}))}))})))}},t.prototype.insertRowBefore=function(e){var t,a=this;if((null===(t=e.info)||void 0===t?void 0:t.plugin)===this){var n=this.manager.store,l=n.schema,i=e.id;n.traceableSetSchema((0,u.JSONChangeInArray)(l,i,(function(e,t,n){e.splice(n,0,(0,u.JSONPipeIn)({type:a.rendererName||"grid",align:t.align,valign:t.valign,columns:t.columns.map((function(e){return{body:[],md:null==e?void 0:e.md}}))}))})))}},t.prototype.insertColumnBefore=function(e){var t;if((null===(t=e.node.info)||void 0===t?void 0:t.plugin)===this){var a=this.manager.store,n=e.id,l=a.schema;a.traceableSetSchema((0,u.JSONChangeInArray)(l,n,(function(e,t,a){e.splice(a,0,(0,u.JSONPipeIn)({body:[]}))})))}},t.prototype.insertColumnAfter=function(e){var t;if((null===(t=e.node.info)||void 0===t?void 0:t.plugin)===this){var a=this.manager.store,n=a.schema,l=e.id;a.traceableSetSchema((0,u.JSONChangeInArray)(n,l,(function(e,t,a){e.splice(a+1,0,(0,u.JSONPipeIn)({body:[]}))})))}},t}(r.BasePlugin);t.GridPlugin=m,(0,o.registerEditorPlugin)(m)},2629:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HBoxPlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(9756),r=a(9933),s=a(9547),d=a(5863),c=a(1548),p=a(3570),u=a(9942),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="hbox",t.$schema="/schemas/HBoxSchema.json",t.disabledRendererPlugin=!0,t.name="HBox",t.isBaseComponent=!0,t.icon="fa fa-columns",t.description="用来实现左右排版布局，默认平均分配，可以通过 columnClassName 配置某列的宽度。",t.docLink="/amis/zh-CN/components/hbox",t.tags=["容器"],t.scaffold={type:"hbox",gap:"base",columns:[{body:[]},{body:[]}]},t.previewSchema={type:"hbox",columns:[{type:"tpl",tpl:"固定宽度<br />w-xs",columnClassName:"bg-primary w-xs"},{type:"tpl",tpl:"自动填满",columnClassName:"bg-success"}]},t.panelTitle="HBox",t.panelBodyCreator=function(e){return[(0,s.getSchemaTpl)("tabs",[{title:"常规",body:[(0,s.getSchemaTpl)("fieldSet",{title:"插入",collapsable:!1,body:[{type:"wrapper",size:"none",className:"grid grid-cols-2 gap-4 mb-4",body:[{children:i.default.createElement(l.Button,{size:"sm",onClick:function(){return t.insertRowAfter(e.node)}},i.default.createElement(u.Icon,{className:"icon",icon:"arrow-to-bottom"}),i.default.createElement("span",null,"下方插入新行"))},{children:i.default.createElement(l.Button,{size:"sm",onClick:function(){return t.insertRowBefore(e.node)}},i.default.createElement(u.Icon,{className:"icon",icon:"top-arrow-to-top"}),i.default.createElement("span",null,"上方插入新行"))}]},{label:"列数",name:"columns",type:"select",pipeIn:function(e){return Array.isArray(e)?e.length:void 0},pipeOut:function(e,t){return Array.isArray(t)&&(t.length>e?(t=t.concat()).splice(e-1,t.length-e):t=t.concat((0,p.repeatArray)({body:[]},e-t.length))),t},options:(0,p.repeatArray)(null,12).map((function(e,t){return{label:"".concat(t+1),value:t+1}}))}]}),{type:"list-select",name:"gap",label:"列间距",size:"sm",clearable:!0,tiled:!0,options:[{label:"极小",value:"xs"},{label:"小",value:"sm"},{label:"正常",value:"base"},{label:"中",value:"md"},{label:"大",value:"lg"}]},{name:"columns",label:"列集合",type:"combo",scaffold:{body:[]},minLength:1,multiple:!0,draggableTip:"",items:[{type:"tpl",tpl:'<span class="label label-default">列${index | plus}</span>',columnClassName:"no-grow v-middle"},(0,s.getSchemaTpl)("className",{name:"columnClassName",labelRemark:"",label:""})]},(0,s.getSchemaTpl)("fieldSet",{title:"水平对齐",collapsable:!1,body:[{type:"button-group-select",name:"align",size:"sm",label:!1,tiled:!0,pipeIn:(0,s.defaultValue)("left"),options:[{value:"left",label:"左对齐"},{value:"center",label:"中间对齐"},{value:"right",label:"右对齐"},{value:"between",label:"两端对齐"}]}]}),(0,s.getSchemaTpl)("fieldSet",{title:"垂直对齐",collapsable:!1,body:[{type:"button-group-select",name:"valign",size:"sm",label:!1,tiled:!0,pipeIn:(0,s.defaultValue)("top"),options:[{value:"top",label:"顶部对齐"},{value:"middle",label:"中间对齐"},{value:"bottom",label:"底部对齐"},{value:"between",label:"两端对齐"}]}]})]},{title:"外观",body:[(0,s.getSchemaTpl)("className"),(0,s.getSchemaTpl)("subFormItemMode"),(0,s.getSchemaTpl)("subFormHorizontalMode"),(0,s.getSchemaTpl)("subFormHorizontal")]},{title:"显隐",body:[(0,s.getSchemaTpl)("visible")]}])]},t.vRendererConfig={regions:{body:{key:"body",label:"内容区",placeholder:"列",wrapperResolve:function(e){return e}}},panelTitle:"列",panelBodyCreator:function(e){return[(0,s.getSchemaTpl)("tabs",[{title:"常规",body:[(0,s.getSchemaTpl)("fieldSet",{title:"插入",collapsable:!1,body:[{type:"wrapper",size:"none",className:"grid grid-cols-2 gap-4",body:[{children:i.default.createElement(l.Button,{size:"sm",onClick:function(){return t.insertRowAfter(e.node.host)}},i.default.createElement(u.Icon,{className:"icon",icon:"arrow-to-bottom"}),i.default.createElement("span",null,"下方插入新行"))},{children:i.default.createElement(l.Button,{size:"sm",onClick:function(){return t.insertRowBefore(e.node.host)}},i.default.createElement(u.Icon,{className:"icon",icon:"top-arrow-to-top"}),i.default.createElement("span",null,"上方插入新行"))},{children:i.default.createElement(l.Button,{size:"sm",onClick:function(){return t.insertColumnBefore(e)}},i.default.createElement(u.Icon,{className:"icon",icon:"left-arrow-to-left"}),i.default.createElement("span",null,"左侧插入新列"))},{children:i.default.createElement(l.Button,{size:"sm",onClick:function(){return t.insertColumnAfter(e)}},i.default.createElement(u.Icon,{className:"icon",icon:"arrow-to-right"}),i.default.createElement("span",null,"右侧插入新列"))}]}]}),(0,s.getSchemaTpl)("fieldSet",{title:"宽度设置",collapsable:!1,body:[{type:"button-group-select",name:"width",size:"sm",label:!1,pipeIn:function(e){return e&&"auto"!==e?"manual":e||""},pipeOut:function(e){return"manual"===e?"20%":e},options:[{value:"",label:"适配宽度"},{value:"auto",label:"适配内容"},{value:"manual",label:"手动"}],description:'<% if (this.width && this.width !== "auto") {%>请按住高亮框右侧方块拖动调整宽度<%}%>'}]}),(0,s.getSchemaTpl)("fieldSet",{title:"垂直对齐",collapsable:!1,body:[{type:"button-group-select",name:"valign",size:"sm",label:!1,tiled:!0,clearable:!0,options:[{value:"top",label:"顶部对齐"},{value:"middle",label:"中间对齐"},{value:"bottom",label:"底部对齐"},{value:"between",label:"两端对齐"}]}]})]},{title:"外观",body:[(0,s.getSchemaTpl)("className",{name:"columnClassName",label:"列 CSS 类名",description:"可以添加宽度类样式调整宽度，默认宽度为平均分配。"})]}])]}},t.vWrapperResolve=function(e){return e},t.overrides={renderColumn:function(e,t){var a,n,l=this.super(e,t),o=this.props.$$editor;if(o&&e.$$id){var r=o.plugin,s=null===(n=null===(a=r.vRendererConfig)||void 0===a?void 0:a.regions)||void 0===n?void 0:n.body;return s?i.default.createElement(d.VRenderer,{key:e.$$id,type:o.type,plugin:o.plugin,renderer:o.renderer,$schema:"",hostId:o.id,memberIndex:t,name:"第".concat(t+1,"列"),id:e.$$id,draggable:!1,schemaPath:"".concat(o.schemaPath,"/hbox/").concat(t),wrapperResolve:r.vWrapperResolve,path:"".concat(this.props.$path,"/").concat(t),data:this.props.data,widthMutable:!0},s?i.default.createElement(c.RegionWrapper,{key:s.key,preferTag:s.preferTag,name:s.key,label:s.label,regionConfig:s,placeholder:s.placeholder,editorStore:r.manager.store,manager:r.manager,children:l,wrapperResolve:s.wrapperResolve,rendererName:o.renderer.name}):l):l}return l}},t}return n.__extends(t,e),t.prototype.afterResolveJsonSchema=function(e){var t,a,n=null===(t=e.context.node.parent)||void 0===t?void 0:t.host;(null===(a=null==n?void 0:n.info)||void 0===a?void 0:a.plugin)===this&&e.setData("/schemas/HBoxColumn.json")},t.prototype.buildEditorContextMenu=function(e,t){var a,n=this;e.selections.length||(null===(a=e.info)||void 0===a?void 0:a.plugin)!==this||(e.node.isVitualRenderer?(t.push("|"),t.push({label:"左侧插入一列",onSelect:function(){return n.insertColumnBefore(e)}}),t.push({label:"右侧插入一列",onSelect:function(){return n.insertColumnAfter(e)}}),t.push("|"),t.push({label:"上方插入一行",onSelect:function(){return n.insertRowBefore(e.node.host)}}),t.push({label:"下方插入一行",onSelect:function(){return n.insertRowAfter(e.node.host)}})):(t.push("|"),t.push({label:"上方插入一行",onSelect:function(){return n.insertRowBefore(e.node)}}),t.push({label:"下方插入一行",onSelect:function(){return n.insertRowAfter(e.node)}})))},t.prototype.onWidthChangeStart=function(e){var t,a,l=e.context,i=l.node;if((null===(t=i.info)||void 0===t?void 0:t.plugin)===this){var o=i.host;if(o&&(null===(a=o.info)||void 0===a?void 0:a.plugin)===this){var r=l.dom,s=r.parentElement;if(s){var d=l.resizer,c=s.getBoundingClientRect(),p=o.schema.columns,u=i.index,m=p[u].width,h=r.getBoundingClientRect();e.setData({onMove:function(e){var t=e.pageX-h.left,a=m="".concat(Math.max(1,Math.min(99,Math.round(100*t/c.width))),"%");(p=p.concat())[u]=n.__assign(n.__assign({},p[u]),{width:a}),d.setAttribute("data-value",a),o.updateState({columns:p}),requestAnimationFrame((function(){i.calculateHighlightBox()}))},onEnd:function(){o.updateState({},!0),d.removeAttribute("data-value"),i.updateSchema({width:m}),requestAnimationFrame((function(){i.calculateHighlightBox()}))}})}}}},t.prototype.insertRowAfter=function(e){var t;if((null===(t=e.info)||void 0===t?void 0:t.plugin)===this){var a=this.manager.store,n=a.schema,l=e.id;a.traceableSetSchema((0,p.JSONChangeInArray)(n,l,(function(e,t,a){e.splice(a+1,0,(0,p.JSONPipeIn)({type:"hbox",align:t.align,valign:t.valign,columns:t.columns.map((function(e){return{body:[],width:null==e?void 0:e.width}}))}))})))}},t.prototype.insertRowBefore=function(e){var t;if((null===(t=e.info)||void 0===t?void 0:t.plugin)===this){var a=this.manager.store,n=e.id,l=a.schema;a.traceableSetSchema((0,p.JSONChangeInArray)(l,n,(function(e,t,a){e.splice(a,0,(0,p.JSONPipeIn)({type:"hbox",align:t.align,valign:t.valign,columns:t.columns.map((function(e){return{body:[],width:null==e?void 0:e.width}}))}))})))}},t.prototype.insertColumnBefore=function(e){var t;if((null===(t=e.node.info)||void 0===t?void 0:t.plugin)===this){var a=this.manager.store,n=a.schema,l=e.id;a.traceableSetSchema((0,p.JSONChangeInArray)(n,l,(function(e,t,a){e.splice(a,0,(0,p.JSONPipeIn)({body:[]}))})))}},t.prototype.insertColumnAfter=function(e){var t;if((null===(t=e.node.info)||void 0===t?void 0:t.plugin)===this){var a=e.id,n=this.manager.store,l=n.schema;n.traceableSetSchema((0,p.JSONChangeInArray)(l,a,(function(e,t,a){e.splice(a+1,0,(0,p.JSONPipeIn)({body:[]}))})))}},t}(r.BasePlugin);t.HBoxPlugin=m,(0,o.registerEditorPlugin)(m)},7863:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IFramePlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(2759),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="iframe",t.$schema="/schemas/IFrameSchema.json",t.name="iFrame",t.isBaseComponent=!0,t.description="可以用来嵌入现有页面。",t.tags=["容器"],t.icon="fa fa-window-maximize",t.scaffold={type:"iframe",src:"//www.baidu.com"},t.previewSchema={type:"tpl",tpl:"iFrame"},t.panelTitle="iFrame",t.panelBodyCreator=function(e){return(0,r.formItemControl)({common:{replace:!0,body:[{name:"src",label:"页面地址",type:"input-text",description:""}]},status:{replace:!0,body:[(0,o.getSchemaTpl)("visible")]},style:{replace:!0,body:[{name:"width",label:"iFrame 宽度",type:"input-text",pipeIn:(0,o.defaultValue)("100%"),pipeOut:o.valuePipeOut},{name:"height",label:"iFrame 高度",type:"input-text",pipeOut:o.valuePipeOut},(0,o.getSchemaTpl)("className")]},validation:{hidden:!0}})},t}return n.__extends(t,e),t.prototype.renderRenderer=function(e){return this.renderPlaceholder("IFrame 页面（".concat(e.src,"）"))},t}(i.BasePlugin);t.IFramePlugin=s,(0,l.registerEditorPlugin)(s)},8969:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ImagePlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(6374),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="image",t.$schema="/schemas/ImageSchema.json",t.name="图片展示",t.isBaseComponent=!0,t.description="可以用来展示一张图片，支持静态设置图片地址，也可以配置 <code>name</code> 与变量关联。",t.tags=["展示"],t.icon="fa fa-photo",t.scaffold={type:"image"},t.previewSchema=n.__assign(n.__assign({},t.scaffold),{thumbMode:"cover",value:(0,r.mockValue)({type:"image"})}),t.panelTitle="图片",t.panelBodyCreator=function(e){var t=/\/field\/\w+$/.test(e.path);return[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{name:"imageMode",label:"展示模式",type:"select",pipeIn:(0,o.defaultValue)("thumb"),options:[{label:"缩率图",value:"thumb"},{label:"原图",value:"original"}]},{name:"title",type:"input-text",label:"图片标题"},{name:"imageCaption",type:"input-text",label:"图片描述"},{name:"width",label:"宽度",type:"input-number"},{name:"height",label:"高度",type:"input-number"},t?null:(0,o.getSchemaTpl)("imageUrl",{name:"src",type:"input-text",label:"缩略图地址",description:"如果已绑定字段名，可以不用设置，支持用变量。"}),{type:"input-text",label:"打开外部链接",name:"href"},(0,o.getSchemaTpl)("imageUrl",{name:"defaultImage",label:"无数据时显示的图片"})]},{title:"外观",body:[(0,o.getSchemaTpl)("switch",{name:"enlargeAble",label:"开启图片放大功能"}),(0,o.getSchemaTpl)("imageUrl",{name:"originalSrc",visibleOn:"this.enlargeAble",label:"原图地址",description:"如果不配置将默认使用缩略图地址。"}),(0,o.getSchemaTpl)("switch",{name:"showDimensions",label:"是否显示图片尺寸"}),{name:"thumbMode",type:"button-group-select",label:"缩略图展示模式",size:"sm",pipeIn:(0,o.defaultValue)("contain"),options:[{label:"宽度占满",value:"w-full"},{label:"高度占满",value:"h-full"},{label:"包含",value:"contain"},{label:"铺满",value:"cover"}]},{name:"thumbRatio",type:"button-group-select",label:"缩略图比率",size:"sm",pipeIn:(0,o.defaultValue)("1:1"),options:[{label:"1:1",value:"1:1"},{label:"4:3",value:"4:3"},{label:"16:9",value:"16:9"}]},(0,o.getSchemaTpl)("className",{autoComplete:!1}),(0,o.getSchemaTpl)("className",{name:"imageClassName",label:"图片 CSS 类名"}),(0,o.getSchemaTpl)("className",{name:"thumbClassName",label:"缩略图 CSS 类名"})]},{title:"显隐",body:[(0,o.getSchemaTpl)("visible")]}])]},t}return n.__extends(t,e),t.prototype.onActive=function(e){var t,a=e.context;if((null===(t=a.info)||void 0===t?void 0:t.plugin)===this&&a.node){var n=a.node;n.setHeightMutable(!0),n.setWidthMutable(!0)}},t.prototype.onWidthChangeStart=function(e){return this.onSizeChangeStart(e,"horizontal")},t.prototype.onHeightChangeStart=function(e){return this.onSizeChangeStart(e,"vertical")},t.prototype.onSizeChangeStart=function(e,t){var a;void 0===t&&(t="both");var n=e.context,l=n.node;if((null===(a=l.info)||void 0===a?void 0:a.plugin)===this){var i=n.resizer,o=n.dom,r=o.parentElement.getBoundingClientRect(),s=o.getBoundingClientRect(),d=n.nativeEvent.pageX,c=n.nativeEvent.pageY;e.setData({onMove:function(e){var a=e.pageY-c,n=e.pageX-d,o=Math.max(50,s.height+a),p=Math.max(100,Math.min(s.width+n,r.width)),u={width:p,height:o};"both"===t?i.setAttribute("data-value","".concat(p,"px x ").concat(o,"px")):"vertical"===t?(i.setAttribute("data-value","".concat(o,"px")),delete u.width):(i.setAttribute("data-value","".concat(p,"px")),delete u.height),l.updateState(u),requestAnimationFrame((function(){l.calculateHighlightBox()}))},onEnd:function(e){var a=e.pageY-c,n=e.pageX-d,o=Math.max(50,s.height+a),p={width:Math.max(100,Math.min(s.width+n,r.width)),height:o};"vertical"===t?delete p.width:"horizontal"===t&&delete p.height,i.removeAttribute("data-value"),l.updateSchema(p),requestAnimationFrame((function(){l.calculateHighlightBox()}))}})}},t}(i.BasePlugin);t.ImagePlugin=s,(0,l.registerEditorPlugin)(s)},4610:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ImagesPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(6374),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="images",t.$schema="/schemas/ImagesSchema.json",t.name="图片集",t.isBaseComponent=!0,t.description="展示多张图片",t.tags=["展示"],t.icon="fa fa-clone",t.scaffold={type:"images"},t.previewSchema=n.__assign(n.__assign({},t.scaffold),{listClassName:"nowrap",thumbMode:"cover",value:[{title:"图片1",image:(0,r.mockValue)({type:"image"}),src:(0,r.mockValue)({type:"image"})},{title:"图片2",image:(0,r.mockValue)({type:"image"}),src:(0,r.mockValue)({type:"image"})}]}),t.panelTitle="图片集",t.panelBodyCreator=function(e){var t=/\/field\/\w+$/.test(e.path);return[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:(t?[]:[{type:"formula",name:"__mode",autoSet:!1,formula:"!this.name && !this.source && Array.isArray(this.options) ? 2 : 1"},{label:"数据源",name:"__mode",type:"button-group-select",size:"xs",mode:"inline",className:"w-full",options:[{label:"关联字段",value:1},{label:"静态设置",value:2}],onChange:function(e,t,a,n){e!==t&&1==e&&n.deleteValueByName("options")}},{name:"source",type:"input-text",label:"关联数据",description:"比如：\\${listVar}，用来关联作用域中的已有数据。",visibleOn:"this.__mode == 1"},{type:"combo",name:"options",visibleOn:"this.__mode == 2",minLength:1,label:"图片集数据",multiple:!0,multiLine:!0,addable:!0,removable:!0,items:[(0,o.getSchemaTpl)("imageUrl",{name:"image",label:"缩略图"}),(0,o.getSchemaTpl)("imageUrl",{name:"src",label:"原图"}),{type:"input-text",label:"图片标题",name:"title"},{type:"textarea",label:"图片描述",name:"caption"}]}]).concat([(0,o.getSchemaTpl)("imageUrl",{name:"defaultImage",label:"无数据时显示的图片"})])},{title:"外观",body:[(0,o.getSchemaTpl)("switch",{name:"enlargeAble",label:"开启图片放大功能"}),{name:"originalSrc",visibleOn:"this.enlargeAble",type:"input-text",label:"原图地址",description:"如果不配置将默认使用缩略图地址。"},(0,o.getSchemaTpl)("switch",{name:"showDimensions",label:"是否显示图片尺寸"}),{name:"thumbMode",type:"button-group-select",label:"缩略图展示模式",size:"sm",pipeIn:(0,o.defaultValue)("contain"),options:[{label:"宽度占满",value:"w-full"},{label:"高度占满",value:"h-full"},{label:"包含",value:"contain"},{label:"铺满",value:"cover"}]},{name:"thumbRatio",type:"button-group-select",label:"缩略图比率",size:"sm",pipeIn:(0,o.defaultValue)("1:1"),options:[{label:"1:1",value:"1:1"},{label:"4:3",value:"4:3"},{label:"16:9",value:"16:9"}]},(0,o.getSchemaTpl)("className",{autoComplete:!1}),(0,o.getSchemaTpl)("className",{name:"listClassName",label:"图片列表 CSS 类名"})]},{title:"显隐",body:[(0,o.getSchemaTpl)("visible")]}])]},t}return n.__extends(t,e),t}(i.BasePlugin);t.ImagesPlugin=s,(0,l.registerEditorPlugin)(s)},7197:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.JsonPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(8579),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="json",t.$schema="/schemas/JsonSchema.json",t.name="JSON展示",t.isBaseComponent=!0,t.description="用来展示 JSON 数据。",t.docLink="/amis/zh-CN/components/json",t.tags=["展示"],t.icon="fa fa-code",t.scaffold={type:"json"},t.previewSchema=n.__assign(n.__assign({},t.scaffold),{name:"json",value:{a:1,b:{c:2}}}),t.panelTitle="JSON",t.panelBodyCreator=function(e){var t=/\/field\/\w+$/.test(e.path);return[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:r([t?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{name:"levelExpand",type:"input-number",label:"默认展开级别",pipeIn:(0,o.defaultValue)(1)}])},{title:"外观",body:r([(0,o.getSchemaTpl)("className")])},{title:"显隐",body:r([(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")])}])]},t}return n.__extends(t,e),t}(i.BasePlugin);t.JsonPlugin=s,(0,l.registerEditorPlugin)(s)},419:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LinkPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="link",t.$schema="/schemas/LinkSchema.json",t.name="链接",t.isBaseComponent=!0,t.description="用来展示文字链接",t.tags=["展示"],t.icon="fa fa-link",t.scaffold={type:"link",value:"http://www.baidu.com/"},t.previewSchema=n.__assign(n.__assign({},t.scaffold),{label:t.name}),t.panelTitle="链接",t.panelBody=[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{name:"href",type:"input-text",label:"目标地址, 支持取变量。",description:"如果已绑定字段名，可以不用设置"},{name:"body",type:"input-text",label:"内容",description:"不填写时，自动使用目标地址值"},(0,o.getSchemaTpl)("switch",{name:"blank",label:"是否新窗口打开"}),(0,o.getSchemaTpl)("switch",{name:"disabled",label:"是否禁用"}),{name:"htmlTarget",type:"input-text",label:"HTML Target"},(0,o.getSchemaTpl)("icon",{label:"左侧图标"}),(0,o.getSchemaTpl)("icon",{label:"右侧图标",name:"rightIcon"})]},{title:"外观",body:[(0,o.getSchemaTpl)("className",{autoComplete:!1})]},{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}])],t}return n.__extends(t,e),t}(i.BasePlugin);t.LinkPlugin=r,(0,l.registerEditorPlugin)(r)},1897:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ListPlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(9756),r=a(9933),s=a(9547),d=a(3570),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="list",t.$schema="/schemas/ListSchema.json",t.name="列表",t.isBaseComponent=!0,t.description="展示一个列表，可以自定标题、副标题，内容及按钮组部分。当前组件需要配置数据源，不自带数据拉取，请优先使用 「CRUD」 组件。",t.docLink="/amis/zh-CN/components/list",t.tags=["展示"],t.icon="fa fa-list",t.scaffold={type:"list",listItem:{body:[{type:"tpl",tpl:"简单的展示数据：$a $b"}],actions:[{icon:"fa fa-eye",type:"button"}]}},t.previewSchema=n.__assign(n.__assign({},t.scaffold),{items:[{a:1,b:2},{a:3,b:4},{a:5,b:6}]}),t.panelTitle="列表",t.panelBodyCreator=function(e){var a="crud"===e.schema.type;return(0,s.getSchemaTpl)("tabs",[{title:"常规",body:[{children:i.default.createElement(l.Button,{level:"danger",size:"sm",block:!0,onClick:t.editDetail.bind(t,e.id)},"配置成员详情")},{type:"divider"},{name:"title",type:"input-text",label:"标题"},a?null:{name:"source",type:"input-text",label:"数据源",pipeIn:(0,s.defaultValue)("${items}"),description:"绑定当前环境变量"},{name:"placeholder",pipeIn:(0,s.defaultValue)("没有数据"),type:"input-text",label:"无数据提示"}]},{title:"外观",body:[(0,s.getSchemaTpl)("switch",{name:"showHeader",label:"是否显示头部",pipeIn:(0,s.defaultValue)(!0)}),(0,s.getSchemaTpl)("switch",{name:"showFooter",label:"是否显示底部",pipeIn:(0,s.defaultValue)(!0)}),(0,s.getSchemaTpl)("className",{label:"CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"listClassName",label:"List div CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"headerClassName",label:"头部 CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"footerClassName",label:"底部 CSS 类名"})]},{title:"显隐",body:[(0,s.getSchemaTpl)("ref"),(0,s.getSchemaTpl)("visible")]}])},t}return n.__extends(t,e),t.prototype.filterProps=function(e){if(e.isSlot)return e.value=[e.data],e;var t=n.__assign(n.__assign({},e.defaultData),e.data),a=Array.isArray(e.value)?e.value:"string"==typeof e.source?(0,l.resolveVariable)(e.source,t):(0,l.resolveVariable)("items",t);if(!Array.isArray(a)||!a.length){var i=this.buildMockData();e.value=(0,d.repeatArray)(i,1).map((function(e,t){return n.__assign(n.__assign({},e),{id:t+1})}))}var o=e.$schema,r=n.__rest(e,["$schema"]);return n.__assign(n.__assign({},(0,d.JSONPipeOut)(r)),{$schema:o})},t.prototype.buildMockData=function(){return{id:666,title:"假数据",description:"假数据",a:"假数据",b:"假数据"}},t.prototype.editDetail=function(e){var t=this.manager,a=t.store,l=a.getNodeById(e),i=a.getValueOf(e);l&&i&&this.manager.openSubEditor({title:"配置成员详情",value:n.__assign({},i.listItem),slot:{type:"list",listItem:"$$"},onChange:function(e){e=n.__assign(n.__assign({},i),{listItem:e}),t.panelChangeValue(e,(0,d.diff)(i,e))},data:{items:[this.buildMockData()]}})},t.prototype.buildEditorToolbar=function(e,t){var a=e.id,n=e.info,l=e.schema;("list"===n.renderer.name||"crud"===n.renderer.name&&"list"===l.mode)&&t.push({icon:"fa fa-expand",order:100,tooltip:"配置成员渲染器",onClick:this.editDetail.bind(this,a)})},t.prototype.buildEditorContextMenu=function(e,t){var a=e.id,n=e.schema,l=(e.region,e.info);e.selections.length||(null==l?void 0:l.plugin)!==this||("list"===l.renderer.name||"crud"===l.renderer.name&&"list"===n.mode)&&t.push("|",{label:"配置成员详情",onSelect:this.editDetail.bind(this,a)})},t.prototype.getRendererInfo=function(t){var a,l=this,i=t.renderer,o=t.schema;return o.$$id||"crud"!==(null===(a=o.$$editor)||void 0===a?void 0:a.renderer.name)||"list"!==i.name?e.prototype.getRendererInfo.call(this,t):n.__assign(n.__assign({},{id:o.$$editor.id}),{name:l.name,regions:l.regions,patchContainers:l.patchContainers,vRendererConfig:l.vRendererConfig,wrapperProps:l.wrapperProps,wrapperResolve:l.wrapperResolve,filterProps:l.filterProps,$schema:l.$schema,renderRenderer:l.renderRenderer})},t}(r.BasePlugin);t.ListPlugin=c,(0,o.registerEditorPlugin)(c)},821:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ListItemPlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(9756),o=a(9933),r=a(9547),s=a(5863),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="list-item",t.isBaseComponent=!0,t.$schema="/schemas/ListItemSchema.json",t.regions=[{key:"body",label:"内容区",renderMethod:"renderBody",preferTag:"展示"},{key:"actions",label:"按钮集合",preferTag:"按钮",renderMethod:"renderRight",insertPosition:"inner"}],t.panelTitle="列表项",t.panelBody=(0,r.getSchemaTpl)("tabs",[{title:"基本",body:[{name:"title",type:"input-text",label:"标题",descrition:"支持模板语法如： ${xxx}"},{name:"subTitle",type:"input-text",label:"副标题",descrition:"支持模板语法如： ${xxx}"},{name:"avatar",type:"input-text",label:"图片地址",descrition:"支持模板语法如： ${xxx}"},{name:"desc",type:"textarea",label:"描述",descrition:"支持模板语法如： ${xxx}"}]},{title:"外观",body:[(0,r.getSchemaTpl)("className",{name:"avatarClassName",label:"图片 CSS 类名",pipeIn:(0,r.defaultValue)("thumb-sm avatar m-r")}),(0,r.getSchemaTpl)("className",{name:"titleClassName",label:"标题 CSS 类名"})]}]),t.fieldWrapperResolve=function(e){return e},t.overrides={renderFeild:function(e,t,a,n){var i=this.super(e,t,a,n),o=this.props.$$editor;if(!o||!t.$$id)return i;var r=o.plugin,d=t.$$id;return l.default.createElement(s.VRenderer,{type:o.type,plugin:o.plugin,renderer:o.renderer,multifactor:!0,key:d,$schema:"/schemas/ListBodyField.json",hostId:o.id,memberIndex:a,name:"".concat("字段".concat(a+1)),id:d,draggable:!1,wrapperResolve:r.fieldWrapperResolve,schemaPath:"".concat(o.schemaPath,"/body/").concat(a),path:"".concat(this.props.$path,"/").concat(a),data:this.props.data},i)}},t.vRendererConfig={panelTitle:"字段",panelBodyCreator:function(e){return[(0,r.getSchemaTpl)("label"),(0,r.getSchemaTpl)("className",{name:"labelClassName",label:"Label CSS 类名",visibleOn:"this.label"})]}},t}return n.__extends(t,e),t.prototype.getRendererInfo=function(e){var t=e.renderer;if(e.schema.$$id&&this.rendererName===t.name)return{name:this.panelTitle,regions:this.regions,$schema:this.$schema}},t.prototype.beforeInsert=function(e){var t,a,l,i,o=e.context;o.info.plugin!==this&&(null===(t=o.node.sameIdChild)||void 0===t?void 0:t.info.plugin)!==this||"body"!==o.region||(o.data=n.__assign(n.__assign({},o.data),{label:null!==(i=null!==(a=o.data.label)&&void 0!==a?a:null===(l=o.subRenderer)||void 0===l?void 0:l.name)&&void 0!==i?i:"列名称"}))},t}(o.BasePlugin);t.ListItemPlugin=d,(0,i.registerEditorPlugin)(d)},135:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LogPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="log",t.$schema="/schemas/LogSchema.json",t.name="日志",t.isBaseComponent=!0,t.icon="fa fa-file-text-o",t.description="用来实时显示日志",t.docLink="/amis/zh-CN/components/log",t.tags=["展示"],t.previewSchema={type:"log",height:120},t.scaffold={type:"log"},t.panelTitle="日志",t.panelBodyCreator=function(e){return(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[(0,o.getSchemaTpl)("api",{label:"日志数据源",name:"source"})]},{title:"外观",body:[(0,o.getSchemaTpl)("className")]},{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}])},t}return n.__extends(t,e),t}(i.BasePlugin);t.LogPlugin=r,(0,l.registerEditorPlugin)(r)},5218:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MappingPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(3570),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="mapping",t.$schema="/schemas/MappingSchema.json",t.name="映射",t.isBaseComponent=!0,t.description="对现有值做映射展示，比如原始值是：1、2、3...，需要展示成：下线、上线、过期等等。",t.docLink="/amis/zh-CN/components/mapping",t.tags=["展示"],t.icon="fa fa-exchange",t.scaffold={type:"mapping",value:2,map:{0:'<span class="label label-info">一</span>',1:'<span class="label label-success">二</span>',2:'<span class="label label-danger">三</span>',3:'<span class="label label-warning">四</span>',4:'<span class="label label-primary">五</span>',"*":'<span class="label label-default">-</span>'}},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="映射",t.panelBodyCreator=function(e){var t=/\/field\/\w+$/.test(e.path);return[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[t?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{label:"映射表",type:"combo",scaffold:{key:"key-{index}",value:"value-{index}"},required:!0,name:"map",descriptionClassName:"help-block text-xs m-b-none",description:"<p>当值命中左侧 Key 时，展示右侧内容，当没有命中时，默认实现 Key 为 <code>*</code>的内容</div>(请确保key值唯一)",multiple:!0,pipeIn:function(e){if(!(0,r.isObject)(e))return[{key:"*",value:"通配值"}];var t=[];return Object.keys(e).forEach((function(a){t.push({key:a||"",value:"string"==typeof e[a]?e[a]:JSON.stringify(e[a])})})),t},pipeOut:function(e){if(!Array.isArray(e))return e;var t={};return e.forEach((function(e,a){var n=e.key||"",l=e.value;"key-{index}"===n&&"value-{index}"===l&&(n=n.replace("-{index}","".concat(a)),l=l.replace("-{index}","".concat(a)));try{l=JSON.parse(l)}catch(e){}t[n]=l})),t},items:[{placeholder:"Key",type:"input-text",unique:!0,name:"key",required:!0,columnClassName:"w-xs"},{placeholder:"内容",type:"input-text",name:"value"}]},{name:"placeholder",type:"input-text",pipeIn:(0,o.defaultValue)("-"),label:"占位符"}]},{title:"外观",body:[(0,o.getSchemaTpl)("className")]},{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}])]},t}return n.__extends(t,e),t}(i.BasePlugin);t.MappingPlugin=s,(0,l.registerEditorPlugin)(s)},2460:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="markdown",t.$schema="/schemas/MarkdownSchema.json",t.name="Markdown",t.isBaseComponent=!0,t.description="展示 markdown 内容",t.docLink="/amis/zh-CN/components/markdown",t.tags=["展示"],t.icon="fa fa-file-text",t.scaffold={type:"markdown",value:"## 这是标题"},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="MD",t.panelBodyCreator=function(e){return/\/field\/\w+$/.test(e.path),[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[(0,o.getSchemaTpl)("markdownBody")]},{title:"外观",body:[(0,o.getSchemaTpl)("className")]},{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}])]},t}return n.__extends(t,e),t}(i.BasePlugin);t.MarkdownPlugin=r,(0,l.registerEditorPlugin)(r)},5678:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NavPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="nav",t.$schema="/schemas/NavSchema.json",t.name="导航",t.isBaseComponent=!0,t.description="用来渲染导航菜单，支持横排和竖排。",t.docLink="/amis/zh-CN/components/nav",t.tags=["功能"],t.icon="fa fa-map-signs",t.scaffold={type:"nav",stacked:!0,links:[{label:"页面1",to:"?id=1"},{label:"页面2",to:"?id=2"}]},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="导航",t.panelDefinitions={links:{label:"菜单管理",name:"links",type:"combo",multiple:!0,draggable:!0,addButtonText:"新增菜单",multiLine:!0,messages:{validateFailed:"菜单中存在配置错误，请仔细检查"},scaffold:{label:"",to:""},items:[{type:"input-text",name:"label",label:"名称",required:!0},{type:"input-text",name:"to",label:"跳转地址",required:!0},{type:"icon-picker",name:"icon",label:"图标",className:"fix-icon-picker-overflow"},{type:"group",label:"是否高亮",direction:"vertical",className:"m-b-none",labelRemark:{trigger:"click",rootClose:!0,className:"m-l-xs",content:"可以配置该菜单是否要高亮",placement:"left"},body:[{name:"active",type:"radios",inline:!0,options:[{label:"是",value:!0},{label:"否",value:!1},{label:"表达式",value:""}]},{name:"activeOn",autoComplete:!1,visibleOn:'typeof this.active !== "boolean"',type:"input-text",placeholder:"留空将自动分析菜单地址",className:"m-t-n-sm"}]},(0,o.getSchemaTpl)("switch",{label:"包含子菜单",name:"children",mode:"inline",className:"block",pipeIn:function(e){return!!e},pipeOut:function(e){return e?[{label:"",to:""}]:void 0},messages:{validateFailed:"子菜单中存在配置错误，请仔细检查"}}),{name:"children",$ref:"links",visibleOn:'this.hasOwnProperty("children") && this.children',label:"子菜单管理",addButtonText:"新增子菜单"}]}},t.panelBody=[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{$ref:"links",name:"links"},{type:"divider"},(0,o.getSchemaTpl)("api",{name:"source",label:"获取菜单接口",description:"如果菜单地址希望可以动态设置，请在此填入接口地址"})]},{title:"外观",body:[(0,o.getSchemaTpl)("switch",{name:"stacked",label:"是否竖着摆放"}),(0,o.getSchemaTpl)("className")]},{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}])],t}return n.__extends(t,e),t}(i.BasePlugin);t.NavPlugin=r,(0,l.registerEditorPlugin)(r)},3345:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OperationPlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(9756),r=a(9933),s=a(9547),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="operation",t.$schema="/schemas/OperationSchema.json",t.name="操作栏",t.isBaseComponent=!0,t.description="操作栏，用于表格。",t.tags=["展示"],t.icon="",t.scaffold={type:"operation",label:"操作",buttons:[{label:"按钮",type:"button"}]},t.previewSchema={type:"tpl",tpl:"操作栏"},t.regions=[{key:"buttons",label:"按钮集",renderMethod:"render",insertPosition:"inner",preferTag:"按钮"}],t.panelTitle="操作栏",t.panelBodyCreator=function(e){return[(0,s.getSchemaTpl)("className",{name:"innerClassName"}),{children:i.default.createElement(l.Button,{level:"info",size:"sm",className:"m-b-sm",block:!0,onClick:function(){t.manager.showRendererPanel("按钮","请从左侧组件面板中点击添加新的按钮")}},"添加按钮")}]},t}return n.__extends(t,e),t.prototype.buildSubRenderers=function(t,a){if(t&&t.info&&t.info.renderer&&("table"===t.info.renderer.name||"crud"===t.info.renderer.name))return e.prototype.buildSubRenderers.apply(this,arguments)},t}(r.BasePlugin);t.OperationPlugin=d,(0,o.registerEditorPlugin)(d)},9662:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ActionPlugin=void 0;var n=a(752),l=a(7981),i=n.__importDefault(a(6689)),o=a(9756),r=a(9933),s=a(9547),d=a(3570),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.panelTitle="按钮",t.panelBodyCreator=function(e){var a=/(?:\/|^)dialog\/.+$/.test(e.path);return/(?:\/|^)dropdown-button\/.+$/.test(e.path),[{type:"container",className:"p-3",body:[{label:"按钮行为",type:"select",name:"actionType",pipeIn:(0,s.defaultValue)(""),options:[{label:"默认",value:""},{label:"弹框",value:"dialog"},{label:"抽出式弹框（Drawer）",value:"drawer"},{label:"发送请求",value:"ajax"},{label:"下载文件",value:"download"},{label:"页面跳转(单页模式)",value:"link"},{label:"页面跳转",value:"url"},{label:"刷新目标",value:"reload"},{label:"复制内容",value:"copy"},{label:"提交",value:"submit"},{label:"重置",value:"reset"},{label:"重置表单并提交",value:"reset-and-submit"},{label:"清空表单并提交",value:"clear-and-submit"},{label:"确认",value:"confirm"},{label:"取消",value:"cancel"},{label:"跳转下一条",value:"next"},{label:"跳转上一条",value:"prev"}]},{type:"input-text",name:"content",visibleOn:'data.actionType == "copy"',label:"复制内容模板"},{type:"select",name:"copyFormat",options:[{label:"纯文本",value:"text/plain"},{label:"富文本",value:"text/html"}],visibleOn:'data.actionType == "copy"',label:"复制格式"},{type:"input-text",name:"target",visibleOn:'data.actionType == "reload"',label:"指定刷新目标",required:!0},{name:"dialog",pipeIn:(0,s.defaultValue)({title:"弹框标题",body:"<p>对，你刚刚点击了</p>"}),asFormItem:!0,children:function(e){var a=e.value,o=e.onChange;return"dialog"===e.data.actionType?i.default.createElement(l.Button,{size:"sm",level:"danger",className:"m-b",onClick:function(){return t.manager.openSubEditor({title:"配置弹框内容",value:n.__assign({type:"dialog"},a),onChange:function(e){return o(e)}})},block:!0},"配置弹框内容"):null}},{visibleOn:'data.actionType == "drawer"',name:"drawer",pipeIn:(0,s.defaultValue)({title:"弹框标题",body:"<p>对，你刚刚点击了</p>"}),asFormItem:!0,children:function(e){var a=e.value,o=e.onChange;return"drawer"==e.data.actionType?i.default.createElement(l.Button,{size:"sm",level:"danger",className:"m-b",onClick:function(){return t.manager.openSubEditor({title:"配置抽出式弹框内容",value:n.__assign({type:"drawer"},a),onChange:function(e){return o(e)}})},block:!0},"配置抽出式弹框内容"):null}},(0,s.getSchemaTpl)("api",{label:"目标API",visibleOn:'data.actionType == "ajax" || data.actionType == "download"'}),{name:"feedback",pipeIn:(0,s.defaultValue)({title:"弹框标题",body:"<p>内容</p>"}),asFormItem:!0,children:function(e){var a=e.onChange,o=e.value;return"ajax"==e.data.actionType?i.default.createElement("div",{className:"m-b"},i.default.createElement(l.Button,{size:"sm",level:o?"danger":"info",onClick:function(){return t.manager.openSubEditor({title:"配置反馈弹框详情",value:n.__assign({type:"dialog"},o),onChange:function(e){return a(e)}})}},"配置反馈弹框内容"),o?i.default.createElement(l.Button,{size:"sm",level:"link",className:"m-l",onClick:function(){return a("")}},"清空设置"):null):null}},{name:"feedback.visibleOn",label:"是否弹出表达式",type:"input-text",visibleOn:"this.feedback",autoComplete:!1,description:"请使用 JS 表达式如：`this.xxx == 1`"},{name:"feedback.skipRestOnCancel",label:"弹框取消是否中断后续操作",type:"switch",mode:"inline",className:"block",visibleOn:"this.feedback"},{name:"feedback.skipRestOnConfirm",label:"弹框确认是否中断后续操作",type:"switch",mode:"inline",className:"block",visibleOn:"this.feedback"},{type:"input-text",label:"目标地址",name:"link",visibleOn:'data.actionType == "link"'},{type:"input-text",label:"目标地址",name:"url",visibleOn:'data.actionType == "url"',placeholder:"http://"},{type:"switch",name:"blank",visibleOn:'data.actionType == "url"',mode:"inline",className:"w-full",label:"是否用新窗口打开",value:!0},a?{visibleOn:'data.actionType == "submit" || data.type == "submit"',name:"close",type:"switch",mode:"inline",className:"w-full",pipeIn:(0,s.defaultValue)(!0),label:"是否关闭当前弹框"}:null,{name:"confirmText",type:"textarea",label:"确认文案",description:"点击后会弹出此内容，等用户确认后才进行相应的操作。"},{type:"input-text",name:"reload",label:"刷新目标组件",visibleOn:'data.actionType != "link" && data.actionType != "url"',description:"当前动作完成后，指定目标组件刷新。支持传递数据如：<code>xxx?a=\\${a}&b=\\${b}</code>，多个目标请用英文逗号隔开。"},{type:"input-text",name:"target",visibleOn:'data.actionType != "reload"',label:"指定响应组件",description:"指定动作执行者，默认为当前组件所在的功能性性组件，如果指定则转交给目标组件来处理。"},{type:"js-editor",allowFullscreen:!0,name:"onClick",label:"自定义点击事件",description:"将会传递 event 和 props 两个参数"},{type:"input-text",name:"hotKey",label:"键盘快捷键"}]}]},t}return n.__extends(t,e),t.prototype.buildEditorPanel=function(t,a){if(!t.selections.length)if(~["action","button","submit","reset","sparkline"].indexOf(t.info.renderer.name)){var n=this.panelBodyCreator(t);"sparkline"===t.info.renderer.name&&(n={name:"clickAction",type:"combo",label:"",noBorder:!0,multiLine:!0,items:n})}else e.prototype.buildEditorPanel.call(this,t,a)},t.prototype.buildEditorToolbar=function(e,t){var a=this,n=e.id,l=e.schema,i=e.info;~["action","button","submit","reset"].indexOf(i.renderer.name)&&"dialog"===l.actionType&&t.push({iconSvg:"dialog",tooltip:"配置弹框内容",placement:"bottom",onClick:function(){return a.editDetail(n)}})},t.prototype.editDetail=function(e){var t=this.manager,a=t.store,l=a.getNodeById(e),i=a.getValueOf(e);l&&i&&this.manager.openSubEditor({title:"配置弹框内容",value:n.__assign({type:"dialog"},i.dialog),onChange:function(e){e=n.__assign(n.__assign({},i),{dialog:e}),t.panelChangeValue(e,(0,d.diff)(i,e))}})},t}(r.BasePlugin);t.ActionPlugin=c,(0,o.registerEditorPlugin)(c)},5503:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BasicToolbarPlugin=void 0;var n=a(752),l=a(9933),i=a(9756),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.order=-9999,t}return n.__extends(t,e),t.prototype.buildEditorToolbar=function(e,t){var a,n=this,l=e.id,i=e.schema,o=this.manager.store,r=o.getNodeById(l),s=o.getSchemaParentById(l),d=r.parent;if(Array.isArray(s)&&(null==d?void 0:d.isRegion)){var c=r.host;r.draggable&&t.push({iconSvg:"drag-btn",icon:"fa fa-arrows",tooltip:"按住拖动调整位置",placement:"bottom",draggable:!0,order:-1e3,onDragStart:this.manager.startDrag.bind(this.manager,l)});var p=s.indexOf(i);if(!(null==c?void 0:c.memberImmutable(d.region))&&o.panels.some((function(e){return"renderers"===e.key}))){var u=null===(a=s[p+1])||void 0===a?void 0:a.$$id;t.push({iconSvg:"left-arrow-to-left",tooltip:"向前插入组件",placement:"bottom",onClick:function(){return n.manager.showInsertPanel(d.region,d.id,d.preferTag,"insert",void 0,l)}},{iconSvg:"arrow-to-right",tooltip:"向后插入组件",placement:"bottom",onClick:function(){return n.manager.showInsertPanel(d.region,d.id,d.preferTag,"insert",void 0,u)}})}}r.isVitualRenderer||!r.info.plugin.popOverBody&&!r.info.plugin.popOverBodyCreator||t.push({icon:"fa fa-pencil",tooltip:"编辑",placement:"bottom",onClick:function(e){return n.manager.openNodePopOverForm(r.id)}}),(r.removable||void 0===r.removable)&&t.push({iconSvg:"delete-btn",icon:"fa",tooltip:"删除",placement:"bottom",order:999,onClick:this.manager.del.bind(this.manager,l)}),t.push({iconSvg:"more-btn",icon:"fa fa-cog",tooltip:"更多",placement:"bottom",order:1e3,onClick:function(e){if(!e.defaultPrevented){var t=e.target.parentElement.getBoundingClientRect();n.manager.openContextMenu(l,"",{x:window.scrollX+t.left+t.width-155,y:window.scrollY+t.top+t.height+8})}}})},t.prototype.buildEditorContextMenu=function(e,t){var a,n=e.id,l=e.schema,i=e.region,o=e.selections,r=this.manager,s=r.store,d=s.getSchemaParentById(n),c=s.getNodeById(n),p=s.getNodePathById(n),u=p.pop();if(c.host,c.parent,o.length)t.push({label:"重复一份",icon:"copy-icon",disabled:o.some((function(e){return!e.node.duplicatable})),onSelect:function(){return r.duplicate(o.map((function(e){return e.id})))}}),t.push({label:"取消多选",icon:"cancel-icon",onSelect:function(){return s.setActiveId(n)}}),t.push({label:"删除",icon:"delete-icon",disabled:o.some((function(e){return!e.node.removable})),className:"text-danger",onSelect:function(){return r.del(o.map((function(e){return e.id})))}});else if(i)(f=s.panels.find((function(e){return"renderers"===e.key})))&&(t.push({label:"插入组件",onHighlight:function(e){return e&&s.setHoverId(n,i)},onSelect:function(){return s.showInsertRendererPanel()}}),t.push({label:"清空",onSelect:function(){return r.emptyRegion(n,i)}}),t.push({label:"粘贴",onSelect:function(){return r.paste(n,i)}}));else{if(t.push({label:"选中".concat(u.label),disabled:s.activeId===u.id,data:n,onSelect:function(e){return s.setActiveId(e)},onHighlight:function(e,t){return e&&s.setHoverId(t)}}),p.length){var m=p.filter((function(e){var t;return!e.isRegion&&!1!==(null===(t=e.info)||void 0===t?void 0:t.editable)})).reverse().map((function(e){return{label:e.label,data:e.id,onSelect:function(e){return s.setActiveId(e)},onHighlight:function(e,t){return e&&s.setHoverId(t)}}}));m.length&&t.push({label:"选中层级",children:m})}t.push({label:"取消选中",disabled:!s.activeId||s.activeId!==n,onSelect:function(){return s.setActiveId("")}}),t.push("|"),t.push({label:"重复一份",disabled:!c.duplicatable,onSelect:function(){return r.duplicate(n)}}),t.push({label:"复制配置",onSelect:function(){return r.copy(n)}}),t.push({label:"剪切配置",disabled:!c.removable,onSelect:function(){return r.cut(n)}}),t.push({label:"粘贴配置",disabled:!Array.isArray(d)||!c.parent||!1===(null===(a=c.info)||void 0===a?void 0:a.typeMutable)||!c.replaceable,onSelect:function(){return r.paste(n)}}),t.push({label:"删除",disabled:!c.removable,className:"text-danger",onSelect:function(){return r.del(n)}}),t.push("|");var h=Array.isArray(d)?d.indexOf(l):-1;t.push({label:"向前移动",disabled:!(Array.isArray(d)&&h>0&&c.moveable&&c.prevSibling),onSelect:function(){return r.moveUp()}}),t.push({label:"向后移动",disabled:!(Array.isArray(d)&&h<d.length-1&&c.moveable&&c.nextSibling),onSelect:function(){return r.moveDown()}}),t.push("|"),t.push({label:"撤销（Undo）",disabled:!s.canUndo,onSelect:function(){return s.undo()}}),t.push({label:"重做（Redo）",disabled:!s.canRedo,onSelect:function(){return s.redo()}});var f=s.panels.find((function(e){return"renderers"===e.key}));u.childRegions.length&&f&&(u.childRegions.length>1?t.push({label:"插入组件",children:u.childRegions.map((function(e){return{label:"".concat(e.label),data:e.region,onHighlight:function(e,t){return e?s.setHoverId(n,t):s.setHoverId("")},onSelect:function(){return s.showInsertRendererPanel()}}}))}):t.push({label:"插入组件",data:u.childRegions[0].region,onHighlight:function(e,t){return e?s.setHoverId(n,t):s.setHoverId("")},onSelect:function(){return s.showInsertRendererPanel()}}))}},t.prototype.buildEditorPanel=function(e,t){if(e.selections.length){var a=this.manager.store,l=[],i=n.__assign(n.__assign({},e),{data:l,region:""});(l=this.manager.buildContextMenus(i)).length&&t.push({key:"contextmenu",icon:"fa fa-cog",title:"操作",menus:l,render:this.manager.makeSchemaFormRender({body:[{type:"button-group",block:!0,buttons:l.filter((function(e){return"|"!==e})).map((function(e){return n.__assign(n.__assign({},e),{type:"button",onClick:e.onSelect})}))}],panelById:a.activeId})})}},t.prototype.afterInsert=function(e){var t,a,n=this,l=e.context;if(l.node&&(null===(a=null===(t=l.subRenderer)||void 0===t?void 0:t.plugin)||void 0===a?void 0:a.popOverBody)){var i=l.data.$$id;i&&setTimeout((function(){n.manager.setActiveId(i),requestAnimationFrame((function(){n.manager.openNodePopOverForm(i)}))}),200)}},t}(l.BasePlugin);t.BasicToolbarPlugin=o,(0,i.registerEditorPlugin)(o)},8878:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataDebugPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=n.__importDefault(a(6689)),r=n.__importDefault(a(3001)),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dataViewer={type:"json",name:"ctx",asFormItem:!0,className:"m-b-none",component:function(e){for(var t=e.value,a=e.onChange,n=e.readOnly,l=o.default.useState(0),i=l[0],s=l[1],d=t||{},c=[d];Object.getPrototypeOf(d)!==Object.prototype;){var p=Object.getPrototypeOf(d);if("[object Object]"!==Object.prototype.toString.call(p))break;c.push(p),d=p}function u(e){var t=Object.create(c[1]||Object.prototype);Object.keys(e.updated_src).forEach((function(a){return t[a]=e.updated_src[a]})),a(t)}return o.default.createElement("div",{className:"aeDataChain"},o.default.createElement("div",{className:"aeDataChain-aside"},o.default.createElement("ul",null,c.map((function(e,t){return o.default.createElement("li",{className:t===i?"is-active":"",key:t,onClick:function(){return s(t)}},0===t?"当前":1===t?"上层":"上".concat(t,"层"))})))),o.default.createElement("div",{className:"aeDataChain-main"},o.default.createElement(r.default,{name:!1,src:c[i],enableClipboard:!1,iconStyle:"square",onAdd:0===i&&!n&&u,onEdit:0===i&&!n&&u,onDelete:0===i&&!n&&u,collapsed:2})))}},t}return n.__extends(t,e),t.prototype.buildEditorToolbar=function(e,t){var a=this,n=(e.id,e.schema,e.node.getComponent());if(n&&n.props.data&&n.props.store){var l=n.props.store;t.push({icon:"fa fa-bug",order:-1e3,placement:"bottom",tooltip:"上下文数据",onClick:function(){return a.openDebugForm(n.props.data,l.updateData&&l.data===n.props.data?function(e){return l.updateData(e)}:void 0)}})}},t.prototype.openDebugForm=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){var a;return n.__generator(this,(function(l){switch(l.label){case 0:return[4,this.manager.scaffold({title:"上下文数据",body:[n.__assign(n.__assign({},this.dataViewer),{readOnly:!t})]},{ctx:e})];case 1:return a=l.sent(),null==t||t(a.ctx),[2]}}))}))},t}(i.BasePlugin);t.DataDebugPlugin=s,(0,l.registerEditorPlugin)(s)},9251:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TableCellPlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(9756),r=a(9933),s=a(9547),d=a(9794),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.panelTitle="列配置",t.panelIcon="fa fa-columns",t.panelBodyCreator=function(e){return[(0,s.getSchemaTpl)("tabs",[{title:"常规",body:[{name:"label",label:"列名称",type:"input-text"},{name:"name",type:"input-text",label:"绑定字段名"},{name:"remark",label:"提示",type:"input-text",description:"显示一个提示图标，鼠标放上去会提示该内容。"},{name:"placeholder",type:"input-text",label:"占位符",value:"-",description:"当没有值时用这个来替代展示"},(0,s.getSchemaTpl)("switch",{name:"sortable",label:"是否可排序",description:"开启后可以根据当前列排序(后端排序)。"})]},{title:"高级",body:[{name:"groupName",label:"列分组名称",type:"input-text",description:'当多列的分组名称设置一致时，表格会在显示表头的上层显示超级表头，<a href="https://baidu.github.io/amis/crud/header-group" target="_blank">示例</a>'},(0,s.getSchemaTpl)("switch",{name:"quickEdit",label:"启用快速编辑",pipeIn:function(e){return!!e}}),{visibleOn:"data.quickEdit",name:"quickEdit.mode",type:"button-group-select",value:"popOver",label:"快速编辑模式",size:"xs",mode:"inline",className:"w-full",options:[{label:"下拉",value:"popOver"},{label:"内嵌",value:"inline"}]},(0,s.getSchemaTpl)("switch",{name:"quickEdit.saveImmediately",label:"是否立即保存",visibleOn:"data.quickEdit",description:"开启后修改即提交，而不是标记修改批量提交。",descriptionClassName:"help-block m-b-none",pipeIn:function(e){return!!e}}),(0,s.getSchemaTpl)("api",{label:"立即保存接口",description:"是否单独给立即保存配置接口，如果不配置，则默认使用quickSaveItemApi。",name:"quickEdit.saveImmediately.api",visibleOn:"this.quickEdit && this.quickEdit.saveImmediately"}),{visibleOn:"data.quickEdit",name:"quickEdit",asFormItem:!0,children:function(e){var a=e.value,o=e.onChange,r=e.data;!0===a?a={}:void 0===a&&(a=(0,d.getVariable)(r,"quickEdit"));var s=a.mode;return delete(a=n.__assign({type:"input-text",name:r.name},a)).mode,i.default.createElement(l.Button,{level:"info",className:"m-b",size:"sm",block:!0,onClick:function(){t.manager.openSubEditor({title:"配置快速编辑类型",value:a,slot:{type:"form",mode:"normal",body:["$$"],wrapWithPanel:!1},onChange:function(e){return o(n.__assign(n.__assign({},e),{mode:s}),"quickEdit")}})}},"配置快速编辑")}},(0,s.getSchemaTpl)("switch",{name:"popOver",label:"启用查看更多展示",pipeIn:function(e){return!!e}}),{name:"popOver.mode",label:"查看更多弹出模式",type:"select",visibleOn:"data.popOver",pipeIn:(0,s.defaultValue)("popOver"),options:[{label:"默认",value:"popOver"},{label:"弹框",value:"dialog"},{label:"抽出式弹框",value:"drawer"}]},{name:"popOver.position",label:"查看更多弹出模式",type:"select",visibleOn:'data.popOver && data.popOver.mode === "popOver"',pipeIn:(0,s.defaultValue)("center"),options:[{label:"目标中部",value:"center"},{label:"目标左上角",value:"left-top"},{label:"目标右上角",value:"right-top"},{label:"目标左下角",value:"left-bottom"},{label:"目标右下角",value:"right-bottom"},{label:"页面左上角",value:"fixed-left-top"},{label:"页面右上角",value:"fixed-right-top"},{label:"页面左下角",value:"fixed-left-bottom"},{label:"页面右下角",value:"fixed-right-bottom"}]},{visibleOn:"data.popOver",name:"popOver",asFormItem:!0,children:function(e){var a=e.value,o=e.onChange;return a=n.__assign({type:"panel",title:"查看详情",body:"内容详情"},a),i.default.createElement(l.Button,{level:"info",className:"m-b",size:"sm",block:!0,onClick:function(){t.manager.openSubEditor({title:"配置查看更多展示内容",value:a,onChange:function(e){return o(e,"popOver")}})}},"查看更多内容配置")}},(0,s.getSchemaTpl)("switch",{name:"copyable",label:"启用内容复制功能",pipeIn:function(e){return!!e}}),{visibleOn:"data.copyable",name:"copyable.content",type:"textarea",label:"复制内容模板",description:"默认为当前字段值，可定制。"}]},{title:"外观",body:[{name:"fixed",type:"button-group-select",label:"固定位置",pipeIn:(0,s.defaultValue)(""),size:"xs",mode:"inline",className:"w-full",options:[{value:"",label:"不固定"},{value:"left",label:"左侧"},{value:"right",label:"右侧"}]},(0,s.getSchemaTpl)("switch",{name:"toggled",label:"默认展示",pipeIn:(0,s.defaultValue)(!0)}),{name:"breakpoint",type:"button-group-select",label:"触发底部显示条件",visibleOn:"data.tableFootableEnabled",size:"xs",multiple:!0,options:[{label:"总是",value:"*"},{label:"手机端",value:"xs"},{label:"平板",value:"sm"},{label:"PC小屏",value:"md"},{label:"PC大屏",value:"lg"}],pipeIn:function(e){return e?"string"==typeof e?e:"*":""},pipeOut:function(e){return"string"==typeof e&&~e.indexOf("*")&&/xs|sm|md|lg/.test(e)?e.replace(/\*\s*,\s*|\s*,\s*\*/g,""):e}},(0,s.getSchemaTpl)("switch",{name:"className",label:"内容强制换行",pipeIn:function(e){return"string"==typeof e&&/\word\-break\b/.test(e)},pipeOut:function(e,t){return(e?"word-break ":"")+(t||"").replace(/\bword\-break\b/g,"").trim()}}),(0,s.getSchemaTpl)("className"),(0,s.getSchemaTpl)("className",{name:"innerClassName",label:"内部 CSS 类名"}),{name:"width",type:"input-number",label:"列宽",description:"固定列的宽度，不推荐设置。"}]}])]},t}return n.__extends(t,e),t.prototype.getRendererInfo=function(e){var t=e.renderer,a=e.schema;if("table-cell"===t.name)return{name:a.label?"<".concat(a.label,">列"):"匿名列",$schema:"/schemas/TableColumn.json",multifactor:!0,wrapperResolve:function(e){var t=[].slice.call(e.parentElement.children).indexOf(e)+1,n=e.closest("table");return[].slice.call(n.querySelectorAll("th:nth-child(".concat(t,'):not([data-editor-id="').concat(a.id,'"]),\n              td:nth-child(').concat(t,'):not([data-editor-id="').concat(a.id,'"])')))}}},t.prototype.beforeReplace=function(e){var t=e.context;t.info.plugin===this&&t.data&&(t.data.label=t.data.label||t.schema.label,t.data.name=t.data.name||t.schema.name)},t}(r.BasePlugin);t.TableCellPlugin=c,(0,o.registerEditorPlugin)(c)},770:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnkownRendererPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.order=9999,t}return n.__extends(t,e),t.prototype.getRendererInfo=function(e){var t=e.renderer,a=e.schema,n=e.path;if(a.$$id&&t){if(/(^|\/)static\-field/.test(n))return;if("card-item"===t.name||"list-item-field"===t.name)return;return{name:"Unkown",$schema:"/schemas/UnkownSchema.json"}}},t}(a(9933).BasePlugin);t.UnkownRendererPlugin=i,(0,l.registerEditorPlugin)(i)},410:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PagePlugin=void 0;var n=a(752),l=a(9305),i=a(9756),o=a(9933),r=a(9547),s=a(3570),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="page",t.$schema="/schemas/PageSchema.json",t.name="页面",t.isBaseComponent=!0,t.docLink="/amis/zh-CN/components/page",t.tags="容器",t.icon="fa fa-desktop",t.scaffold={type:"page",body:[{type:"tpl",tpl:"内容"}]},t.previewSchema={type:"page",className:"text-left b-a",asideClassName:"w-xs",title:"标题",subTitle:"副标题",aside:"边栏",body:"内容"},t.events=[{eventName:"inited",eventLabel:"初始化完成",description:"远程初始化接口请求成功时触发",dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:"远程请求返回的初始化数据"}}}]},{eventName:"pullRefresh",eventLabel:"下拉刷新",description:"开启下拉刷新后，下拉释放后触发（仅用于移动端）"}],t.actions=[{actionType:"reload",actionLabel:"重新加载",description:"触发组件数据刷新并重新渲染"},{actionType:"setValue",actionLabel:"更新数据",description:"触发组件数据更新"}],t.regions=[{key:"toolbar",label:"工具栏",preferTag:"工具栏内容"},{key:"aside",label:"边栏",placeholder:"边栏内容"},{key:"body",label:"内容区",placeholder:"页面内容"}],t.wrapper=l.ContainerWrapper,t.panelTitle="页面",t.panelBodyCreator=function(e){return[(0,r.getSchemaTpl)("tabs",[{title:"常规",body:[{type:"checkboxes",name:"regions",label:"区域展示",pipeIn:function(e){return Array.isArray(e)?e:["auto","body","toolbar","aside","header"]},pipeOut:function(e){return Array.isArray(e)&&~e.indexOf("auto")?void 0:e.length?e:["auto","body","toolbar","aside","header"]},joinValues:!1,extractValue:!0,inline:!1,options:[{label:"自动",value:"auto"},{label:"内容区",value:"body",disabledOn:'!Array.isArray(this.regions) || ~this.regions.indexOf("auto")'},{label:"边栏",value:"aside",disabledOn:'!Array.isArray(this.regions) ||~this.regions.indexOf("auto")'},{label:"工具栏",value:"toolbar",disabledOn:'!Array.isArray(this.regions) ||~this.regions.indexOf("auto")'},{label:"顶部",value:"header",disabledOn:'!Array.isArray(this.regions) ||~this.regions.indexOf("auto")'}]},{label:"标题",name:"title",type:"input-text"},{label:"副标题",name:"subTitle",type:"input-text"},{label:"提示",name:"remark",type:"textarea",visibleOn:"this.title",description:"标题附近会出现一个提示图标，鼠标放上去会提示该内容。"},(0,r.getSchemaTpl)("data")]},{title:"接口",body:[(0,r.getSchemaTpl)("api",{label:"数据初始化接口",name:"initApi",sampleBuilder:function(e){return'{\n  "status": 0,\n  "msg": "",\n\n  data: {\n    // 示例数据\n    "id": 1,\n    "a": "sample"\n  }\n}'}}),(0,r.getSchemaTpl)("initFetch"),(0,r.getSchemaTpl)("switch",{label:"开启定时刷新",name:"interval",visibleOn:"data.initApi",pipeIn:function(e){return!!e},pipeOut:function(e){return e?3e3:void 0}}),{name:"interval",type:"input-number",visibleOn:'typeof this.interval === "number"',step:500},(0,r.getSchemaTpl)("switch",{name:"silentPolling",label:"静默刷新",visibleOn:"!!data.interval",description:"设置自动定时刷新时是否显示loading"}),{name:"stopAutoRefreshWhen",label:"停止定时刷新检测表达式",type:"input-text",visibleOn:"!!data.interval",description:"定时刷新一旦设置会一直刷新，除非给出表达式，条件满足后则不刷新了。"},{label:"默认消息提示",type:"combo",name:"messages",multiLine:!0,description:"设置 ajax 默认提示信息，当 ajax 没有返回 msg 信息时有用，如果 ajax 返回携带了 msg 值，则还是以 ajax 返回为主",items:[{label:"获取成功提示",type:"input-text",name:"fetchSuccess"},{label:"获取失败提示",type:"input-text",name:"fetchFailed"},{label:"保存成功提示",type:"input-text",name:"saveSuccess"},{label:"保存失败提示",type:"input-text",name:"saveFailed"}]}]},{title:"外观",className:"p-none",body:[(0,r.getSchemaTpl)("collapseGroup",n.__spreadArray(n.__spreadArray([],(0,r.getSchemaTpl)("style:common"),!0),[(0,r.getSchemaTpl)("style:className",{isFormItem:!1,schema:[(0,r.getSchemaTpl)("className",{name:"headerClassName",label:"头部CSS类名"}),(0,r.getSchemaTpl)("className",{name:"bodyClassName",label:"内容CSS类名"}),(0,r.getSchemaTpl)("className",{name:"asideClassName",label:"边栏CSS类名"}),(0,r.getSchemaTpl)("className",{name:"toolbarClassName",label:"工具栏CSS类名"})]})],!1))]},{title:"事件",className:"p-none",body:[(0,r.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,s.getEventControlConfig)(t.manager,e)))]},{title:"其他",body:[{type:"combo",name:"pullRefresh",multiLine:!0,noBorder:!0,items:[{type:"switch",label:"移动端下拉刷新",name:"disabled",mode:"horizontal",horizontal:{justify:!0,left:8},inputClassName:"is-inline ",trueValue:!1,falseValue:!0},{name:"pullingText",label:"下拉过程提示文案",type:"input-text",visibleOn:"!this.disabled"},{name:"loosingText",label:"释放过程提示文案",type:"input-text",visibleOn:"!this.disabled"}]}]}])]},t}return n.__extends(t,e),t}(o.BasePlugin);t.PagePlugin=d,(0,i.registerEditorPlugin)(d)},2398:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PanelPlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(9756),r=a(9933),s=a(9547),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="panel",t.$schema="/schemas/panelSchema.json",t.name="面板",t.isBaseComponent=!0,t.icon="fa fa-window-maximize",t.description="展示一个面板，可以配置标题，内容区。",t.docLink="/amis/zh-CN/components/panel",t.tags="容器",t.scaffold={type:"panel",title:"标题",body:"内容"},t.previewSchema={type:"panel",title:"这是一个面板",body:"这是内容区",className:"Panel--default text-left m-b-none",actions:[{label:"按钮1",type:"button"},{label:"按钮2",type:"button"}]},t.regions=[{key:"body",label:"内容区",renderMethod:"renderBody",renderMethodOverride:function(e,t){return function(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];var l=this.props.$$editor,i=this.super.apply(this,a);return l&&!this.props.children?t(this,i,e,l,l.plugin.manager):i}}},{key:"actions",label:"按钮组",renderMethod:"renderActions",preferTag:"按钮"}],t.panelTitle="面板",t.panelBodyCreator=function(e){var a=/(?:^|\/)form$/.test(e.path);return[(0,s.getSchemaTpl)("tabs",[{title:"常规",body:[{label:"标题",name:"title",type:"input-text"},a?null:{children:i.default.createElement(l.Button,{size:"sm",level:"info",className:"m-b",onClick:function(){t.manager.showRendererPanel("")},block:!0},"内容区新增内容")}]},{title:"外观",body:[(0,s.getSchemaTpl)("switch",{name:"affixFooter",label:"固定底部",value:!1}),(0,s.getSchemaTpl)("horizontal",{visibleOn:'(data.mode || data.$$formMode) == "horizontal" && data.$$mode == "form"'}),{name:a?"panelClassName":"className",label:"样式",type:"button-group-select",size:"sm",pipeIn:function(e){return"string"==typeof e&&/(?:^|\s)(Panel\-\-(\w+))(?:$|\s)/.test(e)?RegExp.$1:""},pipeOut:function(e,t){return t?"".concat(t.replace(/(?:^|\s)(Panel\-\-(\w+))(?=($|\s))/g,"")," ").concat(e).replace(/\s+/g," ").trim():e},options:[{label:"默认",value:"Panel--default"},{label:"主色",value:"Panel--primary"},{label:"提示",value:"Panel--info"},{label:"成功",value:"Panel--success"},{label:"警告",value:"Panel--warning"},{label:"危险",value:"Panel--danger"}]},(0,s.getSchemaTpl)("className",{name:a?"panelClassName":"className",pipeIn:(0,s.defaultValue)("Panel--default")}),(0,s.getSchemaTpl)("className",{name:"headerClassName",label:"头部区域 CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"bodyClassName",label:"内容区域 CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"footerClassName",label:"底部区域 CSS 类名"}),(0,s.getSchemaTpl)("className",{name:"actionsClassName",label:"按钮外层 CSS 类名"}),(0,s.getSchemaTpl)("subFormItemMode"),(0,s.getSchemaTpl)("subFormHorizontalMode"),(0,s.getSchemaTpl)("subFormHorizontal")]},{title:"显隐",body:[(0,s.getSchemaTpl)("ref"),(0,s.getSchemaTpl)("visible")]}])]},t}return n.__extends(t,e),t.prototype.buildEditorPanel=function(t,a){t.path;var n=t.schema,l=this.manager.store;"form"!==t.info.renderer.name||!1===n.wrapWithPanel||t.selections.length?e.prototype.buildEditorPanel.call(this,t,a):a.push({key:"panel",icon:"fa fa-list-alt",title:this.panelTitle,render:this.manager.makeSchemaFormRender({body:this.panelBodyCreator(t),panelById:l.activeId})})},t}(r.BasePlugin);t.PanelPlugin=d,(0,o.registerEditorPlugin)(d)},4450:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AvailableRenderersPlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(1502),o=a(6151),r=a(9756),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.order=-9999,t}return n.__extends(t,e),t.prototype.buildEditorPanel=function(e,t){var a=this.manager.store;e.selections.length||a.subRenderers.length&&t.push({key:"renderers",icon:"png-icon renderers-png",title:l.default.createElement("span",{className:"editor-tab-icon","editor-tooltip":"组件"},l.default.createElement(i.Icon,{icon:"editor-renderer"})),component:o.AvailableRenderersPanel,position:"left",order:-9999})},t}(a(9933).BasePlugin);t.AvailableRenderersPlugin=s,(0,r.registerEditorPlugin)(s)},8540:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CodePlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(1502),o=n.__importDefault(a(4212)),r=a(9756),s=a(9933),d=n.__importDefault(a(2128)),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.order=-9999,t}return n.__extends(t,e),t.prototype.buildJSONSchema=function(e){return e.info.$schema},t.prototype.buildEditorPanel=function(e,t){e.info;var a=e.selections;this.manager.store.jsonSchemaUri&&!a.length&&t.push({key:"code",icon:"png-icon code-png",title:l.default.createElement("span",{className:"editor-tab-icon","editor-tooltip":"代码"},l.default.createElement(i.Icon,{icon:"editor-code"})),position:"left",component:(0,d.default)(o.default),order:5e3})},t}(s.BasePlugin);t.CodePlugin=c,(0,r.registerEditorPlugin)(c)},282:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NamePlugin=void 0;var n=a(752),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.order=-9999,t}return n.__extends(t,e),t.prototype.buildEditorPanel=function(e,t){e.info,e.selections},t}(a(9933).BasePlugin);t.NamePlugin=l},8474:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OutlinePlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(1502),o=a(411),r=a(9756),s=a(9933),d=n.__importDefault(a(2128)),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.order=-9999,t}return n.__extends(t,e),t.prototype.buildEditorPanel=function(e,t){var a=this.manager.store;if(a&&e.selections.length){var n=a.changeLeftPanelOpenStatus,r=a.changeLeftPanelKey;n(!0),r("outline")}t.push({key:"outline",icon:"png-icon outline-png",title:l.default.createElement("span",{className:"editor-tab-icon","editor-tooltip":"大纲"},l.default.createElement(i.Icon,{icon:"editor-outline"})),component:(0,d.default)(o.OutlinePanel),position:"left",order:4e3})},t}(s.BasePlugin);t.OutlinePlugin=c,(0,r.registerEditorPlugin)(c)},9227:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PlainPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="plain",t.$schema="/schemas/PlainSchema.json",t.disabledRendererPlugin=!0,t.name="纯文本",t.isBaseComponent=!0,t.icon="fa fa-file-text-o",t.description="用来展示纯文字，html 标签会被转义。",t.docLink="/amis/zh-CN/components/plain",t.tags=["展示"],t.previewSchema={type:"plain",text:"这是纯文本",className:"text-center",inline:!1},t.scaffold={type:"plain",tpl:"内容",inline:!1},t.panelTitle="纯文本",t.panelBodyCreator=function(e){var t="table-cell"===e.info.renderer.name;return(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{label:"内容",type:"textarea",pipeIn:function(e,t){return e||t&&t.text},name:"tpl",description:'如果当前字段有值，请不要设置，否则覆盖。支持使用 <code>\\${xxx}</code> 来获取变量，或者用 lodash.template 语法来写模板逻辑。<a target="_blank" href="/amis/zh-CN/docs/concepts/template">详情</a>'},{name:"placeholder",label:"占位符",type:"input-text",pipeIn:(0,o.defaultValue)("-")}]},t?null:{title:"外观",body:[(0,o.getSchemaTpl)("switch",{name:"inline",label:"内联模式",value:!0}),(0,o.getSchemaTpl)("className")]},t?null:{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}])},t}return n.__extends(t,e),t}(i.BasePlugin);t.PlainPlugin=r,(0,l.registerEditorPlugin)(r)},6218:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(2759),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="progress",t.$schema="/schemas/ProgressSchema.json",t.name="进度展示",t.searchKeywords="进度条、progress",t.isBaseComponent=!0,t.description="用来展示进度。可配置各个进度段用不同的颜色展示。",t.docLink="/amis/zh-CN/components/progress",t.tags=["展示"],t.icon="fa fa-angle-double-right",t.scaffold={type:"progress",value:66,strokeWidth:6},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="进度",t.panelJustify=!0,t.panelBodyCreator=function(e){var t=!!(null==e?void 0:e.info.renderer.isFormItem);return(0,o.getSchemaTpl)("tabs",[{title:"属性",body:(0,o.getSchemaTpl)("collapseGroup",[{title:"基本",body:[{label:"类型",name:"mode",type:"select",option:"继承",value:"line",tiled:!0,options:[{label:"线形",value:"line"},{label:"圆形",value:"circle"},{label:"仪表盘",value:"dashboard"}],onChange:function(e,t,a,n){"circle"===e?(n.setValueByName("gapDegree",0),n.setValueByName("gapPosition","")):"dashboard"===e&&(n.setValueByName("gapDegree",75),n.setValueByName("gapPosition","bottom"))}},{type:"input-number",name:"value",label:"默认值",min:0,max:100},(0,o.getSchemaTpl)("menuTpl",{name:"valueTpl"}),(0,o.getSchemaTpl)("switch",{name:"showLabel",label:"进度值",pipeIn:(0,o.defaultValue)(!0)}),(0,o.getSchemaTpl)("placeholder",{value:"-",placeholder:"无数据空位提示",label:(0,r.tipedLabel)("占位提示","数据字段未定义时的值，不包括0")})]},(0,o.getSchemaTpl)("status",{isFormItem:t})])},{title:"外观",body:(0,o.getSchemaTpl)("collapseGroup",[{title:"基本",body:[{type:"select",name:"progressClassName",label:"尺寸",value:"",options:[{label:"极小",value:"w-xs"},{label:"小",value:"w-sm"},{label:"中",value:"w-md"},{label:"大",value:"w-lg"},{label:"默认",value:""}]},{type:"input-number",name:"strokeWidth",label:"线条宽度",value:6,min:0,max:100},{type:"input-number",name:"gapDegree",visibleOn:'data.mode === "dashboard"',label:"缺口角度",value:75,min:0,max:295},{label:"缺口位置",name:"gapPosition",type:"button-group-select",visibleOn:'data.mode === "dashboard"',value:(0,o.defaultValue)("bottom"),tiled:!0,options:[{label:"上",value:"top"},{label:"下",value:"bottom"},{label:"左",value:"left"},{label:"右",value:"right"}]},(0,o.getSchemaTpl)("switch",{name:"animate",label:"显示动画",visibleOn:'data.mode === "line"'}),{type:"button-group-select",name:"style",label:"样式",visibleOn:'data.mode === "line"',options:[{label:"纯色",value:"purity"},{label:"条纹",value:"stripe"}],pipeIn:function(e,t){var a;return(null===(a=t.data)||void 0===a?void 0:a.stripe)?"stripe":"purity"},onChange:function(e,t,a,n){n.setValueByName("stripe","stripe"===e)}},{name:"map",type:"combo",mode:"normal",multiple:!0,label:(0,r.tipedLabel)("颜色","分配不同的值段，用不同的颜色提示用户"),items:[{type:"input-number",name:"value",placeholder:"value",required:!0,columnClassName:"w-xs",unique:!0,min:0,step:10,precision:0},{placeholder:"color",type:"input-color",name:"color",required:!0}],value:[{color:"#dc3545",value:20},{color:"#fad733",value:60},{color:"#28a745",value:100}],pipeIn:function(e){return Array.isArray(e)?e:[]}}]},(0,o.getSchemaTpl)("style:classNames",{schema:[],isFormItem:t})])}])},t}return n.__extends(t,e),t}(i.BasePlugin);t.ProgressPlugin=s,(0,l.registerEditorPlugin)(s)},3470:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="property",t.$schema="/schemas/PropertySchema.json",t.name="属性表",t.isBaseComponent=!0,t.icon="fa fa-list",t.description="属性表",t.docLink="/amis/zh-CN/components/property",t.tags=["其他"],t.scaffold={type:"property",title:"机器配置",items:[{label:"cpu",content:"1 core"},{label:"memory",content:"4G"},{label:"disk",content:"80G"},{label:"network",content:"4M",span:2},{label:"IDC",content:"beijing"},{label:"Note",content:"其它说明",span:3}]},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="属性表",t.panelBody=[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{label:"标题",type:"input-text",name:"title"},{label:"每行显示几列",type:"input-number",value:3,name:"column"},{type:"radios",name:"mode",inline:!0,value:"table",label:"显示模式",options:["table","simple"]},{label:"分隔符",type:"input-text",name:"separator",visibleOn:'data.mode === "simple"'},{label:"属性取自变量",type:"input-text",name:"source"},{label:"属性列表",name:"items",type:"combo",multiple:!0,multiLine:!0,draggable:!0,addButtonText:"新增",items:[{type:"input-text",mode:"inline",size:"sm",label:"属性名",name:"label"},{type:"input-text",mode:"inline",size:"sm",label:"属性值",name:"content"},{type:"input-number",mode:"inline",size:"sm",label:"跨几列",value:1,name:"span"}]}]},{title:"外观",body:[(0,o.getSchemaTpl)("className")]},{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}])],t}return n.__extends(t,e),t}(i.BasePlugin);t.PropertyPlugin=r,(0,l.registerEditorPlugin)(r)},2500:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.QRCodePlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="qrcode",t.$schema="/schemas/QRCodeSchema.json",t.name="二维码",t.isBaseComponent=!0,t.description="可以用来生成二维码",t.docLink="/amis/zh-CN/components/qrcode",t.tags=["功能"],t.icon="fa fa-qrcode",t.scaffold={type:"qrcode",value:"https://amis.baidu.com"},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="二维码",t.panelBody=[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{name:"value",type:"input-text",label:"二维码值",pipeIn:(0,o.defaultValue)("https://www.baidu.com"),description:"支持使用 <code>\\${xxx}</code> 来获取变量"},{name:"level",type:"select",label:"复杂度",pipeIn:(0,o.defaultValue)("L"),options:[{label:"L",value:"L"},{label:"M",value:"M"},{label:"Q",value:"Q"},{label:"H",value:"H"}]}]},{title:"外观",body:[{name:"codeSize",type:"input-number",label:"宽高值",pipeIn:(0,o.defaultValue)(128)},{name:"backgroundColor",type:"input-color",label:"背景色",pipeIn:(0,o.defaultValue)("#fff")},{name:"foregroundColor",type:"input-color",label:"前景色",pipeIn:(0,o.defaultValue)("#000")},(0,o.getSchemaTpl)("className")]},{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}])],t}return n.__extends(t,e),t}(i.BasePlugin);t.QRCodePlugin=r,(0,l.registerEditorPlugin)(r)},7328:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResetPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="reset",t.disabledRendererPlugin=!0,t.name="重置",t.isBaseComponent=!0,t.icon="fa fa-eraser",t.description="一般用来重置表单数据到初始值。",t.panelTitle="按钮",t.scaffold={type:"reset",label:"重置"},t.previewSchema=n.__assign({},t.scaffold),t}return n.__extends(t,e),t}(a(6460).ButtonPlugin);t.ResetPlugin=i,(0,l.registerEditorPlugin)(i)},946:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ServicePlugin=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(6689)),o=a(9756),r=a(9933),s=a(9547),d=a(3570),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="service",t.$schema="/schemas/ServiceSchema.json",t.name="服务 Service",t.isBaseComponent=!0,t.description="功能性容器，可以用来加载数据或者加载渲染器配置。加载到的数据在容器可以使用。",t.docLink="/amis/zh-CN/components/service",t.tags=["功能"],t.icon="fa fa-server",t.scaffold={type:"service",body:[{type:"tpl",tpl:"内容",inline:!1}]},t.previewSchema={type:"tpl",tpl:"功能性组件，用于数据拉取。"},t.regions=[{key:"body",label:"内容区"}],t.panelTitle="服务",t.panelBodyCreator=function(e){return(0,s.getSchemaTpl)("tabs",[{title:"常规",body:[{children:i.default.createElement(l.Button,{level:"info",size:"sm",className:"m-b-sm",block:!0,onClick:function(){t.manager.showRendererPanel("")}},"添加内容")},{type:"divider"},(0,s.getSchemaTpl)("api",{label:"数据接口"}),(0,s.getSchemaTpl)("data"),{name:"ws",type:"input-text",label:"WebSocket 实时更新接口"},(0,s.getSchemaTpl)("initFetch"),{name:"interval",label:"定时刷新间隔",visibleOn:"this.api",type:"input-number",step:500,description:"设置后将自动定时刷新，单位 ms"},(0,s.getSchemaTpl)("switch",{name:"silentPolling",label:"静默加载",visibleOn:"!!data.interval",description:"设置自动定时刷新是否显示加载动画"}),{name:"stopAutoRefreshWhen",label:"停止定时刷新检测",type:"input-text",visibleOn:"!!data.interval",description:"定时刷新一旦设置会一直刷新，除非给出表达式，条件满足后则不刷新了。"},{type:"divider"},(0,s.getSchemaTpl)("api",{name:"schemaApi",label:"内容 Schema 接口"}),{type:"divider"},(0,s.getSchemaTpl)("initFetch",{name:"initFetchSchema",visibleOn:"data.schemaApi",label:"初始是否拉取内容 Schema 接口"}),{type:"js-editor",allowFullscreen:!0,name:"dataProvider",label:"自定义函数获取数据",description:"将会传递 data 和 setData 两个参数"},{label:"默认消息信息",type:"combo",name:"messages",multiLine:!0,description:"设置 service 默认提示信息，当 service 没有返回 msg 信息时有用，如果 service 返回携带了 msg 值，则还是以 service 返回为主",items:[{label:"获取成功",type:"input-text",name:"fetchSuccess"},{label:"获取失败",type:"input-text",name:"fetchFailed"}]}]},{title:"外观",body:[(0,s.getSchemaTpl)("className")]},{title:"其他",body:[(0,s.getSchemaTpl)("ref"),(0,s.getSchemaTpl)("name"),(0,s.getSchemaTpl)("visible"),(0,s.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,d.getEventControlConfig)(t.manager,e)))]}])},t}return n.__extends(t,e),t}(r.BasePlugin);t.ServicePlugin=c,(0,o.registerEditorPlugin)(c)},1886:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SparklinePlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="sparkline",t.$schema="/schemas/SparklineSchema.json",t.name="走势图",t.isBaseComponent=!0,t.description="用于内嵌展示简单图表",t.docLink="/amis/zh-CN/components/sparkline",t.tags=["展示"],t.icon="fa fa-area-chart",t.scaffold={type:"sparkline",height:30,value:[3,5,2,4,1,8,3,7]},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="走势图",t.panelBody=[{name:"height",type:"input-number",label:"高度"}],t}return n.__extends(t,e),t}(a(9933).BasePlugin);t.SparklinePlugin=i,(0,l.registerEditorPlugin)(i)},8979:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatusPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="status",t.$schema="/schemas/StatusSchema.json",t.name="状态显示",t.isBaseComponent=!0,t.description="用图标更具关联字段来展示状态，比如 1 展示 √、0 展示 x。这块可以自定义配置",t.docLink="/amis/zh-CN/components/status",t.tags=["展示"],t.icon="fa fa-check-square-o",t.scaffold={type:"status",value:1},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="状态",t.panelBodyCreator=function(e){var t=/\/field\/\w+$/.test(e.path);return[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[t?{type:"tpl",inline:!1,className:"text-info text-sm",tpl:"<p>当前为字段内容节点配置，选择上层还有更多的配置。</p>"}:null,{name:"map",label:"图标配置",type:"input-array",items:{type:"input-text"},descrition:"配置不通的值段，用不通的样式提示用户",pipeIn:(0,o.defaultValue)(["fa fa-times text-danger","fa fa-check text-success"])},{name:"placeholder",type:"input-text",pipeIn:(0,o.defaultValue)("-"),label:"占位符"}]},{title:"外观",body:[(0,o.getSchemaTpl)("className")]},{title:"显隐",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("visible")]}])]},t}return n.__extends(t,e),t}(i.BasePlugin);t.StatusPlugin=r,(0,l.registerEditorPlugin)(r)},46:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StepsPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="steps",t.$schema="/schemas/StepsSchema.json",t.name="Steps 步骤条",t.isBaseComponent=!0,t.icon="fa fa-forward",t.description="Steps 步骤条",t.docLink="/amis/zh-CN/components/steps",t.tags=["展示"],t.scaffold={type:"steps",value:1,steps:[{title:"第一步",subTitle:"副标题",description:"描述"},{title:"第二步"},{title:"第三步"}]},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="Steps",t.panelBody=[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{name:"steps",label:"步骤列表",type:"combo",scaffold:{type:"wrapper",body:"子节点内容"},minLength:2,multiple:!0,draggable:!0,items:[{type:"input-text",name:"title",label:!1,placeholder:"标题"},{type:"input-text",name:"subTitle",label:!1,placeholder:"副标题"},{type:"input-text",name:"description",label:!1,placeholder:"描述"}]},{name:"value",type:"input-text",label:"当前步骤",description:"以零为起点"},{name:"status",type:"select",label:"当前状态",creatable:!0,value:"finish",options:[{label:"进行中",value:"process"},{label:"等待",value:"wait"},{label:"完成",value:"finish"},{label:"出错",value:"error"}]},(0,o.getSchemaTpl)("api",{name:"source",label:"获取步骤接口"})]},{title:"外观",body:[(0,o.getSchemaTpl)("className")]},{title:"显隐",body:[(0,o.getSchemaTpl)("visible")]}])],t}return n.__extends(t,e),t}(i.BasePlugin);t.StepsPlugin=r,(0,l.registerEditorPlugin)(r)},9268:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SubmitPlugin=void 0;var n=a(752),l=a(9756),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="submit",t.disabledRendererPlugin=!0,t.name="提交",t.isBaseComponent=!0,t.description="用来提交表单，要求表单验证，如果在弹窗中会自动关闭弹窗。",t.panelTitle="按钮",t.scaffold={type:"submit",label:"提交",level:"primary"},t.previewSchema=n.__assign({},t.scaffold),t}return n.__extends(t,e),t}(a(6460).ButtonPlugin);t.SubmitPlugin=i,(0,l.registerEditorPlugin)(i)},7599:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TablePlugin=void 0;var n=a(752),l=a(1502),i=a(9756),o=a(9933),r=a(9547),s=a(3570),d=a(9794),c=a(6374),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="table",t.$schema="/schemas/TableSchema.json",t.name="表格",t.isBaseComponent=!0,t.description="用来展示表格数据，可以配置列信息，然后关联数据便能完成展示。支持嵌套、超级表头、列固定、表头固顶、合并单元格等等。当前组件需要配置数据源，不自带数据拉取，请优先使用 「CRUD」 组件。",t.docLink="/amis/zh-CN/components/table",t.icon="fa fa-table",t.scaffold={type:"table",columns:[{label:"列信息",name:"a"}]},t.regions=[{key:"columns",label:"列集合",renderMethod:"renderTableContent",preferTag:"展示",dndMode:"position-h"}],t.previewSchema={type:"table",className:"text-left m-b-none",affixHeader:!1,items:[{a:1,b:2},{a:3,b:4},{a:5,b:6}],columns:[{label:"A",name:"a"},{label:"B",name:"b"}]},t.scaffoldForm={title:"快速构建表格",body:[{name:"columns",type:"combo",multiple:!0,label:!1,addButtonText:"新增一列",draggable:!0,items:[{type:"input-text",name:"label",placeholder:"标题"},{type:"input-text",name:"name",placeholder:"绑定字段名"},{type:"select",name:"type",placeholder:"类型",value:"text",options:[{value:"text",label:"纯文本"},{value:"tpl",label:"模板"},{value:"image",label:"图片"},{value:"date",label:"日期"},{value:"progress",label:"进度"},{value:"status",label:"状态"},{value:"mapping",label:"映射"},{value:"operation",label:"操作栏"}]}]}],canRebuild:!0},t.panelTitle="表格",t.panelBodyCreator=function(e){var t="crud"===e.schema.type;return(0,r.getSchemaTpl)("tabs",[{title:"常规",body:[{name:"title",type:"input-text",label:"标题"},t?null:{name:"source",type:"input-text",label:"数据源",pipeIn:(0,r.defaultValue)("${items}"),description:"绑定当前环境变量"},{name:"combineNum",label:"自动合并单元格",type:"input-number",placeholder:"设置列数",description:"设置从左到右多少列内启用自动合并单元格，根据字段值是否相同来决定是否合并。"}]},{title:"外观",body:[{name:"columnsTogglable",label:"展示列显示开关",type:"button-group-select",pipeIn:(0,r.defaultValue)("auto"),mode:"inline",className:"w-full",size:"xs",options:[{label:"自动",value:"auto"},{label:"开启",value:!0},{label:"关闭",value:!1}],description:"自动即列数量大于5个时自动开启"},(0,r.getSchemaTpl)("switch",{name:"affixHeader",label:"是否固顶表头",pipeIn:(0,r.defaultValue)(!0)}),(0,r.getSchemaTpl)("switch",{name:"showHeader",label:"是否显示头部",pipeIn:(0,r.defaultValue)(!0)}),(0,r.getSchemaTpl)("switch",{name:"showFooter",label:"是否显示底部",pipeIn:(0,r.defaultValue)(!0)}),(0,r.getSchemaTpl)("switch",{name:"footable",label:"是否开启单条底部展示",description:"如果列太多显示会很臃肿，可以考虑把部分列放在当前行的底部展示",pipeIn:function(e){return!!e}}),{name:"footable.expand",type:"button-group-select",size:"xs",visibleOn:"data.footable",label:"底部默认展开",pipeIn:(0,r.defaultValue)("none"),mode:"inline",className:"w-full",options:[{label:"第一条",value:"first"},{label:"所有",value:"all"},{label:"不展开",value:"none"}]},{name:"placeholder",pipeIn:(0,r.defaultValue)("暂无数据"),type:"input-text",label:"无数据提示"},{name:"rowClassNameExpr",type:"input-text",label:"行高亮规则",placeholder:"支持模板语法，如 <%= data.id % 2 ? 'bg-success' : '' %>"},(0,r.getSchemaTpl)("className",{label:"外层 CSS 类名"}),(0,r.getSchemaTpl)("className",{name:"tableClassName",label:"表格 CSS 类名"}),(0,r.getSchemaTpl)("className",{name:"headerClassName",label:"顶部外层 CSS 类名"}),(0,r.getSchemaTpl)("className",{name:"footerClassName",label:"底部外层 CSS 类名"}),(0,r.getSchemaTpl)("className",{name:"toolbarClassName",label:"工具栏 CSS 类名"})]},{title:"显隐",body:[(0,r.getSchemaTpl)("ref"),(0,r.getSchemaTpl)("visible")]}])},t}return n.__extends(t,e),t.prototype.filterProps=function(e){var t=Array.isArray(e.value)?e.value:"string"==typeof e.source?(0,l.resolveVariable)(e.source,e.data):(0,l.resolveVariable)("items",e.data);if(Array.isArray(t)&&t.length)e.value=t.slice(0,10);else{var a={};Array.isArray(e.columns)&&e.columns.forEach((function(e){e.name&&(0,d.setVariable)(a,e.name,(0,c.mockValue)(e))})),e.value=(0,s.repeatArray)(a,1).map((function(e,t){return n.__assign(n.__assign({},e),{id:t+1})}))}return e},t.prototype.getRendererInfo=function(t){var a,l=this,i=t.schema,o=t.renderer;return i.$$id||"crud"!==(null===(a=i.$$editor)||void 0===a?void 0:a.renderer.name)||"table"!==o.name?e.prototype.getRendererInfo.call(this,t):n.__assign(n.__assign({},{id:i.$$editor.id}),{name:l.name,regions:l.regions,patchContainers:l.patchContainers,vRendererConfig:l.vRendererConfig,wrapperProps:l.wrapperProps,wrapperResolve:l.wrapperResolve,filterProps:l.filterProps,$schema:l.$schema,renderRenderer:l.renderRenderer})},t.prototype.beforeInsert=function(e){var t,a,l,i,o=e.context;o.info.plugin!==this&&(null===(t=o.node.sameIdChild)||void 0===t?void 0:t.info.plugin)!==this||"columns"!==o.region||(o.data=n.__assign(n.__assign({},o.data),{label:null!==(i=null!==(a=o.data.label)&&void 0!==a?a:null===(l=o.subRenderer)||void 0===l?void 0:l.name)&&void 0!==i?i:"列名称"}))},t.prototype.buildDataSchemas=function(e,t){var a,l;return n.__awaiter(this,void 0,void 0,(function(){var i,o,r,s,d,c,p,u,m;return n.__generator(this,(function(n){switch(n.label){case 0:i={$id:"tableRow",type:"object",properties:{}},o=e.children.find((function(e){return e.isRegion&&"columns"===e.region})),r=0,s=o.children,n.label=1;case 1:return r<s.length?(d=s[r],(c=d.schema).name?(p=i.properties,u=c.name,(null===(l=null===(a=d.info)||void 0===a?void 0:a.plugin)||void 0===l?void 0:l.buildDataSchemas)?[4,d.info.plugin.buildDataSchemas(d,t)]:[3,3]):[3,5]):[3,6];case 2:return m=n.sent(),[3,4];case 3:m={type:"string",title:c.label||c.name,description:c.description},n.label=4;case 4:p[u]=m,n.label=5;case 5:return r++,[3,1];case 6:return"columns"===(null==t?void 0:t.region)?[2,i]:[2,{$id:"table",type:"object",properties:{items:{type:"array",items:i}}}]}}))}))},t}(o.BasePlugin);t.TablePlugin=p,(0,i.registerEditorPlugin)(p)},2156:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TableViewPlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(9756),o=a(9933),r=a(9547),s=a(5863),d=a(1578),c=a(3570),p={body:{type:"tpl",tpl:"---"}};function u(e){if(!e)return{trs:[]};for(var t=[],a=0,n=0,l=e.trs||[];n<l.length;n++){for(var i=0,o=0,r=l[n].tds||[];o<r.length;o++){for(var s=r[o];t[a]&&t[a][i];)i+=1;var d=s.rowspan||1,c=s.colspan||1;if(d>1||c>1)for(var p=0;p<d;p++){var u=a+p;t[u]||(t[u]=[]);for(var m=0;m<c;m++){var h=i+m;t[u][h]=!0}}s.$$row=a,s.$$col=i,i+=1}a+=1}return e}var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="table-view",t.$schema="/schemas/TableViewSchema.json",t.name="表格视图",t.isBaseComponent=!0,t.icon="fa fa-columns",t.description="表格类型的展现",t.docLink="/amis/zh-CN/components/table-view",t.tags=["容器"],t.scaffold={type:"table-view",trs:[{background:"#F7F7F7",tds:[{body:{type:"tpl",tpl:"地区"}},{body:{type:"tpl",tpl:"城市"}},{body:{type:"tpl",tpl:"销量"}}]},{tds:[{rowspan:2,body:{type:"tpl",tpl:"华北"}},{body:{type:"tpl",tpl:"北京"}},{body:{type:"tpl",tpl:"${beijing}"}}]},{tds:[{body:{type:"tpl",tpl:"天津"}},{body:{type:"tpl",tpl:"${tianjing}"}}]}]},t.previewSchema=n.__assign({},t.scaffold),t.regions=[{key:"body",label:"内容区",renderMethod:"renderTdBody",preferTag:"展示"}],t.panelTitle="表格视图",t.panelBody=[(0,r.getSchemaTpl)("tabs",[{title:"属性",className:"p-none",body:[(0,r.getSchemaTpl)("collapseGroup",[{title:"常用",body:[{label:"标题",name:"caption",type:"input-text"},{label:"标题位置",name:"captionSide",type:"button-group-select",size:"sm",mode:"row",className:"ae-buttonGroupSelect--justify",visibleOn:"this.caption",options:[{label:"顶部",value:"top"},{label:"底部",value:"bottom"}]},{type:"input-text",label:"视图宽度",name:"width",clearable:!0},{type:"input-text",label:"单元格默认内间距",name:"padding",clearable:!0},{label:"显示边框",name:"border",type:"switch",mode:"row",inputClassName:"inline-flex justify-between flex-row-reverse"},{label:"边框颜色",type:"input-color",name:"borderColor",visibleOn:"this.border",pipeIn:(0,r.defaultValue)("#eceff8")}]}])]},{title:"外观",className:"p-none",body:(0,r.getSchemaTpl)("collapseGroup",n.__spreadArray(n.__spreadArray([],(0,r.getSchemaTpl)("style:common"),!0),[{title:"CSS 类名",body:[(0,r.getSchemaTpl)("className")]}],!1))},{title:"状态",body:[(0,r.getSchemaTpl)("visible")]}])],t.fieldWrapperResolve=function(e){return e},t.overrides={renderTd:function(e,t,a){var n=this.super(e,t,a),i=this.props.$$editor;if(!i||!e.$$id)return n;var o=i.plugin,r=e.$$id;return l.default.createElement(s.VRenderer,{type:i.type,plugin:i.plugin,renderer:i.renderer,key:r,$schema:"/schemas/TdObject.json",hostId:i.id,memberIndex:t,name:"".concat("单元格 ".concat(a+1,",").concat(t+1)),id:r,draggable:!1,wrapperResolve:o.fieldWrapperResolve,schemaPath:"".concat(i.schemaPath,"/td"),path:"".concat(this.props.$path,"/tr/").concat(a,"/td/").concat(t),data:this.props.data,children:n})},renderTr:function(e,t){var a=this.super(e,t),n=this.props.$$editor;if(!n||!e.$$id)return a;var i=n.plugin,o=e.$$id;return l.default.createElement(s.VRenderer,{type:n.type,plugin:n.plugin,renderer:n.renderer,key:o,$schema:"/schemas/TrObject.json",hostId:n.id,memberIndex:t,name:"".concat("行 ".concat(t+1)),id:o,draggable:!1,wrapperResolve:i.fieldWrapperResolve,schemaPath:"".concat(n.schemaPath,"/tr"),path:"".concat(this.props.$path,"/tr/").concat(t),data:this.props.data,children:a})}},t.tdVRendererConfig={panelTitle:"单元格",panelBodyCreator:function(e){return[(0,r.getSchemaTpl)("tabs",[{title:"属性",className:"p-none",body:[(0,r.getSchemaTpl)("collapseGroup",[{title:"显示",body:[{label:"背景色",type:"input-color",name:"background"},{label:"文字颜色",type:"input-color",name:"color"},{label:"文字加粗",name:"bold",type:"switch",mode:"row",inputClassName:"inline-flex justify-between flex-row-reverse"}]},{title:"布局",body:[{type:"input-text",label:"单元格宽度",name:"width",clearable:!0},{type:"input-number",name:"padding",label:"单元格内边距"},{label:"水平对齐",name:"align",type:"button-group-select",size:"sm",mode:"row",className:"ae-buttonGroupSelect--justify",options:[{label:"",value:"left",icon:"fa fa-align-left"},{label:"",value:"center",icon:"fa fa-align-center"},{label:"",value:"right",icon:"fa fa-align-right"},{label:"",value:"justify",icon:"fa fa-align-justify"}]},{label:"垂直对齐",name:"valign",type:"button-group-select",size:"sm",mode:"row",className:"ae-buttonGroupSelect--justify",options:[{label:"顶部",value:"top"},{label:"居中",value:"middle"},{label:"底部",value:"bottom"},{label:"基线对齐",value:"baseline"}]},{type:"input-number",name:"colspan",label:"水平合并列数"},{type:"input-number",name:"rowspan",label:"垂直合并列数"}]}])]},{title:"外观",className:"p-none",body:(0,r.getSchemaTpl)("collapseGroup",(0,r.getSchemaTpl)("style:common"))}])]}},t.trVRendererConfig={panelTitle:" 行",panelBodyCreator:function(e){return[(0,r.getSchemaTpl)("tabs",[{title:"属性",body:[{label:"行高度",type:"input-number",name:"height"},{label:"行背景色",type:"input-color",name:"background"}]},{title:"外观",className:"p-none",body:(0,r.getSchemaTpl)("collapseGroup",(0,r.getSchemaTpl)("style:common"))}])]}},t}return n.__extends(t,e),t.prototype.renderRenderer=function(e){var t=e.$$editor.renderer,a=e.$schema;return u(a),l.default.createElement(d.TableViewEditor,{schema:a,manager:this.manager},l.default.createElement(t.component,n.__assign({},e)))},t.prototype.buildEditorPanel=function(t,a){e.prototype.buildEditorPanel.call(this,t,a);var n=this.manager.store;t.info.schemaPath.endsWith("/td")?a.push({key:"td",order:100,icon:this.tdVRendererConfig.panelIcon||"fa fa-tablet",title:this.tdVRendererConfig.panelTitle||"格子",render:this.manager.makeSchemaFormRender({controls:this.tdVRendererConfig.panelControlsCreator?this.tdVRendererConfig.panelControlsCreator(t):this.tdVRendererConfig.panelControls,body:this.tdVRendererConfig.panelBodyCreator?this.tdVRendererConfig.panelBodyCreator(t):this.tdVRendererConfig.panelBody,panelById:n.activeId})}):t.info.schemaPath.endsWith("/tr")&&a.push({key:"tr",order:100,icon:this.trVRendererConfig.panelIcon||"fa fa-tablet",title:this.trVRendererConfig.panelTitle||"格子",render:this.manager.makeSchemaFormRender({controls:this.trVRendererConfig.panelControlsCreator?this.trVRendererConfig.panelControlsCreator(t):this.trVRendererConfig.panelControls,body:this.trVRendererConfig.panelBodyCreator?this.trVRendererConfig.panelBodyCreator(t):this.trVRendererConfig.panelBody,panelById:n.activeId})})},t.prototype.insertRow=function(e,t){var a=this.manager.store,n=a.getNodePathById(e),l=n[n.length-3].id,i=a.getSchema(l);u(i);var o=(0,c.JSONGetById)(i,e);if(o){var r=o.$$row;"below"===t&&(r+=1);var s=i.trs[0],d=s.tds[s.tds.length-1];if(d){for(var m=d.$$col+(d.colspan||1),h=i.trs.length,f=0;f<i.trs.length;f++)for(var g=0,b=i.trs[f].tds||[];g<b.length;g++){var v=b[g],y=v.$$row,_=v.rowspan||1,S=v.colspan||1;if(_>1&&y+_>r&&(v.rowspan=_+1,m-=S),y===r){h=f;break}}for(var C=[],x=0;x<m;x++)C.push(p);i.trs.splice(h,0,{tds:C}),this.manager.store.changeValueById(l,i)}else console.warn("第一列没内容")}else console.warn("找不到对应的 td id")},t.prototype.insertCol=function(e,t){var a=this.manager.store,n=a.getNodePathById(e),l=n[n.length-3].id,i=a.getSchema(l);u(i);var o=(0,c.JSONGetById)(i,e);if(o){var r=o.$$col;"right"===t&&(r+=1);for(var s=0,d=i.trs||[];s<d.length;s++){for(var m=d[s].tds||[],h=!1,f=0;f<m.length;f++){var g=m[f],b=g.colspan||1,v=g.$$col;if(b>1&&v+b>r){g.colspan=b+1,h=!0;break}if(r<=v){m.splice(f,0,p),h=!0;break}}h||m.push(p)}this.manager.store.changeValueById(l,i)}else console.warn("找不到对应的 td id")},t.prototype.splitCell=function(e){var t=this.manager.store,a=t.getNodePathById(e),n=a[a.length-3].id,l=t.getSchema(n);u(l);var i=(0,c.JSONGetById)(l,e);if(i){var o=i.rowspan||1,r=i.colspan||1;i.colspan=1,i.rowspan=1;for(var s=i.$$row,d=i.$$col,m=[],h=0;h<o;h++)for(var f=0;f<r;f++)0===h&&0===f||m.push({row:s+h,col:d+f});m.sort((function(e,t){return t.col-e.col}));for(var g=0,b=l.trs;g<b.length;g++)for(var v=b[g],y=0;y<v.tds.length;y++)for(var _=v.tds[y],S=_.$$row,C=_.$$col,x=m.length;x--;){var w=m[x];S===w.row&&(w.col<=C?v.tds.splice(y,0,p):v.tds.push(p),m.splice(x,1))}if(m.length){var T=[];for(h=0;h<m.length;h++)T.push(p);l.trs.push({tds:T})}this.manager.store.changeValueById(n,l)}else console.warn("找不到对应的 td id")},t.prototype.buildEditorToolbar=function(e,t){var a=this,n=e.schema;if(e.info.schemaPath.endsWith("/td")){var l=n.$$id;t.push({icon:"fa fa-chevron-left",order:100,tooltip:"左侧新增列",onClick:function(){a.insertCol(l,"left")}}),t.push({icon:"fa fa-chevron-down",order:100,tooltip:"下方新增行",onClick:function(){a.insertRow(l,"below")}}),t.push({icon:"fa fa-chevron-up",order:100,tooltip:"上方新增行",onClick:function(){a.insertRow(l,"above")}}),t.push({icon:"fa fa-chevron-right",order:100,tooltip:"右侧新增列",onClick:function(){a.insertCol(l,"right")}});var i=n.colspan||1,o=n.rowspan||1;(i>1||o>1)&&t.push({icon:"fa fa-columns",order:100,tooltip:"拆分单元格",onClick:function(){a.splitCell(l)}})}},t}(o.BasePlugin);t.TableViewPlugin=m,(0,i.registerEditorPlugin)(m)},4300:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TabsPlugin=void 0;var n=a(752),l=n.__importDefault(a(6689)),i=a(9756),o=a(9933),r=a(9547),s=a(9703),d=a(5863),c=n.__importDefault(a(8425)),p=a(1548),u=a(1502),m=a(2759),h=a(935),f=a(3570),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="tabs",t.$schema="/schemas/TabsSchema.json",t.name="选项卡",t.isBaseComponent=!0,t.description="选项卡，可以将内容分组用选项卡的形式展示，降低用户使用成本。",t.docLink="/amis/zh-CN/components/tabs",t.tags=["容器"],t.icon="fa fa-folder-o",t.scaffold={type:"tabs",tabs:[{title:"选项卡1",body:"内容1"},{title:"选项卡2",body:"内容2"}]},t.previewSchema=n.__assign({},t.scaffold),t.notRenderFormZone=!0,t.regions=[{key:"toolbar",label:"工具栏",preferTag:"展示"}],t.panelTitle="选项卡",t.events=[{eventName:"change",eventLabel:"选项卡切换",description:"选项卡切换",dataSchema:[{type:"object",properties:{value:{type:"string",title:"选项卡索引"}}}]}],t.actions=[{actionType:"changeActiveKey",actionLabel:"修改激活tab值",description:"修改当前激活tab项的key",config:["activeKey"],desc:function(e){var t;return l.default.createElement("div",null,l.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"激活第",l.default.createElement("span",{className:"variable-left variable-right"},null===(t=null==e?void 0:e.args)||void 0===t?void 0:t.activeKey),"项")},schema:(0,h.getComboWrapper)({type:"input-formula",variables:"${variables}",evalMode:!1,variableMode:"tabs",label:"激活项",size:"lg",name:"activeKey",mode:"horizontal"})}],t.panelJustify=!0,t.panelBodyCreator=function(e){return(0,r.getSchemaTpl)("tabs",[{title:"属性",body:(0,r.getSchemaTpl)("collapseGroup",[{title:"基本",body:[(0,r.getSchemaTpl)("combo-container",{type:"combo",label:"选项卡",mode:"normal",name:"tabs",draggableTip:"",draggable:!0,multiple:!0,minLength:1,scaffold:{title:"选项卡",body:{type:"tpl",tpl:"内容",inline:!1}},items:[{type:"input-text",name:"title",required:!0}]}),(0,r.getSchemaTpl)("switch",{name:"showTip",label:(0,m.tipedLabel)("标题提示","鼠标移动到选项卡标题时弹出提示，适用于标题超长时进行完整提示"),visibleOn:'data.tabsMode !=="vertical" && data.tabsMode !=="sidebar" && data.tabsMode !=="chrome"',clearValueOnHidden:!0})]},(0,r.getSchemaTpl)("status"),{title:"高级",body:[{type:"ae-formulaControl",label:(0,m.tipedLabel)("关联数据","可用<code>\\${xxx}</code>取值，根据该数据来动态重复渲染所配置的选项卡"),name:"source"},(0,r.getSchemaTpl)("switch",{name:"mountOnEnter",label:(0,m.tipedLabel)("激活时渲染内容","只有激活选项卡时才进行内容渲染，提升渲染性能")}),(0,r.getSchemaTpl)("switch",{name:"unmountOnExit",label:(0,m.tipedLabel)("隐藏后销毁内容","激活其他选项卡时销毁当前内容，使其再次激活时内容可以重新渲染，适用于数据容器需要每次渲染实时获取数据的场景")})]}])},{title:"外观",body:[(0,r.getSchemaTpl)("collapseGroup",[{title:"基本",body:[{name:"tabsMode",label:"样式",type:"select",options:[{label:"默认",value:""},{label:"线型",value:"line"},{label:"简约",value:"simple"},{label:"加强",value:"strong"},{label:"卡片",value:"card"},{label:"仿 Chrome",value:"chrome"},{label:"水平铺满",value:"tiled"},{label:"选择器",value:"radio"},{label:"垂直",value:"vertical"},{label:"侧边栏",value:"sidebar"}],pipeIn:(0,r.defaultValue)("")},(0,r.getSchemaTpl)("horizontal-align",{label:"标题区位置",name:"sidePosition",pipeIn:(0,r.defaultValue)("left"),visibleOn:'data.tabsMode === "sidebar"',clearValueOnHidden:!0})]},(0,r.getSchemaTpl)("style:classNames",{isFormItem:!1,schema:[(0,r.getSchemaTpl)("className",{name:"linksClassName",label:"标题区"}),(0,r.getSchemaTpl)("className",{name:"toolbarClassName",label:"工具栏"}),(0,r.getSchemaTpl)("className",{name:"contentClassName",label:"内容区"}),(0,r.getSchemaTpl)("className",{name:"showTipClassName",label:"提示",visibleOn:"data.showTip",clearValueOnHidden:!0})]})])]},{title:"事件",className:"p-none",body:[(0,r.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,f.getEventControlConfig)(t.manager,e)))]}])},t.patchContainers=["tabs.body"],t.vRendererConfig={regions:{body:{key:"body",label:"内容区"}},panelTitle:"卡片",panelJustify:!0,panelBodyCreator:function(e){return(0,r.getSchemaTpl)("tabs",[{title:"属性",body:(0,r.getSchemaTpl)("collapseGroup",[{title:"基本",body:[{name:"title",label:"标题",type:"input-text",required:!0},{type:"ae-switch-more",formType:"extend",mode:"normal",label:"标题图标",form:{body:[(0,r.getSchemaTpl)("icon"),(0,r.getSchemaTpl)("horizontal-align",{label:"位置",name:"iconPosition",pipeIn:(0,r.defaultValue)("left"),visibleOn:"data.icon",clearValueOnHidden:!0})]}},{label:(0,m.tipedLabel)("Hash","设置后，会同步更新地址栏的 Hash。"),name:"hash",type:"input-text"}]},(0,r.getSchemaTpl)("status",{disabled:!0}),{title:"高级",body:[(0,r.getSchemaTpl)("switch",{name:"mountOnEnter",label:(0,m.tipedLabel)("激活时才渲染","当选项卡选中后才渲染其内容区，可提高渲染性能。"),visibleOn:"!this.reload",clearValueOnHidden:!0}),(0,r.getSchemaTpl)("switch",{name:"unmountOnExit",label:(0,m.tipedLabel)("隐藏即销毁","关闭选项卡则销毁其内容去，配置「激活时才渲染」选项可实现每次选中均重新加载的效果。"),visibleOn:"!this.reload",clearValueOnHidden:!0})]}])},{title:"外观",body:(0,r.getSchemaTpl)("collapseGroup",[(0,r.getSchemaTpl)("style:classNames",{isFormItem:!1})])}])}},t.wrapperProps={unmountOnExit:!0,mountOnEnter:!0},t.tabWrapperResolve=function(e){return e.parentElement},t.overrides={renderTabs:function(){var e=this,t=this.super();if(!this.renderTab&&this.props.$$editor&&t){var a=this.props.tabs;return(0,s.mapReactElement)(t,(function(t){var n,i;if(t.type===u.Tab&&t.props.$$id){var o=t.props.$$id,r=(0,c.default)(a,(function(e){return e.$$id===o})),s=e.props.$$editor,m=s.plugin;if(~r){var h=null===(i=null===(n=m.vRendererConfig)||void 0===n?void 0:n.regions)||void 0===i?void 0:i.body;return h?l.default.cloneElement(t,{children:l.default.createElement(d.VRenderer,{key:o,type:s.type,plugin:s.plugin,renderer:s.renderer,$schema:"/schemas/TabSchema.json",hostId:s.id,memberIndex:r,name:"".concat(t.props.title||"卡片".concat(r+1)),id:o,draggable:!1,wrapperResolve:m.tabWrapperResolve,schemaPath:"".concat(s.schemaPath,"/tabs/").concat(r),path:"".concat(e.props.$path,"/").concat(r),data:e.props.data},l.default.createElement(p.RegionWrapper,{key:h.key,preferTag:h.preferTag,name:h.key,label:h.label,regionConfig:h,placeholder:h.placeholder,editorStore:m.manager.store,manager:m.manager,children:t.props.children,wrapperResolve:h.wrapperResolve,rendererName:s.renderer.name}))}):t}}return t}))}return t}},t}return n.__extends(t,e),t.prototype.buildEditorToolbar=function(e,t){if(e.info.plugin===this&&"tabs"===e.info.renderer.name&&!e.info.hostId){var a=e.node;t.push({level:"secondary",icon:"fa fa-chevron-left",tooltip:"上个卡片",onClick:function(){var e=a.getComponent();if(null==e?void 0:e.switchTo){var t=e.currentIndex();e.switchTo(t-1)}}}),t.push({level:"secondary",icon:"fa fa-chevron-right",tooltip:"下个卡片",onClick:function(){var e=a.getComponent();if(null==e?void 0:e.switchTo){var t=e.currentIndex();e.switchTo(t+1)}}})}},t.prototype.onPreventClick=function(e){var t=e.context.data;return!t.defaultPrevented&&!t.target.closest("[role=tablist]>li")&&void 0},t}(o.BasePlugin);t.TabsPlugin=g,(0,i.registerEditorPlugin)(g)},2022:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TasksPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="tasks",t.$schema="/schemas/TasksSchema.json",t.name="异步任务",t.isBaseComponent=!0,t.description="用来做异步任务呈现或者操作。",t.docLink="/amis/zh-CN/components/tasks",t.tags=["功能"],t.icon="",t.scaffold={type:"tasks",name:"tasks",items:[{label:"hive 任务",key:"hive",status:4,remark:'查看详情<a target="_blank" href="http://www.baidu.com">日志</a>。'},{label:"小流量",key:"partial",status:4},{label:"全量",key:"full",status:4}]},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="异步任务",t.panelBody=[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{name:"items",label:"初始任务信息",type:"combo",multiple:!0,multiLine:!0,items:[{name:"label",type:"input-text",label:"任务名称"},{name:"key",type:"input-text",label:"任务ID"},{name:"status",type:"input-number",label:"任务状态"},{name:"remark",type:"textarea",label:"任务说明"}],addButtonText:"新增任务信息",scaffold:{label:"名称",key:"key",status:0,remark:"说明"},description:"可以不设置，如果检测接口返回这些信息的话。"},(0,o.getSchemaTpl)("api",{name:"checkApi",label:"状态检测接口"}),{name:"interval",type:"input-number",min:3e3,step:500,visibleOn:"data.checkApi",pipeIn:(0,o.defaultValue)(3e3),label:"定时检测间隔"},(0,o.getSchemaTpl)("api",{name:"submitApi",label:"提交接口"}),(0,o.getSchemaTpl)("api",{name:"reSubmitApi",label:"重试接口"}),{name:"taskNameLabel",type:"input-text",pipeIn:(0,o.defaultValue)("任务名称"),label:"任务名称栏标题"},{name:"operationLabel",type:"input-text",pipeIn:(0,o.defaultValue)("操作"),label:"操作栏标题"},{name:"statusLabel",type:"input-text",pipeIn:(0,o.defaultValue)("状态"),label:"状态栏标题"},{name:"remarkLabel",type:"input-text",pipeIn:(0,o.defaultValue)("备注说明"),label:"备注栏标题"},{name:"btnText",label:"按钮名称",type:"input-text",pipeIn:(0,o.defaultValue)("上线")},{name:"retryBtnText",label:"重试按钮名称",type:"input-text",pipeIn:(0,o.defaultValue)("重试")},{name:"statusTextMap",pipeIn:(0,o.defaultValue)(["未开始","就绪","进行中","出错","已完成","出错"]),type:"input-array",label:"状态标签文字配置",multiple:!0,addable:!1,removable:!1,items:{type:"input-text",placeholder:"名称"}},{name:"initialStatusCode",label:"初始状态码",pipeIn:(0,o.defaultValue)(0),type:"input-number"},{name:"readyStatusCode",label:"就绪状态码",pipeIn:(0,o.defaultValue)(1),type:"input-number"},{name:"loadingStatusCode",label:"进行中状态码",pipeIn:(0,o.defaultValue)(2),type:"input-number"},{name:"errorStatusCode",label:"错误状态码",pipeIn:(0,o.defaultValue)(3),type:"input-number"},{name:"finishStatusCode",label:"完成状态码",pipeIn:(0,o.defaultValue)(4),type:"input-number"},{name:"canRetryStatusCode",label:"出错但可重试状态码",pipeIn:(0,o.defaultValue)(5),type:"input-number"}]},{title:"外观",body:[(0,o.getSchemaTpl)("className",{pipeIn:(0,o.defaultValue)("b-a bg-white table-responsive")}),(0,o.getSchemaTpl)("className",{name:"tableClassName",label:"表格 CSS 类名",pipeIn:(0,o.defaultValue)("table table-striped m-b-none")}),(0,o.getSchemaTpl)("className",{name:"btnClassName",label:"按钮 CSS 类名",pipeIn:(0,o.defaultValue)("btn-sm btn-default")}),(0,o.getSchemaTpl)("className",{name:"retryBtnClassName",label:"重试按钮 CSS 类名",pipeIn:(0,o.defaultValue)("btn-sm btn-danger")}),{name:"statusLabelMap",pipeIn:(0,o.defaultValue)(["label-warning","label-info","label-info","label-danger","label-success","label-danger"]),type:"input-array",label:"状态标签 CSS 类名配置",multiple:!0,addable:!1,removable:!1,items:{type:"input-text",placeholder:"CSS 类名"}}]},{title:"显隐",body:[(0,o.getSchemaTpl)("visible")]}])],t}return n.__extends(t,e),t}(i.BasePlugin);t.TasksPlugin=r,(0,l.registerEditorPlugin)(r)},4799:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimePlugin=void 0;var n=a(752),l=a(9756),i=a(9547),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="time",t.name="时间展示",t.isBaseComponent=!0,t.scaffold={type:"time",value:Math.round(Date.now()/1e3)},t.previewSchema=n.__assign(n.__assign({},t.scaffold),{format:"HH:mm:ss",value:Math.round(Date.now()/1e3)}),t.panelBodyCreator=function(e){return[(0,i.getSchemaTpl)("tabs",[{title:"常规",body:[{type:"input-time",name:"value",label:"时间数值"},{type:"input-text",name:"format",label:"显示时间格式",description:"请参考 moment 中的格式用法。",pipeIn:(0,i.defaultValue)("HH:mm:ss")},{type:"input-text",name:"valueFormat",label:"数据日期格式",description:"请参考 moment 中的格式用法。",pipeIn:(0,i.defaultValue)("X")},{name:"placeholder",type:"input-text",pipeIn:(0,i.defaultValue)("-"),label:"占位符"}]},{title:"外观",body:[(0,i.getSchemaTpl)("className")]},{title:"显隐",body:[(0,i.getSchemaTpl)("ref"),(0,i.getSchemaTpl)("visible")]}])]},t}return n.__extends(t,e),t}(a(2585).DatePlugin);t.TimePlugin=o,(0,l.registerEditorPlugin)(o)},4268:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipWrapperPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(2759),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="tooltip-wrapper",t.$schema="/schemas/TooltipWrapperSchema.json",t.isBaseComponent=!0,t.name="文字提示容器",t.description="类似容器，可以将多个渲染器放置在一起，当用户鼠标悬停或者点击容器时，显示文字提示浮层",t.docLink="/amis/zh-CN/components/tooltip",t.tags=["容器"],t.icon="fa fa-comment-alt",t.scaffold={type:"tooltip-wrapper",tooltip:"提示文字",body:[{type:"tpl",tpl:"内容"}],enterable:!0,showArrow:!0,offset:[0,0]},t.previewSchema=n.__assign(n.__assign({},t.scaffold),{className:"p-1 mr-3 border-2 border-solid border-indigo-400"}),t.regions=[{key:"body",label:"内容区"}],t.panelTitle=t.name,t.panelJustify=!0,t.panelBodyCreator=function(e){return[(0,o.getSchemaTpl)("tabs",[{title:"属性",className:"p-none",body:[(0,o.getSchemaTpl)("collapseGroup",[{title:"常用",body:[{type:"input-text",name:"title",label:"提示标题"},{type:"textarea",name:"tooltip",label:"提示内容"},{name:"trigger",type:"select",label:(0,r.tipedLabel)("触发方式","默认方式为”鼠标悬停“"),multiple:!0,value:["hover"],pipeIn:function(e){return Array.isArray(e)?e.join(","):[]},pipeOut:function(e){return e&&e.length?e.split(","):void 0},options:[{label:"鼠标悬停",value:"hover"},{label:"点击",value:"click"}]},{type:"button-group-select",name:"placement",label:"提示位置",size:"sm",className:"ae-buttonGroupSelect--justify",options:[{label:"上",value:"top"},{label:"下",value:"bottom"},{label:"左",value:"left"},{label:"右",value:"right"}],pipeIn:(0,o.defaultValue)("top")},{type:"button-group-select",name:"tooltipTheme",label:"主题色",size:"sm",className:"ae-buttonGroupSelect--justify",options:[{label:"亮色",value:"light",icon:"far fa-sun"},{label:"暗色",value:"dark",icon:"far fa-moon"}],pipeIn:(0,o.defaultValue)("light")},{name:"inline",label:"容器内联",type:"switch",mode:"row",inputClassName:"inline-flex justify-between flex-row-reverse"},{name:"rootClose",visibleOn:'~this.trigger.indexOf("click")',label:"点击容器外部关闭提示",type:"switch",mode:"row",inputClassName:"inline-flex justify-between flex-row-reverse"}]},{title:"高级",body:[{name:"wrapperComponent",label:"容器标签",type:"input-text",options:["article","aside","code","div","footer","header","p","section"],validations:{isAlphanumeric:!0,matchRegexp:"/^(?!.*script).*$/"},validationErrors:{isAlpha:"HTML标签不合法，请重新输入",matchRegexp:"HTML标签不合法，请重新输入"},validateOnChange:!1},{type:"input-group",label:(0,r.tipedLabel)("浮层偏移量","提示浮层位置相对”水平“、”垂直“的偏移量"),body:[{type:"input-number",name:"offset",suffix:"px",pipeIn:function(e){return Array.isArray(e)&&e[0]||0},pipeOut:function(e,t,a){return[e,a.offset[1]]}},{type:"input-number",name:"offset",suffix:"px",pipeIn:function(e){return Array.isArray(e)&&e[1]||0},pipeOut:function(e,t,a){return[a.offset[0],e]}}]},{type:"switch",label:(0,r.tipedLabel)("可进入浮层","关闭后鼠标进入提示浮层后也关闭浮层"),name:"enterable",inputClassName:"is-inline"},{type:"switch",label:(0,r.tipedLabel)("展示浮层箭头","关闭后提示浮层不展示指向箭头"),name:"showArrow",inputClassName:"is-inline"},{label:"延迟打开",type:"input-number",min:0,step:100,name:"mouseEnterDelay",suffix:"ms",pipeIn:(0,o.defaultValue)(0)},{label:"延迟关闭",type:"input-number",min:0,step:100,name:"mouseLeaveDelay",suffix:"ms",pipeIn:(0,o.defaultValue)(0)}]}])]},{title:"外观",className:"p-none",body:(0,o.getSchemaTpl)("collapseGroup",n.__spreadArray(n.__spreadArray([],(0,o.getSchemaTpl)("style:common"),!0),[{title:"CSS 类名",body:[(0,o.getSchemaTpl)("className",{label:"内容区CSS类名"}),(0,o.getSchemaTpl)("className",{label:"浮层CSS类名",name:"tooltipClassName"})]}],!1))}])]},t}return n.__extends(t,e),t}(i.BasePlugin);t.TooltipWrapperPlugin=s,(0,l.registerEditorPlugin)(s)},4870:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TplPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(2759);(0,o.setSchemaTpl)("tpl:content",{label:(0,r.tipedLabel)("文字内容",'支持使用 <code>\\${xxx}</code> 来获取变量，或者用 lodash.template 语法来写模板逻辑。<a target="_blank" href="/amis/zh-CN/docs/concepts/template">详情</a>'),type:"textarea",minRows:5,language:"html",visibleOn:"data.wrapperComponent !== undefined",pipeIn:function(e,t){return e||t&&t.html},name:"tpl"}),(0,o.setSchemaTpl)("tpl:rich-text",{label:"内容",type:"input-rich-text",mode:"normal",buttons:["paragraphFormat","quote","color","|","bold","italic","underline","strikeThrough","|","formatOL","formatUL","align","|","insertLink","insertImage","insertTable","|","undo","redo","fullscreen"],minRows:5,language:"html",visibleOn:"data.wrapperComponent === undefined",pipeIn:function(e,t){return e||t&&t.html},name:"tpl"}),(0,o.setSchemaTpl)("tpl:wrapperComponent",{name:"wrapperComponent",type:"select",pipeIn:function(e){return void 0===e?"rich-text":e},pipeOut:function(e){return"rich-text"===e?void 0:e},label:"文字格式",options:[{label:"普通文字",value:""},{label:"段落",value:"p"},{label:"一级标题",value:"h1"},{label:"二级标题",value:"h2"},{label:"三级标题",value:"h3"},{label:"四级标题",value:"h4"},{label:"五级标题",value:"h5"},{label:"六级标题",value:"h6"},{label:"富文本",value:"rich-text"}],onChange:function(e,t,a,n){(void 0===e||void 0===t)&&n.setValueByName("tpl","")}});var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="tpl",t.$schema="/schemas/TplSchema.json",t.name="文字",t.isBaseComponent=!0,t.icon="fa fa-file-o",t.description="用来展示文字或者段落，支持模板语法可用来关联动态数据。",t.docLink="/amis/zh-CN/components/tpl",t.tags=["展示"],t.previewSchema={type:"tpl",tpl:"这是模板内容当前时间<%- new Date() %>"},t.scaffold={type:"tpl",tpl:"请编辑内容",inline:!0,wrapperComponent:""},t.panelTitle="文字",t.panelJustify=!0,t.panelBodyCreator=function(e){var t=/\/cell\/field\/tpl$/.test(e.path);return(0,o.getSchemaTpl)("tabs",[{title:"属性",body:(0,o.getSchemaTpl)("collapseGroup",[{title:"基本",body:[t?null:(0,o.getSchemaTpl)("tpl:wrapperComponent"),(0,o.getSchemaTpl)("switch",{label:(0,r.tipedLabel)("内联模式","内联模式默认采用 <code>span</code> 标签包裹内容、非内联将默认采用 <code>div</code> 标签作为容器。"),name:"inline",pipeIn:(0,o.defaultValue)(!0),hiddenOn:'data.wrapperComponent !== ""'}),(0,o.getSchemaTpl)("tpl:content"),(0,o.getSchemaTpl)("tpl:rich-text")]},(0,o.getSchemaTpl)("status")])},{title:"外观",body:(0,o.getSchemaTpl)("collapseGroup",n.__spreadArray(n.__spreadArray([],(0,o.getSchemaTpl)("style:common",["layout"]),!0),[(0,o.getSchemaTpl)("style:classNames",{isFormItem:!1})],!1))}])},t.popOverBody=[(0,o.getSchemaTpl)("tpl:content"),(0,o.getSchemaTpl)("tpl:rich-text"),(0,o.getSchemaTpl)("tpl:wrapperComponent")],t}return n.__extends(t,e),t}(i.BasePlugin);t.TplPlugin=s,(0,l.registerEditorPlugin)(s)},2766:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=a(3570),s=a(6374),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="video",t.$schema="/schemas/VideoSchema.json",t.name="视频",t.isBaseComponent=!0,t.description="视频控件，可以用来播放各种视频文件，包括 flv 和 hls 格式。",t.docLink="/amis/zh-CN/components/video",t.tags=["功能"],t.icon="fa fa-video-camera",t.scaffold={type:"video",autoPlay:!1,src:"https://media.w3.org/2010/05/sintel/trailer_hd.mp4",poster:(0,s.mockValue)({type:"image"})},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="视频",t.panelBody=[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{name:"src",type:"input-text",label:"视频地址",description:"可以写静态值，也可以用变量取比如：<code>\\${videoSrc}</code>"},{name:"poster",type:"input-text",label:"视频封面图片地址",description:"可以写静态值，也可以用变量取比如：<code>\\${videoPoster}</code>"},(0,o.getSchemaTpl)("switch",{name:"autoPlay",label:"自动播放"}),(0,o.getSchemaTpl)("switch",{name:"muted",label:"静音"}),(0,o.getSchemaTpl)("switch",{name:"isLive",label:"直播流",description:"如果是直播流，请勾选，否则有可能不能正常播放。"})]},{title:"外观",body:[{name:"aspectRatio",label:"视频比例",type:"button-group-select",size:"sm",mode:"inline",className:"block",value:"auto",options:[{label:"自动",value:"auto"},{label:"4:3",value:"4:3"},{label:"16:9",value:"16:9"}]},(0,o.getSchemaTpl)("switch",{name:"splitPoster",label:"分开显示封面"}),(0,o.getSchemaTpl)("className")]},{title:"显隐",body:[(0,o.getSchemaTpl)("visible")]},{title:"其他",body:[(0,o.getSchemaTpl)("ref"),{type:"input-text",name:"rates",label:"视频速率",multiple:!0,joinValues:!1,extractValue:!0,options:[.5,1,1.25,1.5,2,2.5,3,3.5,4,4.5,5].map((function(e){return{label:e,value:e}}))},{name:"frames",type:"input-text",label:"视频帧信息",description:"比如填写：<code>\\${videoFrames}</code>会在当前作用域中查找 videoFrames 变量，如果是对象，将生成视频截图列表，点击后可跳转到对应的帧。"}]}])],t}return n.__extends(t,e),t.prototype.filterProps=function(e){return e.frames=(0,r.JSONPipeOut)(e.frames),e},t}(i.BasePlugin);t.VideoPlugin=d,(0,l.registerEditorPlugin)(d)},9963:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WebComponentPlugin=void 0;var n=a(752),l=a(9756),i=a(9933);a(1779);var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.connectedCallback=function(){this.attachShadow({mode:"open"}).textContent="web-component-demo"},t}(HTMLElement);try{customElements.define("web-component-demo",o)}catch(e){console.log("[amis-editor]",e)}var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="web-component",t.$schema="/schemas/WebComponentSchema.json",t.name="Web Component",t.isBaseComponent=!0,t.description="用于渲染 Web Component 组件",t.docLink="/amis/zh-CN/components/web-component",t.tags=["容器"],t.icon="fa fa-square-o",t.scaffold={type:"web-component",tag:"web-component-demo"},t.previewSchema=n.__assign({},t.scaffold),t.panelTitle="包裹",t.panelBody=[{type:"input-text",label:"标签",name:"tag"},{type:"input-kv",label:"属性",name:"props"}],t}return n.__extends(t,e),t}(i.BasePlugin);t.WebComponentPlugin=r,(0,l.registerEditorPlugin)(r)},3306:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WizardPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=n.__importDefault(a(6689)),s=a(5863),d=a(9703),c=a(1548),p=a(935),u=a(3570),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="wizard",t.$schema="/schemas/WizardSchema.json",t.name="向导",t.isBaseComponent=!0,t.description="表单向导，可以将复杂的多个表单项拆分成多个步骤，一步一步指引用户完成填写。",t.docLink="/amis/zh-CN/components/wizard",t.tags=["功能"],t.icon="fa fa-list-ol",t.scaffold={type:"wizard",steps:[{title:"第一步",body:[{type:"input-text",label:"文本",name:"var1"}]},{title:"第二步",body:[{type:"input-text",label:"文本2",name:"var2"}]}]},t.previewSchema={type:"wizard",className:"text-left m-b-none",steps:[{title:"第一步",body:[{type:"input-text",label:"文本",name:"var1"}]},{title:"第二步",body:[]}]},t.events=[{eventName:"inited",eventLabel:"初始化完成",description:"远程初始化接口请求成功时触发",dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:"initApi 远程请求返回的初始化数据"}}}]},{eventName:"finished",eventLabel:"点击完成",description:"最终提交时触发",dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:"提交的表单数据"}}}]},{eventName:"stepChange",eventLabel:"步骤切换",description:"切换步骤时触发",dataSchema:[{type:"object",properties:{"event.data.step":{type:"string",title:"步骤索引"}}}]},{eventName:"change",eventLabel:"数值变化",description:"表单值变化时触发",dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:"当前表单数据"}}}]},{eventName:"submitSucc",eventLabel:"提交成功",description:"最终提交成功时触发",dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:"提交成功后返回的数据"}}}]},{eventName:"submitFail",eventLabel:"提交失败",description:"最终提交失败时触发",dataSchema:[{type:"object",properties:{"event.data.error":{type:"object",title:"提交失败后返回的错误信息"}}}]},{eventName:"stepSubmitSucc",eventLabel:"步骤提交成功",description:"单个步骤提交成功"},{eventName:"stepSubmitFail",eventLabel:"步骤提交失败",description:"单个步骤提交失败",dataSchema:[{type:"object",properties:{"event.data.error":{type:"object",title:"单个步骤提交失败后返回的错误信息"}}}]}],t.actions=[{actionType:"submit",actionLabel:"全部提交",description:"提交全部数据"},{actionType:"stepSubmit",actionLabel:"分步提交",description:"提交当前步骤数据",desc:function(e){return r.default.createElement("div",null,r.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"提交当前步骤数据")}},{actionType:"prev",actionLabel:"上一步",description:"返回上一步"},{actionType:"next",actionLabel:"下一步",description:"提交当前步骤数据"},{actionType:"goto-step",actionLabel:"定位步骤",description:"切换到指定步骤",config:["step"],desc:function(e){var t;return r.default.createElement("div",null,r.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"切换到第",r.default.createElement("span",{className:"variable-left variable-right"},null===(t=null==e?void 0:e.args)||void 0===t?void 0:t.step),"步")},schema:(0,p.getComboWrapper)([{type:"input-formula",variables:"${variables}",evalMode:!1,required:!0,variableMode:"tabs",label:"目标步骤",size:"lg",name:"step",mode:"horizontal"}])},{actionType:"reload",actionLabel:"重新加载",description:"触发组件数据刷新并重新渲染"},{actionType:"setValue",actionLabel:"更新数据",description:"触发组件数据更新"}],t.panelTitle="向导",t.panelBodyCreator=function(e){return[(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{name:"steps",label:"步骤设置",type:"combo",multiple:!0,multiLine:!0,addButtonText:"新增一步",scaffold:{title:"标题",items:[{type:"input-text",name:"var1",label:"文本"}]},items:[{name:"title",type:"input-text",label:"标题",pipeIn:function(e,t){return e||t.label}},{type:"fieldSet",title:"其他设置",collapsed:!0,collapsable:!0,className:"fieldset m-b-none",body:[{name:"mode",label:"展示模式",type:"button-group-select",size:"xs",mode:"inline",className:"w-full",value:"normal",options:[{label:"默认",value:"normal"},{label:"左右摆放",value:"horizontal"},{label:"内联",value:"inline"}]},(0,o.getSchemaTpl)("horizontal",{visibleOn:'data.mode == "horizontal"'}),(0,o.getSchemaTpl)("api",{label:"保存接口",description:"如果接口返回了 <code>step</code> 变量，且数值是数字类型，比如 <code>3</code>，提交完后回跳到第 3 步"}),(0,o.getSchemaTpl)("switch",{label:"采用异步方式?",name:"asyncApi",visibleOn:"data.api",labelRemark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"left"},pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0}}),(0,o.getSchemaTpl)("api",{name:"asyncApi",label:"异步检测接口",visibleOn:"data.asyncApi != null",description:"设置此属性后，表单提交发送保存接口后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"}),{type:"divider"},(0,o.getSchemaTpl)("api",{name:"initApi",label:"初始化接口",description:"用来初始化表单数据"}),(0,o.getSchemaTpl)("switch",{label:"采用异步方式？",name:"initAsyncApi",visibleOn:"data.initApi",labelRemark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"left"},pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0}}),(0,o.getSchemaTpl)("api",{name:"initAsyncApi",label:"异步检测接口",visibleOn:"data.initAsyncApi != null",description:"设置此属性后，表单请求 initApi 后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"}),(0,o.getSchemaTpl)("initFetch"),{label:"是否可被点开",type:"input-text",name:"jumpableOn",description:"用表达式来决定，当前步骤是否可被点开。额外可用变量：currentStep 表示当前步骤。"}]}]},{type:"input-text",name:"startStep",label:"起始默认值",description:"从第几步开始。可支持模版，但是只有在组件创建时渲染模版并设置当前步数，在之后组件被刷新时，当前step不会根据startStep改变"}]},{title:"接口",body:[(0,o.getSchemaTpl)("api",{name:"initApi",label:"初始化接口",description:"用来初始化向导数据，当接口中返回 <code>step</code> 字段时，可以控制默认跳转到第几步，注意数值一定得是数字类型。当返回 <code>submiting</code> 并且当前步骤中存在异步保存接口时，可以让 wizard 初始进入异步提交状态。"}),(0,o.getSchemaTpl)("switch",{label:"采用异步方式？",name:"initAsyncApi",visibleOn:"data.initApi",labelRemark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"left"},pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0}}),(0,o.getSchemaTpl)("api",{name:"initAsyncApi",label:"异步检测接口",visibleOn:"data.initAsyncApi != null",description:"设置此属性后，表单请求 initApi 后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"}),{name:"initFetch",type:"radios",label:"是否初始拉取",inline:!0,onChange:function(){},options:[{label:"是",value:!0},{label:"否",value:!1},{label:"表达式",value:""}]},{name:"initFetch",autoComplete:!1,visibleOn:'typeof this.initFetch !== "boolean"',type:"input-text",placeholder:"",className:"m-t-n-sm"},{type:"divider"},(0,o.getSchemaTpl)("api",{label:"保存接口",description:"用来保存表单数据, 最后一步点击完成触发，<code>如果最后一步中已经设置保存接口，则此处设置无效。</code>"}),(0,o.getSchemaTpl)("switch",{label:"采用异步方式?",name:"asyncApi",visibleOn:"data.api",labelRemark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"left"},pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0}}),(0,o.getSchemaTpl)("api",{name:"asyncApi",label:"异步检测接口",visibleOn:"data.asyncApi != null",description:"设置此属性后，表单提交发送保存接口后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"})]},{title:"外观",body:[{name:"mode",label:"展示模式",type:"button-group-select",size:"sm",mode:"inline",className:"w-full",value:"horizontal",options:[{label:"水平",value:"horizontal"},{label:"垂直",value:"vertical"}]},{name:"actionPrevLabel",label:"上一步按钮名称",type:"input-text",pipeIn:(0,o.defaultValue)("上一步")},{name:"actionNextLabel",label:"下一步按钮名称",type:"input-text",pipeIn:(0,o.defaultValue)("下一步")},{name:"actionNextSaveLabel",label:"保存并下一步按钮名称",type:"input-text",pipeIn:(0,o.defaultValue)("保存并下一步")},{name:"actionFinishLabel",label:"完成按钮名称",type:"input-text",pipeIn:(0,o.defaultValue)("完成")},(0,o.getSchemaTpl)("className"),(0,o.getSchemaTpl)("className",{name:"actionClassName",label:"按钮 CSS 类名"})]},{title:"其他",body:[(0,o.getSchemaTpl)("ref"),(0,o.getSchemaTpl)("name"),(0,o.getSchemaTpl)("reload"),{label:"跳转",name:"redirect",type:"input-text",description:"当设置此值后，表单提交完后跳转到目标地址。"},(0,o.getSchemaTpl)("visible")]},{title:"事件",className:"p-none",body:[(0,o.getSchemaTpl)("eventControl",n.__assign({name:"onEvent"},(0,u.getEventControlConfig)(t.manager,e)))]}])]},t.patchContainers=["steps.body"],t.vRendererConfig={regions:{body:{key:"body",label:"表单集合",wrapperResolve:function(e){return e}},actions:{label:"按钮组",key:"actions",preferTag:"按钮",wrapperResolve:function(e){return e}}},panelTitle:"步骤",panelBodyCreator:function(e){return(0,o.getSchemaTpl)("tabs",[{title:"常规",body:[{name:"title",type:"input-text",label:"标题",pipeIn:function(e,t){return e||t.label}},(0,o.getSchemaTpl)("api",{label:"保存接口",description:"如果接口返回了 <code>step</code> 变量，且数值是数字类型，比如 <code>3</code>，提交完后回跳到第 3 步"}),(0,o.getSchemaTpl)("switch",{label:"采用异步方式?",name:"asyncApi",visibleOn:"data.api",labelRemark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"left"},pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0}}),(0,o.getSchemaTpl)("api",{name:"asyncApi",label:"异步检测接口",visibleOn:"data.asyncApi != null",description:"设置此属性后，表单提交发送保存接口后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"}),{type:"divider"},(0,o.getSchemaTpl)("api",{name:"initApi",label:"初始化接口",description:"用来初始化表单数据"}),(0,o.getSchemaTpl)("switch",{label:"采用异步方式？",name:"initAsyncApi",visibleOn:"data.initApi",labelRemark:{trigger:"click",rootClose:!0,title:"什么是异步方式？",content:"异步方式主要用来解决请求超时问题，启用异步方式后，程序会在请求完后，定时轮询请求额外的接口用来咨询操作是否完成。所以接口可以快速的返回，而不需要等待流程真正完成。",placement:"left"},pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0}}),(0,o.getSchemaTpl)("api",{name:"initAsyncApi",label:"异步检测接口",visibleOn:"data.initAsyncApi != null",description:"设置此属性后，表单请求 initApi 后，还会继续轮训请求该接口，直到返回 finished 属性为 true 才 结束"}),(0,o.getSchemaTpl)("initFetch")]},{title:"外观",body:[{name:"mode",label:"展示模式",type:"button-group-select",size:"xs",mode:"inline",className:"w-full",value:"normal",options:[{label:"默认",value:"normal"},{label:"左右摆放",value:"horizontal"},{label:"内联",value:"inline"}]},(0,o.getSchemaTpl)("horizontal",{visibleOn:'data.mode == "horizontal"'})]},{title:"其他",body:[{label:"是否可被点开",type:"input-text",name:"jumpableOn",description:"用表达式来决定，当前步骤是否可被点开。额外可用变量：currentStep 表示当前步骤。"}]}])}},t.wizardWrapperResolve=function(e){return[].slice.call(e.querySelectorAll('[role="wizard-body"],[role="wizard-footer"]'))},t.overrides={renderWizard:function(){var e=this,t=this.props.$$editor,a=this.props.steps,l=this.state.currentStep,i=this.super();if(!t||!(null==a?void 0:a[l-1]))return i;var o=l-1,p=a[o],u=p.$$id,m=t.plugin;return(0,d.mapReactElement)(i,(function(a){return/Wizard-step\b/.test(a.props.className)?r.default.createElement(s.VRenderer,{key:u,type:t.type,plugin:t.plugin,renderer:t.renderer,$schema:"/schemas/WizardStepSchema.json",hostId:t.id,memberIndex:o,name:p.title||"步骤".concat(o+1),id:u,draggable:!1,wrapperResolve:m.wizardWrapperResolve,schemaPath:"".concat(t.schemaPath,"/steps/").concat(o),path:"".concat(e.props.$path,"/").concat(o),data:e.props.data},(0,d.mapReactElement)(a,(function(e,a){var l,i,o;if((null===(l=e.props.schema)||void 0===l?void 0:l.body)&&e.props.schema.$$id){var s=null===(o=null===(i=m.vRendererConfig)||void 0===i?void 0:i.regions)||void 0===o?void 0:o.body;if(!s)return e;var d=n.__assign({},e.props.schema);return delete d.$$id,r.default.createElement(c.RegionWrapper,{key:s.key,preferTag:s.preferTag,name:s.key,label:s.label,regionConfig:s,placeholder:s.placeholder,editorStore:m.manager.store,manager:m.manager,children:r.default.cloneElement(e,{schema:d}),wrapperResolve:s.wrapperResolve,rendererName:t.renderer.name})}return e}))):a}))},renderFooter:function(){var e,t,a=this.props.$$editor,n=this.props.steps,l=this.state.currentStep,i=this.super();if(!a||!(null==n?void 0:n[l-1]))return i;var o=a.plugin,s=null===(t=null===(e=o.vRendererConfig)||void 0===e?void 0:e.regions)||void 0===t?void 0:t.actions;return s?r.default.createElement(c.RegionWrapper,{key:s.key,preferTag:s.preferTag,name:s.key,label:s.label,regionConfig:s,placeholder:s.placeholder,editorStore:o.manager.store,manager:o.manager,children:i,wrapperResolve:s.wrapperResolve,rendererName:a.renderer.name}):i}},t}return n.__extends(t,e),t.prototype.buildEditorToolbar=function(e,t){if(e.info.plugin===this&&e.info.renderer.name===this.rendererName&&!e.info.hostId){var a=e.node;t.push({level:"secondary",icon:"fa fa-chevron-left",tooltip:"上个步骤",onClick:function(){var e=a.getComponent();if(null==e?void 0:e.gotoStep){var t=e.state.currentStep;e.gotoStep(t-1)}}}),t.push({level:"secondary",icon:"fa fa-chevron-right",tooltip:"下个步骤",onClick:function(){var e=a.getComponent();if(null==e?void 0:e.gotoStep){var t=e.state.currentStep;e.gotoStep(t+1)}}})}},t.prototype.filterProps=function(e){return e.affixFooter=!1,e},t}(i.BasePlugin);t.WizardPlugin=m,(0,l.registerEditorPlugin)(m)},1800:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WrapperPlugin=void 0;var n=a(752),l=a(9756),i=a(9933),o=a(9547),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rendererName="wrapper",t.$schema="/schemas/WrapperSchema.json",t.disabledRendererPlugin=!0,t.name="包裹",t.isBaseComponent=!0,t.description="类似于容器，唯一的区别在于会默认会有一层内边距。",t.docLink="/amis/zh-CN/components/wrapper",t.tags=["容器"],t.icon="fa fa-square-o",t.scaffold={type:"wrapper",body:"内容"},t.previewSchema=n.__assign({},t.scaffold),t.regions=[{key:"body",label:"内容区"}],t.panelTitle="包裹",t.panelBody=[(0,o.getSchemaTpl)("tabs",[{title:"属性",className:"p-none",body:[(0,o.getSchemaTpl)("collapseGroup",[{title:"常用",body:[{label:"内间距",type:"button-group-select",name:"size",size:"xs",mode:"row",className:"ae-buttonGroupSelect--justify",options:[{label:"极小",value:"xs"},{label:"小",value:"sm"},{label:"默认",value:""},{label:"中",value:"md"},{label:"大",value:"lg"},{label:"无",value:"none"}],pipeIn:(0,o.defaultValue)("")}]},{title:"子节点管理",body:[{name:"body",label:!1,type:"combo",scaffold:{type:"tpl",tpl:"子节点",inline:!1},multiple:!0,draggableTip:"",items:[{type:"tpl",tpl:'<span class="label label-default">子节点${index | plus}</span>'}]}]}])]},{title:"外观",className:"p-none",body:(0,o.getSchemaTpl)("collapseGroup",n.__spreadArray(n.__spreadArray([],(0,o.getSchemaTpl)("style:common"),!0),[{title:"CSS 类名",body:[(0,o.getSchemaTpl)("className",{description:"设置样式后，大小设置将无效。",pipeIn:(0,o.defaultValue)("bg-white")})]}],!1))}])],t}return n.__extends(t,e),t}(i.BasePlugin);t.WrapperPlugin=r,(0,l.registerEditorPlugin)(r)},7172:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EditorStore=void 0;var n=a(752),l=a(9794),i=a(2717),o=a(3570),r=a(3570),s=a(1502),d=n.__importDefault(a(6918)),c=a(1169),p=a(6151),u=n.__importDefault(a(5452)),m=a(2406),h=n.__importDefault(a(8425));t.EditorStore=i.types.model("EditorRoot",{isMobile:!1,isSubEditor:!1,amisDocHost:i.types.optional(i.types.string,"https://baidu.gitee.io"),root:i.types.optional(m.EditorNode,{id:"root",label:"Root"}),theme:"cxd",hoverId:"",hoverRegion:"",activeId:"",activeRegion:"",mouseMoveRegion:"",selections:i.types.optional(i.types.frozen(),[]),contextId:"",dragMode:"move",dragId:"",dragType:"",dragSchema:i.types.frozen(),dropId:"",dropRegion:"",planDropId:"",planDropRegion:"",insertId:"",insertRegion:"",insertRenderers:i.types.optional(i.types.frozen(),[]),insertRenderersKeywords:"",insertTag:"全部",insertSelected:"",insertMode:"insert",insertOrigId:"",insertBeforeId:"",showInsertRenderer:!1,schema:i.types.frozen(),versionId:0,schemaHistory:i.types.optional(i.types.array(i.types.frozen()),[]),toolbars:i.types.optional(i.types.frozen(),[]),panels:i.types.optional(i.types.frozen(),[]),showCustomRenderersPanel:!1,renderersTabsKey:"base-renderers",subRenderers:i.types.optional(i.types.frozen(),[]),subRenderersKeywords:"",subRenderersTag:"",subRendererRegion:"",customRenderersKeywords:"",customRenderersTag:"",panelKey:"",leftPanelKey:"",leftPanelOpenStatus:!0,jsonSchemaUri:"",scaffoldForm:i.types.maybe(i.types.frozen()),scaffoldFormBuzy:!1,scaffoldError:"",popOverForm:i.types.maybe(i.types.frozen()),subEditorContext:i.types.maybe(i.types.frozen()),calculateStarted:!1,targetNames:i.types.optional(i.types.array(i.types.frozen()),[]),ctx:i.types.frozen()}).views((function(e){return{get filteredSchema(){var t,a,n;return(0,o.filterSchemaForEditor)(null!==(n=null===(a=(t=(0,i.getEnv)(e)).schemaFilter)||void 0===a?void 0:a.call(t,e.schema))&&void 0!==n?n:e.schema)},get filteredSchemaForPreview(){var t,a,n,l=(0,r.JSONPipeOut)(e.schema);return null!==(n=null===(a=(t=(0,i.getEnv)(e)).schemaFilter)||void 0===a?void 0:a.call(t,l))&&void 0!==n?n:l},isRootSchema:function(e){var t=this.getSchema();return!(!t||t.$$id!==e)},isHoved:function(t){return t&&e.hoverId===t},isActive:function(t){return t&&!this.dragging&&!e.insertOrigId&&e.insertBeforeId!==t&&e.activeId===t},isContextOn:function(t){return t&&e.contextId===t},get activeContainerId(){var t;if(!e.activeId)return"";for(var a=this.getNodeById(e.activeId);a;){if(a.childRegions.length||(null===(t=a.info)||void 0===t?void 0:t.regions))return a.id;a=a.host}return""},isRegionHighlighted:function(t,a){return!e.insertOrigId&&t===e.hoverId&&a===e.hoverRegion||t===e.activeId&&e.activeRegion===a||t===e.dropId&&e.dropRegion===a||!e.insertOrigId&&t===e.insertId&&e.insertRegion===a},isRegionHighlightHover:function(t,a){return t===e.hoverId&&a===e.mouseMoveRegion},isRegionActive:function(t,a){return this.isActive(t)||t===e.dropId||this.isRegionHighlighted(t,a)||this.isRegionHighlightHover(t,a)},isRegionDragEnter:function(t,a){return this.isRegionActive(t,a)&&a===e.dropRegion},get highlightNodes(){var t=this,a=[];return!e.hoverId||e.dragId||e.contextId||e.activeId===e.hoverId&&!e.hoverRegion||e.selections.includes(e.hoverId)||a.push(e.hoverId),e.contextId&&a.push(e.contextId),!e.activeId&&!e.selections.length||e.dragId||e.insertOrigId||e.insertId||e.hoverId&&e.hoverRegion||(e.activeId?a.push(e.activeId):a.push.apply(a,e.selections)),"insert"===e.insertMode&&e.insertId&&a.push(e.insertId),e.insertOrigId&&a.push(e.insertOrigId),e.dropId&&a.push(e.dropId),e.insertBeforeId&&a.push(e.insertBeforeId),a.filter((function(e,t,a){return e&&t===a.indexOf(e)})).map((function(e){return t.getNodeById(e)})).filter((function(e){return e}))},getNodeById:function(t,a){for(var n=e.root.children.concat();n.length;){var l=n.shift();if(l.id===t&&(!a||l.region===a||l.type===a))return l;l.children.length&&n.push.apply(n,l.children)}},get activeNodeInfo(){var t;return null===(t=this.getNodeById(e.activeId))||void 0===t?void 0:t.info},getSchema:function(t){return t?(0,o.JSONGetById)(e.schema,t):e.schema},getSchemaParentById:function(t){return(0,r.JSONGetParentById)(e.schema,t)},getSchemaPath:function(t){var a=(0,r.JSONGetPathById)(e.schema,t);return Array.isArray(a)?a.join("/"):""},getSimpleSchema:function(t){var a,n,l,o=(0,r.JSONPipeOut)(t);return null!==(l=null===(n=(a=(0,i.getEnv)(e)).schemaFilter)||void 0===n?void 0:n.call(a,o))&&void 0!==l?l:o},getPanelKey:function(){var t,a=e.panelKey;if("none"===a)return a;var n=this.getPanels();return(0,d.default)(n,(function(e){return a&&e.key===a}))?a:(null===(t=n[0])||void 0===t?void 0:t.key)||"none"},getLeftPanelKey:function(){var t=e.leftPanelKey;if(this.dragging)return"outline";if("none"===t)return t;var a=this.getLeftPanels();return(0,d.default)(a,(function(e){return t&&e.key===t}))?t:"renderers"},get leftPanels(){return e.panels.filter((function(e){return"left"===e.position}))},get rightPanels(){return e.panels.filter((function(e){return"left"!==e.position&&"contextmenu"!==e.key}))},get contextMenuPanel(){return e.panels.find((function(e){return"contextmenu"===e.key}))},getPanels:function(){return[].concat(this.rightPanels||[]).sort((function(e,t){return e.order-t.order}))},getLeftPanels:function(){var t=[].concat(this.leftPanels||[]);return e.insertId&&e.insertRegion&&t.push({key:"insert",icon:"fa fa-bolt",position:"left",title:"replace"===e.insertMode?"变更":"插入",component:c.InsertSubRendererPanel,order:9999}),t.push({key:"insertRenderer",icon:"fa fa-bolt",position:"left",title:"插入组件面板",component:p.AvailableRenderersPanel,order:9999}),t.sort((function(e,t){return e.order-t.order}))},get sortedToolbars(){return e.toolbars.filter((function(e){return"secondary"!==e.level&&"special"!==e.level})).sort((function(e,t){return e.order-t.order}))},get sortedSecondaryToolbars(){return e.toolbars.filter((function(e){return"secondary"===e.level})).sort((function(e,t){return e.order-t.order}))},get sortedSpecialToolbars(){return e.toolbars.filter((function(e){return"special"===e.level})).sort((function(e,t){return e.order-t.order}))},get value(){if(e.activeId)return this.getValueOf(e.activeId)},getValueOf:function(t){return(0,r.JSONPipeOut)((0,o.JSONGetById)(e.schema,t))},get valueWithoutHiddenProps(){if(e.activeId)return(0,r.JSONPipeOut)((0,o.JSONGetById)(e.schema,e.activeId),(0,i.getEnv)(e).isHiddenProps||function(e){return"$$"===e.substring(0,2)&&"$$comments"!==e&&"$$commonSchema"!==e||"__"===e.substring(0,2)})},get outline(){return e.root.children},get bcn(){var t=[];return e.activeId&&(0,l.findTree)(e.root.children,(function(a,n,l,i){return a.id===e.activeId&&(t=i.concat(a),!0)})),t},get activePath(){return this.getNodePathById(e.activeId)},getNodePathById:function(t){var a=[];if(!t)return a;var n=function(e,l){return void 0===l&&(l=[]),e.every((function(e){return e.id===t?(a=l.concat(e),!1):!e.children||!e.children.length||n(e.children,l.concat(e))}))};return n(e.root.children),a},get dragging(){return!(!e.dragId&&!e.dropId)},get needPatch(){var t=function(e){return e.some((function(e){return!e.patched&&!e.isRegion||!!e.children.length&&t(e.children)}))};return t(e.root.children)},get schemaRaw(){return(0,r.JSONPipeOut)(e.schema)},get subRenderersByOrder(){return e.subRenderers.filter((function(t){return!(!t.disabledRendererPlugin&&e.showCustomRenderersPanel)||t.isBaseComponent})).sort((function(e,t){return e.order-t.order}))},get customRenderersByOrder(){return e.subRenderers.filter((function(e){return!e.disabledRendererPlugin&&!e.isBaseComponent})).sort((function(e,t){return e.order-t.order}))},groupedRenderersByKeyword:function(e,t){var a=e,n={},l=t?new RegExp(t,"i"):null;return a.forEach((function(e){t&&!["name","description","scaffold.type","searchKeywords"].some((function(t){return(0,s.resolveVariable)(t,e)&&l&&l.test((0,s.resolveVariable)(t,e))}))||(Array.isArray(e.tags)?e.tags.concat():e.tags?[e.tags]:["其他"]).forEach((function(t){n[t]=n[t]||[],n[t].push(e)}))})),n},groupedSubRenderersByKeyword:function(e,t){var a=e||this.subRenderersByOrder;return this.groupedRenderersByKeyword(a,t)},get groupedSubRenderers(){if(e.subRenderersTag){var t={},a=this.groupedSubRenderersByKeyword()[e.subRenderersTag];return a&&(t[e.subRenderersTag]=a),t}return this.groupedSubRenderersByKeyword(this.subRenderersByOrder,e.subRenderersKeywords)},groupedCustomRenderersByKeyword:function(e,t){var a=e||this.customRenderersByOrder;return this.groupedRenderersByKeyword(a,t)},get groupedCustomRenderers(){if(e.customRenderersTag){var t={},a=this.groupedCustomRenderersByKeyword()[e.customRenderersTag];return a&&(t[e.customRenderersTag]=a),t}return this.groupedCustomRenderersByKeyword(this.customRenderersByOrder,e.customRenderersKeywords)},getSubRendererById:function(t){return(0,d.default)(e.subRenderers||[],(function(e){return e.id===t}))},get groupedInsertRenderers(){var t={全部:[]},a=e.insertRenderersKeywords,n=new RegExp(a,"i");return e.insertRenderers.concat().sort((function(e,t){return e.order-t.order})).forEach((function(e){a&&!["name","description","scaffold.type"].some((function(t){return(0,s.resolveVariable)(t,e)&&n.test((0,s.resolveVariable)(t,e))}))||((Array.isArray(e.tags)?e.tags.concat():e.tags?[e.tags]:["其他"]).forEach((function(a){t[a]=t[a]||[],t[a].push(e)})),t["全部"].push(e))})),t},get selectedInsertRendererInfo(){return(0,d.default)(e.insertRenderers,(function(t){return t.id===e.insertSelected}))},get subEditorSlotPath(){var t,a=null===(t=e.subEditorContext)||void 0===t?void 0:t.slot;if(!a)return"";var n=[],l=function(e,t){return void 0===t&&(t=[]),!(!Array.isArray(e)||!e.some((function(e,a){return l(e,t.concat("".concat(a)))})))||((0,u.default)(e)?Object.keys(e).some((function(a){return l(e[a],t.concat(a))})):"$$"===e&&(n=t.concat(),!0))};return l(a),n.length?n.join("/"):""},get subEditorValue(){if(e.subEditorContext)return e.subEditorContext.slot?n.__assign(n.__assign({},(0,l.mapObject)(e.subEditorContext.slot,(function(t){return"$$"===t?e.subEditorContext.value:t}))),{isSlot:!0}):e.subEditorContext.value},get canUndo(){return 0!==e.schemaHistory.findIndex((function(t){return t.versionId===e.versionId}))},get canRedo(){return e.schemaHistory.findIndex((function(t){return t.versionId===e.versionId}))<e.schemaHistory.length-1}}})).actions((function(e){(0,i.getEnv)(e);var t=0,a=null,d=void 0,c=document,p=void 0;return{setLayer:function(e){d=e},getLayer:function(){return d},setDoc:function(e){c=e},getDoc:function(){return c},setIframe:function(e){p=e},getIframe:function(){return p},setIsMobile:function(t){e.isMobile=!!t},setCtx:function(t){e.ctx=t},setTheme:function(t){e.theme=t},setIsSubEditor:function(t){e.isSubEditor=t},setShowCustomRenderersPanel:function(t){e.showCustomRenderersPanel=t},setSchema:function(t){var a=(0,r.JSONPipeIn)(t||{});if(e.schema){var n=(0,o.diff)(e.schema,a,(function(e,t){return"$$id"===t}));e.schema=(0,o.patchDiff)(e.schema,n)}else e.schema=a;this.resetHistory(),this.updateTargetName()},insertSchema:function(t){var a,n=t.context.id,l=t.context.region,i=(0,o.JSONGetById)(e.schema,n);if(i){var s=(0,r.JSONPipeIn)(t.context.data),d=Array.isArray(i[l])?i[l].concat():i[l]?[i[l]]:[];if(t.context.beforeId){var c=(0,h.default)(d,(function(e){return e.$$id===t.context.beforeId}));~c?d.splice(c,0,s):d.push(s)}else d.push(s);return this.traceableSetSchema((0,r.JSONUpdate)(e.schema,n,((a={})[l]=d,a))),t.context.data=s,s}},moveSchema:function(t){var a,n=t.context,l=e.schema;if(n.sourceId!==n.beforeId){var i=(0,o.JSONGetById)(l,n.sourceId);l=(0,o.JSONDelete)(l,n.sourceId,void 0,!0);var s=n.region,d=(0,o.JSONGetById)(l,n.id)[s];if(d=Array.isArray(d)?d.concat():d?[d]:[],n.beforeId){var c=(0,h.default)(d,(function(e){return e.$$id===n.beforeId}));if(!~c)throw new Error("位置错误，目标位置没有找到");d.splice(c,0,i)}else d.push(i);this.traceableSetSchema((0,r.JSONUpdate)(l,n.id,((a={})[s]=d,a)))}},setActiveId:function(t,a,n){void 0===a&&(a=""),void 0===n&&(n=[]);var l=t?e.getNodeById(t):void 0;!1===(null==l?void 0:l.clickable)||t&&!l||(e.activeId=t,e.activeRegion=a,e.selections=n)},setSelections:function(t){e.activeId="",e.activeRegion="",e.selections=t?t.concat():[]},clearSelection:function(){e.selections=[]},setHoverId:function(t,a){var n=t?e.getNodeById(t):void 0;!1!==(null==n?void 0:n.clickable)&&(e.hoverId=t,e.hoverRegion=a||"")},setMouseMoveRegion:function(t){e.mouseMoveRegion=t},setInsertId:function(t){e.insertId=t},setContextId:function(t){e.contextId=t},setDragId:function(t,a,n,l){void 0===a&&(a="move"),void 0===n&&(n="schema"),e.dragId=t,e.dragMode=a,e.dragType=n,e.dragSchema=l||(t?e.getSchema(t):null)},setDropId:function(t,a){void 0===a&&(a=""),e.dropId=t,e.dropRegion=a,e.planDropId="",e.planDropRegion=""},setPlanDropId:function(t,a){e.planDropId=t,e.planDropRegion=a},setActiveToolbars:function(t){e.toolbars=t},setPanels:function(t){e.panels=t},setSubRenderers:function(t){e.subRenderers=t},changeSubRenderersKeywords:function(t){e.subRenderersKeywords=t,e.subRenderersTag=""},changeSubRenderersTag:function(t){e.subRenderersKeywords="",e.subRenderersTag=t},resetSubRenderersKeywords:function(){e.subRenderersKeywords="",e.subRenderersTag=""},changeCustomRenderersKeywords:function(t){e.customRenderersKeywords=t,e.customRenderersTag=""},changeCustomRenderersTag:function(t){e.customRenderersKeywords="",e.customRenderersTag=t},resetCustomRenderersKeywords:function(){e.customRenderersKeywords="",e.customRenderersTag=""},changeSubRendererRegion:function(t){e.subRendererRegion=t},changePanelKey:function(t){t!==e.getPanelKey()&&(e.panelKey=t)},changeLeftPanelKey:function(t){"insert"!==t&&"insert"!==e.panelKey&&t!==e.getLeftPanelKey()&&(e.leftPanelKey=t)},changeRenderersTabsKey:function(t){t!==e.renderersTabsKey&&(e.renderersTabsKey=t)},changeLeftPanelOpenStatus:function(t){t!==e.leftPanelOpenStatus&&(e.leftPanelOpenStatus=t)},showRendererPanel:function(t,a){"renderers"!==e.getLeftPanelKey()?e.leftPanelKey="renderers":t!==e.subRenderersTag&&t||s.toast.info(a||"请从左侧组件面板中点击添加新的元素。"),e.renderersTabsKey="base-renderers",t&&this.changeSubRenderersTag(t),this.changeLeftPanelOpenStatus(!0)},changeValue:function(t,a){e.activeId&&this.changeValueById(e.activeId,t,a)},changeValueById:function(t,a,n,l,i){var s=(0,o.JSONGetById)(e.schema,t);if(s)if(n){var d=(0,o.patchDiff)(s,n);this.traceableSetSchema((0,r.JSONUpdate)(e.schema,t,(0,r.JSONPipeIn)(d),!0),i)}else this.traceableSetSchema((0,r.JSONUpdate)(e.schema,t,(0,r.JSONPipeIn)(a),l),i)},moveUp:function(t){t&&this.traceableSetSchema((0,r.JSONMoveUpById)(e.schema,t))},moveDown:function(t){t&&this.traceableSetSchema((0,r.JSONMoveDownById)(e.schema,t))},del:function(t){var a,n;if(t===e.activeId){var l=null===(a=e.getNodeById(t))||void 0===a?void 0:a.host;this.setActiveId(l?l.id:"")}else if(e.activeId){var i=(0,o.JSONGetById)(e.schema,t);(0,o.JSONGetById)(i,e.activeId)&&(l=null===(n=e.getNodeById(t))||void 0===n?void 0:n.host,this.setActiveId(l?l.id:""))}this.traceableSetSchema((0,o.JSONDelete)(e.schema,t))},delMulti:function(t){var a=this;(Array.isArray(t)?t:[t]).forEach((function(t){var n,l;if(t===e.activeId){var i=null===(n=e.getNodeById(t))||void 0===n?void 0:n.host;a.setActiveId(i?i.id:"")}else if(e.activeId){var r=(0,o.JSONGetById)(e.schema,t);(0,o.JSONGetById)(r,e.activeId)&&(i=null===(l=e.getNodeById(t))||void 0===l?void 0:l.host,a.setActiveId(i?i.id:""))}})),this.traceableSetSchema(t.reduce((function(e,t){return(0,o.JSONDelete)(e,t)}),e.schema))},duplicate:function(t){this.traceableSetSchema((Array.isArray(t)?t:[t]).reduce((function(e,t){return(0,r.JSONDuplicate)(e,t)}),e.schema))},emptyRegion:function(t,a){var n;this.traceableSetSchema((0,r.JSONUpdate)(e.schema,t,((n={})[a]=[],n)))},replaceChild:function(t,a){this.traceableSetSchema((0,r.JSONUpdate)(e.schema,t,(0,r.JSONPipeIn)(a),!0))},setInsertRegion:function(t,a,n,l,i,o){void 0===a&&(a=""),void 0===n&&(n="全部"),void 0===l&&(l="insert"),void 0===i&&(i=""),e.insertId=a,e.insertRegion=t,e.insertTag=n,e.insertMode=l,e.insertOrigId=i,e.insertBeforeId=o||""},closeInsertPanel:function(){e.insertOrigId="",e.insertId="",e.insertRegion="",e.insertSelected="",e.insertRenderersKeywords="",e.insertBeforeId=""},showInsertRendererPanel:function(){e.showInsertRenderer=!0},closeInsertRendererPanel:function(){e.showInsertRenderer=!1},setInsertRenderers:function(t){e.insertRenderers=t},changeInsertRenderersKeywords:function(t){e.insertRenderersKeywords=t},resetInsertRenderersKeywords:function(){e.insertRenderersKeywords=""},setInsertTag:function(t){e.insertTag=t},setInsertSelected:function(t){e.insertSelected=t},setJSONSchemaUri:function(t){e.jsonSchemaUri=t},openSubEditor:function(t){e.activeId&&(e.subEditorContext=n.__assign(n.__assign({},t),{data:t.data||{}}))},confirmSubEditor:function(t){var a,n=t[0],i=e.subEditorContext,r=i.onChange,s=i.slot,d=n.schema,c=(null===(a=n.__pristine)||void 0===a?void 0:a.schema)||d;if(s){var p=e.subEditorSlotPath.replace(/(?:\/)/g,".");d=(0,l.getVariable)(d,p),c=(0,l.getVariable)(c,p),Array.isArray(d)&&1===d.length&&!Array.isArray(c)&&(d=d[0])}r(d,r.length>1?(0,o.diff)(c,d):void 0),e.subEditorContext=void 0},closeSubEditor:function(){e.subEditorContext=void 0},subEditorOnChange:function(){a&&(e.subEditorContext=n.__assign(n.__assign({},e.subEditorContext),{canUndo:a.canUndo(),canRedo:a.canRedo()}))},undoSubEditor:function(){a&&a.undo()},redoSubEditor:function(){a&&a.redo()},subEditorRef:function(e){a=e},openScaffoldForm:function(t){e.scaffoldForm=t},closeScaffoldForm:function(){e.scaffoldForm=void 0},setScaffoldBuzy:function(t){e.scaffoldFormBuzy=!!t},setScaffoldError:function(t){void 0===t&&(t=""),e.scaffoldError=t},openPopOverForm:function(t){e.popOverForm=t},closePopOverForm:function(){e.popOverForm=void 0},calculateHighlightBox:function(t){e.calculateStarted=!0,t.forEach((function(t){var a=e.getNodeById(t);null==a||a.calculateHighlightBox(e)}))},resetHighlightBox:function(t){t.forEach((function(t){var a=e.getNodeById(t);null==a||a.resetHighlightBox(e)}))},updateTargetName:function(){var t=[];(0,o.JSONTraverse)(e.schema,(function(e,a,n){return"name"===a&&e&&n&&("crud"===n.type||"form"===n.type||"page"===n.type||"service"===n.type||"chart"===n.type||"wizard"===n.type)&&t.push({type:n.type,name:e,editorId:n.$$id}),e})),e.targetNames=(0,i.cast)(t)},traceableSetSchema:function(a,n){var l=e.schemaHistory.findIndex((function(t){return t.versionId===e.versionId}));~l&&e.schemaHistory.splice(l+1,e.schemaHistory.length-l-1),n&&e.schemaHistory.pop(),e.schemaHistory.push({versionId:e.versionId=t++,schema:a}),e.schema=a,this.updateTargetName()},undo:function(){var t=e.schemaHistory.findIndex((function(t){return t.versionId===e.versionId}));if(t>0){var a=e.schemaHistory[t-1];e.versionId=a.versionId,e.schema=a.schema,this.updateTargetName()}},redo:function(){var t=e.schemaHistory.findIndex((function(t){return t.versionId===e.versionId}));if(t<e.schemaHistory.length-1){var a=e.schemaHistory[t+1];e.versionId=a.versionId,e.schema=a.schema,this.updateTargetName()}},resetHistory:function(){t=0,e.versionId=t++,e.schemaHistory.replace([{versionId:e.versionId,schema:e.schema}])},applyPatches:function(t){var a=e.schema;t.forEach((function(e){var t,l;if("update"===e.op)a=(0,r.JSONUpdate)(a,e.target,e.value);else if("replace"===e.op)a=(0,r.JSONUpdate)(a,e.target,e.value,!0);else if("delete"===e.op)a=(0,o.JSONDelete)(a,e.target);else if("push"===e.op){var i=(s=(0,o.JSONGetById)(a,e.target))[e.key];(i=Array.isArray(i)?i.concat():i?[i]:[]).push(e.value),s=n.__assign(n.__assign({},s),((t={})[e.key]=i,t)),a=(0,r.JSONUpdate)(a,e.target,s)}else if("splice"===e.op){var s;i=(s=(0,o.JSONGetById)(a,e.target))[e.key],(i=Array.isArray(i)?i.concat():i?[i]:[]).splice.apply(i,e.args),s=n.__assign(n.__assign({},s),((l={})[e.key]=i,l)),a=(0,r.JSONUpdate)(a,e.target,s)}})),this.traceableSetSchema(a)}}}))},2406:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EditorNodeContext=t.EditorNode=void 0;var n=a(752),l=a(2717),i=n.__importDefault(a(8459)),o=a(3570),r=a(1502),s=n.__importDefault(a(6689)),d=a(8425);t.EditorNode=l.types.model("EditorNode",{parentId:"",parentRegion:"",isCommonConfig:!1,id:"",type:"",label:"",regionInfo:l.types.maybe(l.types.frozen()),path:"",schemaPath:"",region:"",preferTag:"",state:l.types.optional(l.types.frozen(),{}),widthMutable:!1,heightMutable:!1,memberIndex:-1,folded:!1,patched:!1,x:0,y:0,w:0,h:0,children:l.types.optional(l.types.array(l.types.late((function(){return t.EditorNode}))),[])}).volatile((function(){return{getData:l.types.frozen()}})).views((function(e){var t,a;return{get info(){return t},setInfo:function(e){t=e},get rendererConfig(){return a},setRendererConfig:function(e){a=e},get isVitualRenderer(){return!!~e.memberIndex},get clickable(){var e,t;return!1!==(null===(e=this.info)||void 0===e?void 0:e.editable)||!(null===(t=this.info)||void 0===t?void 0:t.hostId)},get draggable(){var e;return!(!this.moveable||!1===(null===(e=this.info)||void 0===e?void 0:e.draggable))},get moveable(){var e,t;return!(this.isRegion||!1===(null===(e=this.info)||void 0===e?void 0:e.movable)||!Array.isArray(this.schemaParent)||(null===(t=this.host)||void 0===t?void 0:t.memberImmutable(this.parent.region)))},get canMoveUp(){return!(this.isRegion||!this.moveable||!Array.isArray(this.schemaParent)||!this.prevSibling)},get canMoveDown(){return!(this.isRegion||!this.moveable||!Array.isArray(this.schemaParent)||!this.nextSibling)},get removable(){var e;return!(this.isRegion||!1===(null===(e=this.info)||void 0===e?void 0:e.removable)||!Array.isArray(this.schemaParent)||!this.host||this.host.memberImmutable(this.parent.region))},get duplicatable(){var e;return!(this.isRegion||!1===(null===(e=this.info)||void 0===e?void 0:e.duplicatable)||!Array.isArray(this.schemaParent)||this.host.memberImmutable(this.parent.region))},get replaceable(){var e;return!this.isRegion&&!1!==(null===(e=this.info)||void 0===e?void 0:e.replaceable)},memberImmutable:function(e){var t,a;return!!(!0===(null===(t=this.info)||void 0===t?void 0:t.memberImmutable)||Array.isArray(null===(a=this.info)||void 0===a?void 0:a.memberImmutable)&&~this.info.memberImmutable.indexOf(e))},get isRegion(){return!!e.region},get childRegions(){var e,t,a=this.uniqueChildren.filter((function(e,t,a){return e.isRegion}));if(null===(e=this.info)||void 0===e?void 0:e.multifactor){var n=this.sameIdChild;null===(t=null==n?void 0:n.childRegions)||void 0===t||t.forEach((function(e){return a.push(e)}))}return a},get uniqueChildren(){var t=e.children.filter((function(e,t,a){return a.findIndex((function(t){return e.isRegion?t.id===e.id&&t.region===e.region:t.id===e.id}))===t}));if(Array.isArray(this.schema)){var a=this.schema;t=t.sort((function(e,t){return d(a,(function(t){return(null==t?void 0:t.$$id)===e.id}))-d(a,(function(e){return(null==e?void 0:e.$$id)===t.id}))}))}return t},get sameIdChild(){var t;return null===(t=this.uniqueChildren)||void 0===t?void 0:t.find((function(t){return!t.isRegion&&t.id===e.id}))},get singleRegion(){return!(1!==this.uniqueChildren.length||!this.uniqueChildren[0].isRegion)},isExists:function(t){return e.children.some((function(e){return e.id===t}))},getChildById:function(t){return e.children.find((function(e){return e.id===t}))},get parent(){try{var t=(0,l.getParent)(e,2);return"root"!==(null==t?void 0:t.id)?t:null}catch(e){return null}},get ancestorField(){var t,a,o,r,s=(0,l.getParent)(e,4);if("root"===(null==s?void 0:s.id))return null;var d=null!==(a=null===(t=null==s?void 0:s.getComponent())||void 0===t?void 0:t.props)&&void 0!==a?a:{},c=null!==(o=null==d?void 0:d.body)&&void 0!==o?o:[],p=Object.keys(null!==(r=null==d?void 0:d.data)&&void 0!==r?r:{});return(0,i.default)(n.__spreadArray(n.__spreadArray([],c.map((function(e){var t;return null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""})),!0),p,!0))},get host(){var t=e.parent;return(null==t?void 0:t.isRegion)&&(t=t.parent),t},get firstChild(){var t=e;if(!t.children.length)return null;for(var a=t.children[0];a;){if(!a.isRegion&&a.id!==t.id)return a;a=a.children.length?a.children[0]:null}return null},get index(){return this.parent.uniqueChildren.indexOf(e)},get prevSibling(){for(var t=this.parent.uniqueChildren,a=t.indexOf(e)-1;a>=0&&t[a];){if(t[a].id!==e.id)return t[a];a--}return null},get nextSibling(){for(var t=this.parent.uniqueChildren,a=t.length,n=t.indexOf(e)+1;n<a&&t[n];){if(t[n].id!==e.id)return t[n];n++}return null},get schema(){if(!(0,l.isAlive)(e))return null;var t=(0,l.getRoot)(e).getSchema(e.id);return this.isRegion&&t?t[e.region]:t},get schemaParent(){var t=(0,l.getRoot)(e);return this.isRegion?t.getSchema(e.id):t.getSchemaParentById(e.id)},get isSecondFactor(){var t;return(null===(t=this.parent)||void 0===t?void 0:t.id)===e.id}}})).actions((function(e){function t(e,a){var l=!1,i={};if(e)return a.forEach((function(a){var n=a.split(".");a=n.shift();var r=e[a];if("string"==typeof r)return l=!0,void(i[a]=[(0,o.JSONPipeIn)({type:"tpl",tpl:r,inline:!1})]);if(Array.isArray(r)){var s=!1,d=r.map((function(e){if("string"==typeof e&&e)return s=!0,(0,o.JSONPipeIn)({type:"tpl",tpl:e,inline:!1});if(n.length){var a=t(e,[n.join(".")]);a!==e&&(s=!0,e=a)}return e}));s&&(l=!0,i[a]=d)}else r&&(i[a]=[(0,o.JSONPipeIn)(r)],l=!0)})),l&&(e=n.__assign(n.__assign({},e),i)),e}function a(t){var a=Array.isArray(t)?t:t?[t]:[];if(a.length){var n=(0,l.getRoot)(e).getIframe(),i=(0,l.getRoot)(e).getLayer().getBoundingClientRect(),o=function(e){for(var t=e.concat(),a=t.shift(),n=a.getBoundingClientRect(),l={left:n.left,top:n.top,width:n.width,height:n.height,right:n.right,bottom:n.bottom},i=a.parentElement.closest(".ae-Preview-inner,[data-region]");t.length;){var o=t.shift(),r=o.getBoundingClientRect(),s=o.parentElement.closest(".ae-Preview-inner,[data-region],[data-editor-id]");if(!i&&s)i=s;else if(s&&i&&s!==i)continue;l.left=Math.min(l.left,r.left),l.top=Math.min(l.top,r.top),l.right=Math.max(l.right,r.right),l.bottom=Math.max(l.bottom,r.bottom),l.width=l.right-l.left,l.height=l.bottom-l.top}return l}(a),r={left:o.left-i.left,top:o.top-i.top};if(n){var s=n.getBoundingClientRect();r.left+=s.left,r.top+=s.top}var d=o.height;d&&(e.x=r.left+0,e.y=r.top+0,e.w=o.width,e.h=d)}}var i;return{updateIsCommonConfig:function(t){e.isCommonConfig=!!t},addChild:function(t){e.children.push(n.__assign(n.__assign({},t),{parentId:e.id,parentRegion:e.region}));var a=e.children[e.children.length-1];return a.setInfo(t.info),a},removeChild:function(t){var a=e.children.findIndex((function(e){return e===t}));e.children.splice(a,1)},toggleFold:function(t){t.stopPropagation(),t.preventDefault(),e.folded=!e.folded},patch:function(a,l){if(void 0===l&&(l=!1),!e.patched||l){e.patched=!0;var i=a,s=e.info;if(!1!==s.editable){var d=i.getSchema(s.id),c=d;(null==c?void 0:c.id)||(c=n.__assign(n.__assign({},c),{id:"u:"+(0,o.guid)()})),(Array.isArray(s.regions)&&s.regions.length||Array.isArray(s.patchContainers))&&(c=t(c,s.patchContainers||s.regions.map((function(e){return e.key})))),c=(0,r.filterSchema)(c,{component:s.renderer.component}),(c=(0,o.JSONPipeIn)(c))!==d&&i.changeValueById(s.id,c,void 0,!0,!0)}}},updateSchema:function(t){var a=e.info;if(!1!==a.editable){var i=(0,l.getRoot)(e),o=i.getSchema(a.id);o=n.__assign(n.__assign({},o),t),i.changeValueById(a.id,o)}},setComponent:function(e){i=e},getComponent:function(){return i},calculateHighlightBox:function(t){var n;if(void 0===t&&(t=(0,l.getRoot)(e)),t.calculateStarted){var i=(0,l.getRoot)(e).getDoc();if(e.isRegion)a(o=i.querySelector('[data-region="'.concat(e.region,'"][data-region-host="').concat(e.id,'"]')));else{var o=[].slice.call(i.querySelectorAll('[data-editor-id="'.concat(e.id,'"]')));a("button"===(null===(n=e.info)||void 0===n?void 0:n.renderer.name)?null==o?void 0:o[0]:o),e.childRegions.forEach((function(e){return e.calculateHighlightBox(t)}))}}},resetHighlightBox:function(t){e.x=0,e.y=0,e.w=0,e.h=0,e.childRegions.forEach((function(e){return e.resetHighlightBox(t)}))},updateState:function(t,a){void 0===a&&(a=!1),e.state=n.__assign(n.__assign({},a?null:e.state),t)},setWidthMutable:function(t){e.widthMutable=!!t},setHeightMutable:function(t){e.heightMutable=!!t}}})),t.EditorNodeContext=s.default.createContext(null)},3570:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isString=t.getEventControlConfig=t.string2CSSUnit=t.isNumeric=t.JSONTraverse=t.patchDiff=t.diff=t.repeatArray=t.reactionWithOldValue=t.camelize=t.removeDragingClass=t.addDragingClass=t.autobind=t.normalizeId=t.persistSet=t.persistGet=t.sortByList=t.blackList=t.filterSchemaForEditor=t.filterSchemaForConfig=t.deepFind=t.createElementFromHTML=t.reGenerateID=t.JSONDuplicate=t.JSONMoveDownById=t.JSONCanMoveDown=t.JSONMoveUpById=t.JSONCanMoveUp=t.JSONChangeInArray=t.JSONMerge=t.JSONDelete=t.JSONUpdate=t.JSONGetParentById=t.JSONGetById=t.JSONGetPathById=t.JSONGetByPath=t.JSONPipeOut=t.JSONPipeIn=t.cleanUndefined=t.__uri=t.createObject=t.eachTree=t.cloneObject=t.isEmpty=t.omitControls=t.makeHorizontalDeeper=t.noop=t.anyChanged=t.isObjectShallowModified=t.guid=void 0,t.jsonToJsonSchema=t.isObject=void 0;var n=a(752),l=a(1502),i=n.__importDefault(a(113)),o=a(6211),r=n.__importDefault(a(6410)),s=n.__importDefault(a(5452)),d=n.__importDefault(a(7078)),c=n.__importDefault(a(2295)),p=a(935),u=a(9794),m=l.utils.guid,h=l.utils.omitControls,f=l.utils.isObjectShallowModified,g=l.utils.cloneObject,b=l.utils.anyChanged,v=l.utils.noop,y=l.utils.makeHorizontalDeeper,_=l.utils.findIndex,S=l.utils.isEmpty,C=l.utils.eachTree,x=l.utils.createObject;function w(e){return A(e)?(Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),e):e}function T(e){if(!A(e)||e.$$typeof)return e;if(Array.isArray(e))return e.map(T);var t={},a=!1;return e.$$id||(a=!0,t.$$id=m()),Object.keys(e).forEach((function(n){var l=e[n];if(Array.isArray(l)){var i=!1,o=l.map((function(e){var t=T(e);return t!==e&&(i=!0),t}));i&&(a=!0,t[n]=o)}else(o=T(l))!==l&&(a=!0,t[n]=o)})),a&&(e=w(n.__assign(n.__assign({},e),t))),e}function N(e,t){if(Array.isArray(e)){var a=!1,l=e.map((function(e){var n=N(e,t);return n!==e&&(a=!0),n}));return a?l:e}if(!A(e)||(0,o.isObservable)(e))return e;var i=!1,r={};return e.$$id&&(i=!0,r.$$id=void 0),Object.keys(e).forEach((function(a){var n=e[a];if("function"==typeof t?t(a,n):!1!==t&&"__"===a.substring(0,2))return r[a]=void 0,void(i=!0);var l=N(n,t);l!==n&&(i=!0,r[a]=l)})),i&&(e=w(n.__assign(n.__assign({},e),r))),e}function E(e,t,a){var n=e;return a&&a.push(e),t.forEach((function(e){n=n[e],a&&a.push(n)})),n}function O(e,t){for(var a=[],n=!1,l=[{path:".",data:e}],i=function(){var e=l.shift(),i=e.data,o=e.path;if(i.$$id===t)return n=!0,a=o.split(".").filter((function(e){return e})),"break";Object.keys(i).forEach((function(e){var t=i[e];Array.isArray(t)?t.forEach((function(t,a){A(t)&&l.push({data:t,path:"".concat(o,".").concat(e,".").concat(a)})})):A(t)&&l.push({data:t,path:"".concat(o,".").concat(e)})}))};l.length&&"break"!==i(););return n?a:null}function k(e,t,a){void 0===a&&(a=!1);var n=O(e,t);if(null===n||!n.length)return null;var l=e,i=[l];for(n.pop(),n.forEach((function(e){l=l[e],i.unshift(l)}));a&&Array.isArray(i[0]);)i.shift();return i[0]}function P(e,t,a){var l=O(e,t);if(null===l)return e;var i=parseInt(l.pop(),10),o=[],r=E(e,l,o);if(!Array.isArray(r))return e;for(o[o.length-1]=r=r.concat(),a(r,r[i],i);o.length>1;){var s=o.pop();Array.isArray(o[o.length-1])?o[o.length-1]=o[o.length-1].concat():o[o.length-1]=n.__assign({},o[o.length-1]),o[o.length-1][l[o.length-1]]=s}return o[0]}function I(e){return B(e,(function(e,t,a){return"id"===t&&"string"==typeof e&&0===e.indexOf("u:")&&a&&(a.id="u:"+m()),e})),e}function R(e,t,a){return void 0===a&&(a={}),(null==e?void 0:e.$$commonSchema)===t?a[t]=e:(0,s.default)(e)?Object.keys(e).forEach((function(n){R(e[n],t,a)})):Array.isArray(e)&&e.map((function(e){return R(e,t,a)})),a}function B(e,t){Object.keys(e).forEach((function(a){var n=e[a];(0,s.default)(n)||Array.isArray(n)?B(n,t):t(n,a,e)}))}function A(e){var t=!1;return"Object"===Object.prototype.toString.call(e).slice(8,-1)&&(t=!0),t}t.guid=m,t.omitControls=h,t.isObjectShallowModified=f,t.cloneObject=g,t.anyChanged=b,t.noop=v,t.makeHorizontalDeeper=y,t.isEmpty=S,t.eachTree=C,t.createObject=x,t.__uri=function(e){return e},t.cleanUndefined=w,t.JSONPipeIn=T,t.JSONPipeOut=N,t.JSONGetByPath=E,t.JSONGetPathById=O,t.JSONGetById=function(e,t){var a=O(e,t);return null===a?null:E(e,a)},t.JSONGetParentById=k,t.JSONUpdate=function(e,t,a,l){void 0===l&&(l=!1);var i=O(e,t);if(null===i)return e;var o=[],r=E(e,i,o);if(Array.isArray(a)&&o[o.length-2]&&Array.isArray(o[o.length-2])){var s=o[o.length-2].indexOf(o[o.length-1]);o[o.length-2]=o[o.length-2].concat(),o[o.length-2].splice.apply(o[o.length-2],[s,1].concat(a)),o.pop()}else o[o.length-1]=r=n.__assign(n.__assign(n.__assign({},l?null:r),a),{$$id:t});for(;o.length>1;){var d=o.pop();Array.isArray(o[o.length-1])?o[o.length-1]=o[o.length-1].concat():o[o.length-1]=n.__assign({},o[o.length-1]),o[o.length-1][i[o.length-1]]=d}return o[0]},t.JSONDelete=function(e,t,a,l){var i=O(e,t);if(null===i)return e;Array.isArray(a)&&a.push.apply(a,i);var o=i.pop(),r=[],s=E(e,i,r);for(Array.isArray(s)?(r[r.length-1]=s=s.concat(),s.splice(o,1),l&&!s.length&&(r[r.length-1]=void 0)):(r[r.length-1]=s=n.__assign({},s),delete s[o]);r.length>1;){var d=r.pop();Array.isArray(r[r.length-1])?r[r.length-1]=r[r.length-1].concat():r[r.length-1]=n.__assign({},r[r.length-1]),void 0===d?delete r[r.length-1][i[r.length-1]]:r[r.length-1][i[r.length-1]]=d}return r[0]},t.JSONMerge=function e(t,a){if(!A(t)||!A(a))return a;if(!f(t,a))return t;var n={};return t.$$id&&(n.$$id=t.$$id),Object.keys(a).forEach((function(l){Array.isArray(a[l])&&Array.isArray(t[l])&&a[l]!==t[l]?n[l]=a[l].map((function(a,n){return t[l][n]?e(t[l][n],a):a})):void 0===t[l]?n[l]=a[l]:n[l]=e(t[l],a[l])})),n},t.JSONChangeInArray=P,t.JSONCanMoveUp=function(e,t){var a=k(e,t);return!(!a||!Array.isArray(a))&&_(a,(function(e){return e.$$id===t}))>0},t.JSONMoveUpById=function(e,t){return P(e,t,(function(e,t,a){0!==a&&(e.splice(a,1),e.splice(a-1,0,t))}))},t.JSONCanMoveDown=function(e,t){var a=k(e,t);if(!a||!Array.isArray(a))return!1;var n=_(a,(function(e){return e.$$id===t}));return~n&&n<a.length-1},t.JSONMoveDownById=function(e,t){return P(e,t,(function(e,t,a){a!==e.length-1&&(e.splice(a,1),e.splice(a+1,0,t))}))},t.JSONDuplicate=function(e,t){return P(e,t,(function(e,t,a){var n=T(N(t));e.splice(a+1,0,I(n))}))},t.reGenerateID=I,t.createElementFromHTML=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},t.deepFind=R,t.filterSchemaForConfig=function e(t,a){if(Array.isArray(t))return t.map((function(t){return e(t,a)}));if((0,s.default)(t)){var l={},i=!1;return Object.keys(t).forEach((function(o){var r=t[o],s=e(r,a);if(t.$$commonSchema?l[o]&&(l[o]=s):l[o]=s,s!==r&&(i=!0),"$$commonSchema"!==o||a){if("$$commonSchema"===o&&a){var d=R(a,r);d[r]&&(t=l=n.__assign({},d[r]))}}else t=l={$$commonSchema:r}})),i?l:t}return t},t.filterSchemaForEditor=function e(t){if(Array.isArray(t))return t.map((function(t){return e(t)}));if((0,s.default)(t)){var a={},n=!1;return Object.keys(t).forEach((function(l){var i=t[l];~["visible","visibleOn","hidden","hiddenOn","toggled"].indexOf(l)&&(l="$$".concat(l),n=!0);var o=e(i);a[l]=o,o!==i&&(n=!0)})),n?a:t}return t},t.blackList=function(e){return function(t){return!~e.indexOf(t)}},t.sortByList=function(e,t){var a=t?"function"==typeof t?t:function(e){return e[t]}:function(e){return e};return function(t,n){var l=e.indexOf(a(t)),i=e.indexOf(a(n));return(l=~l?l:999999)>(i=~i?i:999999)?1:l===i?0:-1}},t.persistGet=function(e,t){var a=localStorage.getItem("amis-editor-".concat(e));return a&&(a=JSON.parse(a)),a||t},t.persistSet=function(e,t){t=JSON.stringify(t),localStorage.setItem("amis-editor-".concat(e),t)},t.normalizeId=function(e){return e.replace(/\-[a-z0-9]+$/g,"")},t.autobind=l.utils.autobind,t.addDragingClass=function(e){for(;e&&(e.classList.add("ae-is-draging"),!(null==(e=e.parentElement)?void 0:e.hasAttribute("data-region"))););},t.removeDragingClass=function(e){for(;e&&(e.classList.remove("ae-is-draging"),!(null==(e=e.parentElement)?void 0:e.hasAttribute("data-region"))););},t.camelize=function(e){return e.replace(/\W+(.)/g,(function(e,t){return t.toUpperCase()}))},t.reactionWithOldValue=function(e,t){var a;return(0,o.reaction)(e,(function(e){(0,i.default)(e,a)||(t(e,a),a=e)}))},t.repeatArray=function(e,t){void 0===t&&(t=1);for(var a=[];t-- >0;)a.push(e);return a},t.diff=function(e,t,a){return r.default.diff(e,t,a)},t.patchDiff=function(e,t){return t?t.reduce((function(t,a){return function(e,t,a){if(e&&Array.isArray(null==a?void 0:a.path)){e=e===t?n.__assign({},e):e;var l=a.path.concat();"A"!==a.kind&&l.pop(),l.reduce((function(e,t){var a=e.target,l=e.source[t],i=a[t];return l===i&&(i=Array.isArray(i)?i.concat():n.__assign({},i),a[t]=i),{source:l,target:i}}),{target:e,source:t}),r.default.applyChange(e,t,a)}return e}(t,e,a)}),e):e},t.JSONTraverse=B,t.isNumeric=function(e){return(0,d.default)(e)||!isNaN(parseFloat(String(e).toString()))},t.string2CSSUnit=function(e,a){return void 0===a&&(a="px"),e?(0,t.isNumeric)(e)?"".concat(parseFloat(String(e).toString())).concat(a):e:void 0},t.getEventControlConfig=function(e,t){var a,l,i,o,r;return{showOldEntry:!1!==(null===(a=null==e?void 0:e.config.actionOptions)||void 0===a?void 0:a.showOldEntry)&&(!!t.schema.actionType||["submit","reset"].includes(t.schema.type)),actions:null==e?void 0:e.pluginActions,events:null==e?void 0:e.pluginEvents,getContextSchemas:function(a,l){return n.__awaiter(void 0,void 0,void 0,(function(){var i;return n.__generator(this,(function(n){switch(n.label){case 0:return[4,e.getContextSchemas(null!=a?a:t.id,l)];case 1:return i=n.sent(),a?[2,i]:[2,e.dataSchema]}}))}))},getComponents:function(){var t,a;return(0,u.mapTree)(null!==(a=null===(t=null==e?void 0:e.store)||void 0===t?void 0:t.outline)&&void 0!==a?a:[],(function(t){var a,n,l,i=null===(a=null==e?void 0:e.store)||void 0===a?void 0:a.getSchema(t.id);return{id:t.id,label:t.label,value:null!==(n=null==i?void 0:i.id)&&void 0!==n?n:t.id,type:null!==(l=null==i?void 0:i.type)&&void 0!==l?l:t.type,schema:i,disabled:!!t.region,children:null==t?void 0:t.children}}),1,!0)},actionTree:(null===(l=null==e?void 0:e.config.actionOptions)||void 0===l?void 0:l.actionTreeGetter)?null===(i=null==e?void 0:e.config.actionOptions)||void 0===i?void 0:i.actionTreeGetter(c.default):c.default,actionConfigItemsMap:n.__assign(n.__assign({},(0,p.getActionConfigItemsMap)(e)),null===(r=null===(o=null==e?void 0:e.config.actionOptions)||void 0===o?void 0:o.customActionGetter)||void 0===r?void 0:r.call(o,e)),owner:"",addBroadcast:null==e?void 0:e.addBroadcast,removeBroadcast:null==e?void 0:e.removeBroadcast}},t.isString=function(e){return"String"===Object.prototype.toString.call(e).slice(8,-1)},t.isObject=A,t.jsonToJsonSchema=function(e){void 0===e&&(e={});var t={type:"object",properties:{}};return Object.keys(e).forEach((function(a){var n=e[a],l=typeof n;~["string","number"].indexOf(l)?t.properties[a]={type:l,title:a}:t.properties[a]="object"===l&&n?{type:"object",title:a}:{type:"",title:a}})),t}},1779:e=>{e.exports=require("8f696dd")},1502:e=>{e.exports=require("167c905")},9794:e=>{e.exports=require("c2555e3")},7981:e=>{e.exports=require("d32df82")},2477:e=>{e.exports=require("195b00e")},9643:e=>{e.exports=require("937c141")},6120:e=>{e.exports=require("2b4d884")},5322:e=>{e.exports=require("a2d3c6a")},2167:e=>{e.exports=require("a5149e9")},9003:e=>{e.exports=require("af1cc81")},6410:e=>{e.exports=require("71cb60f")},5720:e=>{e.exports=require("09afeaf")},6517:e=>{e.exports=require("520d1e1")},6897:e=>{e.exports=require("886a827")},9591:e=>{e.exports=require("5850c09")},9131:e=>{e.exports=require("0a00628")},3908:e=>{e.exports=require("7f33406")},6918:e=>{e.exports=require("345ea29")},8425:e=>{e.exports=require("833ad00")},8579:e=>{e.exports=require("3ce129c")},9848:e=>{e.exports=require("a26dc27")},1712:e=>{e.exports=require("855772d")},8492:e=>{e.exports=require("ebad003")},5599:e=>{e.exports=require("a5f055b")},113:e=>{e.exports=require("eb0cd8e")},7078:e=>{e.exports=require("fe8d80a")},5452:e=>{e.exports=require("3638093")},7026:e=>{e.exports=require("4930ed8")},1546:e=>{e.exports=require("1a725ab")},7413:e=>{e.exports=require("84a2c36")},9941:e=>{e.exports=require("729b849")},1831:e=>{e.exports=require("d3d2cdb")},3901:e=>{e.exports=require("a2c664a")},4159:e=>{e.exports=require("c406116")},9822:e=>{e.exports=require("1ea0fb5")},4560:e=>{e.exports=require("600008f")},8459:e=>{e.exports=require("5f53107")},9309:e=>{e.exports=require("531b2d0")},6211:e=>{e.exports=require("f317306")},2062:e=>{e.exports=require("fc22630")},2717:e=>{e.exports=require("2426036")},2245:e=>{e.exports=require("8a4147a")},6689:e=>{e.exports=require("cc4bbf0")},6405:e=>{e.exports=require("3c5b02d")},3001:e=>{e.exports=require("2f854eb")},35:e=>{e.exports=require("3c006bc")},752:e=>{e.exports=require("849c8c1")}},t={};function a(n){var l=t[n];if(void 0!==l)return l.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,a),i.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=a(341),l=exports;for(var i in n)l[i]=n[i];n.__esModule&&Object.defineProperty(l,"__esModule",{value:!0})})();

});
